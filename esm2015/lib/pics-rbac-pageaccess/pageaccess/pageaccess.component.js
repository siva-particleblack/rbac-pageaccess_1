import { Component, ViewChild } from '@angular/core';
import { FormArray, FormControl, FormGroup } from '@angular/forms';
import { forkJoin } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AuthService } from '../@core/service/auth.service';
import { PageAccessService } from '../@core/urls/page-access.service';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import { ManageAccessRadioComponent } from '../@shared/common-components/manage-access-radio/manage-access-radio.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/data-store.service";
import * as i3 from "@angular/router";
import * as i4 from "../@core/service/alert.service";
import * as i5 from "../@shared/alert/alert.component";
import * as i6 from "@angular/material/card";
import * as i7 from "../@shared/common-components/manage-access-radio/manage-access-radio.component";
import * as i8 from "angular2-multiselect-dropdown";
import * as i9 from "@angular/material/radio";
import * as i10 from "primeng/dropdown";
import * as i11 from "primeng/inputnumber";
import * as i12 from "primeng/accordion";
import * as i13 from "@angular/common";
import * as i14 from "../@core/directives/permission.directive";
import * as i15 from "primeng/api";
import * as i16 from "primeng/tooltip";
import * as i17 from "primeng/inputtext";
export class PageaccessComponent {
    constructor(injector, formBuilder, cdRef, _storeservice, router, alert) {
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this._storeservice = _storeservice;
        this.router = router;
        this.alert = alert;
        this.userList = [];
        this.policyGroupData = [];
        this.roleAddedData = [];
        this.pageLevelAccess = false;
        this.multiPageAccess = false;
        this.fieldLevelAccess = false;
        this.moduleList = [];
        this.subModuleList = [];
        this.pageData = [];
        this.pagesList = [];
        this.loadedPagesList = [];
        this.selectedPageData = [];
        this.fData = [];
        this.moduleDropdownSettings = {};
        this.submoduleDropdownSettings = {};
        this.pageDropdownSettings = {};
        this.pageAccessDropdownSettings = {};
        this.fieldAccessDropdownSettings = {};
        this.fieldLevelClick = false;
        this.editPage = false;
        this.selectedFieldData = [];
        this.selectedPageAccessChanges = [];
        this.isRunCond = true;
        this.policyGroupPages = [];
        this.policyGroupRolePages = [];
        this.selectedRole = '';
        this.conditions = [];
        this.permissions = [];
        this.RBACORG = new RBACINFO();
        this.permissionUpdatedPages = [];
        this.pagelevelaccesssavedisable = true;
        this.selectedPages = [];
        this.previousSelection = [];
        this.isPageDeselectSave = false;
        this.deselectedItemIds = [];
        this.isRemoveAllFields = false;
        this.deselectAssetIds = [];
        this.enablesave = true;
        this.pagelevelaccesscountdisable = true;
        this.showFieldGrid = true;
        this.pageAccessService = injector.get(PageAccessService);
        this.authService = injector.get(AuthService);
        this.updatePage = false;
        this.showFieldValidity = false;
        this.conditions = [
            {
                name: 'Days',
                key: 'days'
            },
            {
                name: 'Always',
                key: 'always'
            }
        ];
        this.permissions = [
            {
                name: 'R',
                key: 'r'
            },
            {
                name: 'RW',
                key: 'rw'
            },
            {
                name: 'None',
                key: 'n'
            }
        ];
        this.pageDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            classes: 'myclass custom-class',
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.pageAccessDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.fieldAccessDropdownSettings = {
            singleSelection: true,
            text: 'Select Page',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        // this.orgSubs = this.authService.orgInfo.subscribe(org => {
        //   this.orgId = org;
        //   if (this.orgId) {
        //     this.getOrganizationPage();
        //   }
        // });
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Event Scheduler');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
                if (this.environment) {
                    this.getOrganizationPage();
                    this.loadRbacForm();
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadRbacForm() {
        this.rbacForm = this.formBuilder.group({
            id: new FormControl(null),
            accessBy: new FormControl(null),
            userid: new FormControl(''),
            policyid: new FormControl(null),
            roleid: new FormControl(null),
            provideAccess: new FormControl(null),
            pageAccess: new FormControl('2'),
            validity: new FormControl(null),
            module: new FormControl(null),
            submodule: new FormControl(null),
            pageList: new FormControl(null),
            ppages: new FormControl(null),
            fpages: new FormControl(null),
            fieldLevelData: new FormArray([]),
            pageLevelData: new FormArray([])
        });
    }
    accessBy(evt) {
        this.pagesList = [];
        this.rbacForm.patchValue({ accessBy: evt });
        this.resetForm(evt);
    }
    userDropdown(evt) {
        this.userList = evt;
    }
    roleDropdown(evt) {
        this.roleAddedData = evt;
    }
    policyDropdown(evt) {
        this.policyGroupData = evt;
    }
    dropDownSelectedValues(evt) {
        this.enablesave = false;
        this.selectedRole = '';
        this.updatePage = false;
        this.selectedAccess = evt.from;
        this.selectedName = evt.name;
        this.rbacForm.patchValue({ userid: evt.userid });
        this.rbacForm.patchValue({ roleid: evt.roleid });
        this.rbacForm.patchValue({ policyid: evt.policyid });
        if (this.pagesList.length === 0) {
            this.getOrganizationPage();
        }
        this.getSelectedPages();
        if (evt.from === 'role') {
            this.selectedRole = evt.roleid;
        }
    }
    getOrganizationPage() {
        if (this.orgId) {
            this.pageAccessService.getOrganizationPage(this.orgId).subscribe(res => {
                const data = res['data'];
                if (data && (data === null || data === void 0 ? void 0 : data.length)) {
                    this.pageData = data === null || data === void 0 ? void 0 : data.filter(a => a.activeVersion);
                    this.loadedPagesList = this.pageData.map(x => {
                        return {
                            id: x.activeVersion.pageid,
                            pagename: x.activeVersion.pagename,
                            activeVersion: x.activeVersion
                        };
                    });
                }
            });
        }
    }
    getFallbackPermission(fAccess) {
        var _a, _b;
        if (((_a = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _a === void 0 ? void 0 : _a.pageAccess) === '2' || ((_b = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _b === void 0 ? void 0 : _b.access) === '2') {
            return this.permissions.filter(a => a.key !== 'rw');
        }
        else {
            return this.permissions;
        }
    }
    getSelectedPages(_selectedPages, _pageConfig, _assetconfig) {
        this.policyGroupPages = [];
        this.updatePage = false;
        if (this.selectedAccess === 'user') {
            this.selectedId = this.rbacForm.getRawValue().userid;
        }
        else if (this.selectedAccess === 'role') {
            this.selectedId = this.rbacForm.getRawValue().roleid;
        }
        else {
            this.selectedId = this.rbacForm.getRawValue().policyid;
            this.selectedAccess = 'policygroup';
        }
        this.getGrantedPages();
    }
    getGrantedPages() {
        this.pageAccessService.getDynamicPage(this.selectedAccess, this.selectedId).subscribe(res => {
            let grantedPages;
            if (this.selectedAccess === 'role') {
                grantedPages = res['data'].rolePages;
                this.policyGroupPages = res['data'].policyGroupPages;
                this.pagesList = this.loadedPagesList.map(pages => (Object.assign(Object.assign({}, pages), { disabled: this.checkExistingGrantedPolicyPages(pages, this.policyGroupPages) })));
            }
            else if (this.selectedAccess === 'policygroup') {
                grantedPages = res['data'].policyGroupPages;
                this.policyGroupRolePages = res['data'].policyGroupRolePages.map(policyGroup => (Object.assign(Object.assign({}, policyGroup), { rolepage: [...new Map(policyGroup.rolepage.map(item => { var _a, _b; return [(_b = (_a = item.page[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.id, item]; })).values()] })));
                this.pagesList = this.loadedPagesList.map(pages => (Object.assign(Object.assign({}, pages), { disabled: this.checkExistingGrantedRolePages(pages, this.policyGroupRolePages) })));
            }
            else {
                grantedPages = res['data'];
                this.pagesList = this.loadedPagesList;
            }
            this.loadPages([], null, [], [], this.assetList);
            if (grantedPages.length) {
                this.updatePage = true;
                const pageData = grantedPages.filter(page => page.page).map(a => a.page);
                pageData.forEach(x => { var _a; return (x.pagename = ((_a = x === null || x === void 0 ? void 0 : x.activeVersion) === null || _a === void 0 ? void 0 : _a.pagename) || ''); });
                const uniquePageData = [...new Map(pageData.map(item => [item['id'], item])).values()];
                const pageIDs = uniquePageData.map(a => a['id']);
                const pageConfigData = grantedPages.map(a => {
                    return {
                        id: a.id,
                        isfull: a.full,
                        ishide: a.hide,
                        isread: a.read,
                        isreadwrite: a.readwrite,
                        conditions: a.conditions,
                        page: a.page
                    };
                });
                this.loadPages(uniquePageData, null, pageIDs, pageConfigData, this.assetList);
                this.onControlChanges();
            }
        });
    }
    onControlChanges() {
        const pageLevelAccessFormControl = this.rbacForm.get('pageLevelData');
        pageLevelAccessFormControl.controls.forEach(control => {
            control.valueChanges.pipe(map((value) => {
                console.log('Value Changed');
                if (this.permissionUpdatedPages.some(pageId => pageId === value.pageid)) {
                    this.permissionUpdatedPages = this.permissionUpdatedPages.filter(pageId => pageId !== value.pageid);
                    this.permissionUpdatedPages.push(value.pageid);
                }
                else {
                    this.permissionUpdatedPages.push(value.pageid);
                }
            })).subscribe();
        });
    }
    checkExistingGrantedPolicyPages(page, policyGroupPages) {
        for (const policyGroups of policyGroupPages) {
            for (const pages of policyGroups.policygrouppage) {
                if (pages.page[0].activeVersion.id === page.activeVersion.id) {
                    return true;
                }
            }
        }
    }
    checkExistingGrantedRolePages(page, RolePages) {
        for (const roles of RolePages) {
            for (const pages of roles.rolepage) {
                if (pages.page[0].activeVersion.id === page.activeVersion.id) {
                    return true;
                }
            }
        }
    }
    policyGroupCondition(data, policyGroup) {
        var _a, _b;
        const policyGroupPages = (data === null || data === void 0 ? void 0 : data.data) && (data === null || data === void 0 ? void 0 : data.data.length) ? data === null || data === void 0 ? void 0 : data.data : [];
        const uniquePolicyGroupPages = [...new Map(policyGroupPages.map(item => [item['page']['id'], item])).values()];
        this.policyGroupData = (this.policyGroupData.length && this.policyGroupData) || uniquePolicyGroupPages;
        this.policyGroupPages.push({
            name: (_b = (_a = this.policyGroupData.find(pgd => pgd.policygroup.id === policyGroup.policygroupid)) === null || _a === void 0 ? void 0 : _a.policygroup) === null || _b === void 0 ? void 0 : _b.policygroupname,
            data: uniquePolicyGroupPages
        });
    }
    getConfiguredAssetData(selectedAccess, selectedId) {
        this.pageAccessService.getAssetById(selectedAccess, selectedId).subscribe((res) => {
            this.assetList = res['data'].map(a => {
                return {
                    _id: a === null || a === void 0 ? void 0 : a.id,
                    id: a === null || a === void 0 ? void 0 : a.assetid,
                    isfull: a.full,
                    ishide: a.hide,
                    isread: a.read,
                    isreadwrite: a.readwrite,
                    conditions: a.conditions
                };
            });
        });
    }
    loadPages(tempPageData, action, pageids, pageConfig, fieldConfig) {
        this.pageData = tempPageData || [];
        this.pageData.forEach(a => { var _a, _b; return (a.pagename = tempPageData.length && ((_b = (_a = tempPageData.filter(b => b.id === a.id)[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.pagename)); });
        const pl = this.rbacForm.get('pageList').value;
        if (pageids !== null) {
            const newPages = pl && (pl === null || pl === void 0 ? void 0 : pl.length) ? pl.map(key => key.id) : [];
            const pId = (newPages === null || newPages === void 0 ? void 0 : newPages.length) ? [...new Set(newPages.concat(pageids))] : pageids;
            const pList = this.pageData.filter(key => pId.includes(key.id));
            const pagesList = pList.map(x => {
                return {
                    id: x.id,
                    pagename: x.pagename,
                    activeVersion: x.activeVersion
                };
            });
            this.rbacForm.patchValue({ pageList: pagesList });
        }
        this.populatePage(action, true, null, pageConfig, fieldConfig, pageids);
    }
    populatePage(action, selected, event, pageConfig, fieldConfig, pageids) {
        // if (event) {
        //   if (Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages = event.map(page => page.id)
        //   }
        //   else if (!Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages.push(event.id);
        //   }
        //   else {
        //     this.permissionUpdatedPages = this.permissionUpdatedPages.filter(id => id !== event.id);
        //   }
        // }
        const pageIds = this.rbacForm.get('pageList').value;
        const id = pageIds.map(key => key.id);
        let provideAccess = this.rbacForm.get('provideAccess').value;
        // Logic to handle the deselected item of Pages field
        if (!selected) {
            this.isPageDeselectSave = true;
            const newlyDeselected = this.previousSelection.filter(item => !id.includes(item));
            this.deselectedItemIds = [...new Set([...this.deselectedItemIds, ...newlyDeselected])];
            const fpagesValue = this.rbacForm.get('fpages').value;
            if (fpagesValue && newlyDeselected.includes(fpagesValue)) {
                this.rbacForm.controls['fpages'].setValue(null);
                this.showFieldGrid = false;
            }
        }
        else {
            this.isPageDeselectSave = false;
        }
        this.previousSelection = [...id];
        if (id === null || id === void 0 ? void 0 : id.length) {
            this.isRemoveAllFields = false;
            if (!provideAccess) {
                this.rbacForm.patchValue({ provideAccess: '1' });
                this.pageLevelAccess = this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                provideAccess = '1';
            }
            // Pageids from api
            this.selectedPageData = pageIds;
            this.pagelevelaccesscount = pageIds;
            if ((this.pagelevelaccesscount || this.pagelevelaccesscount.length > 0) && !this.enablesave) {
                this.pagelevelaccesscountdisable = false;
            }
            console.log(this.selectedPageData);
            if (provideAccess === '1') {
                this.rbacForm.patchValue({ ppages: pageIds });
                if (fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.length) {
                    this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                        return {
                            fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                            access: this.checkAccessType(ele),
                            assetid: ele === null || ele === void 0 ? void 0 : ele.assetid,
                            pageId: ele === null || ele === void 0 ? void 0 : ele.id
                        };
                    }), this.selectedFieldData);
                }
                this.getPageLevelList(action, pageConfig);
            }
            else if (provideAccess === '2') {
                if (fieldConfig !== null) {
                    const pList = this.pageData.filter(key => key.id === pageids[0]);
                    this.rbacForm.patchValue({ fpages: pList });
                    this.getFieldLevelList(action, fieldConfig);
                }
                else {
                    const pId = this.selectedPageData.filter(ele => { var _a; return ele.id === ((_a = pageIds[0]) === null || _a === void 0 ? void 0 : _a.id); });
                    this.rbacForm.patchValue({ fpages: pId });
                    this.getFieldLevelList(action, fieldConfig);
                }
            }
        }
        else {
            this.removeAllPopulatePage();
            this.isRemoveAllFields = true;
        }
    }
    removeAllPopulatePage() {
        this.selectedPageData = [];
        this.pageLevelAccess = false;
        this.fieldLevelAccess = false;
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.rbacForm.get('ppages').setValue(null);
        this.rbacForm.get('fpages').setValue(null);
        this.rbacForm.get('provideAccess').setValue(null);
        this.rbacForm.get('pageLevelData').setValue([]);
        this.rbacForm.get('fieldLevelData').setValue([]);
    }
    showLevelAccess(id) {
        var _a, _b;
        const f = this.rbacForm.controls['fieldLevelData'];
        if ((_a = f.getRawValue()) === null || _a === void 0 ? void 0 : _a.length) {
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(f.getRawValue(), this.selectedFieldData);
        }
        f.controls = [];
        const pageIds = this.rbacForm.get('pageList').value;
        if (pageIds != null) {
            if (id === '1') {
                this.pageLevelAccess = true;
                this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                this.pagelevelaccesscount = pageIds;
                if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                    this.pagelevelaccesssavedisable = false;
                    if (!this.rbacForm.get('ppages').value) {
                        this.rbacForm.get('ppages').patchValue(pageIds);
                    }
                }
                this.getSelectedPages();
            }
            else {
                this.getConfiguredAssetData(this.selectedAccess, this.selectedId);
                this.pageLevelAccess = false;
                this.multiPageAccess = false;
                this.fieldLevelAccess = true;
                this.fieldLevelCheckCount = [];
                const fpages = this.rbacForm.get('fpages').value;
                this.fPagesCheckLength(fpages, pageIds);
                this.selectedPageLevelData = this.rbacForm.get('pageLevelData').value;
                if (this.fieldLevelCheckCount && ((_b = this.fieldLevelCheckCount) === null || _b === void 0 ? void 0 : _b.length) > 0) {
                    this.getFieldLevelList('click');
                }
            }
        }
    }
    fPagesCheckLength(fpages, pageIds) {
        if (!fpages || !(fpages === null || fpages === void 0 ? void 0 : fpages.length)) {
            if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                const p = [pageIds];
                this.rbacForm.get('fpages').setValue(p);
            }
        }
    }
    getPageLevelList(action = null, pageConfig = null) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('ppages').value;
        const pId = pAccessId.map(key => key.pageid || key.id);
        // first check exist page config
        if (pageConfig !== null) {
            // check selected value length
            let existSelectedPageId = [];
            if (formValue.pageLevelData.length) {
                existSelectedPageId = formValue.pageLevelData.map(id => id.id);
            }
            const filterdPageConfigArray = pId
                .map(id => pageConfig.find(key => { var _a; return ((_a = key === null || key === void 0 ? void 0 : key.page) === null || _a === void 0 ? void 0 : _a.id) === id; }))
                .filter(config => config !== undefined);
            for (let i = 0; i < pId.length; i++) {
                let setAccess = '';
                setAccess = this.pageAccessService.getPageAccess(filterdPageConfigArray[i]);
                const pageName = this.pageData.filter(key => key.id === pId[i]);
                if (existSelectedPageId.length) {
                    this.getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig);
                }
                else {
                    this.getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig);
                }
            }
        }
        this.forActionClick(action, pId, accessArray);
    }
    getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig) {
        const checkPid = existSelectedPageId.includes(pId[i]);
        if (!checkPid) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(pageName[0]['activeVersion']['pagename']),
                pageid: new FormControl(pId[i]),
                pageAccess: new FormControl(setAccess),
                validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
                condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
            }));
        }
    }
    getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig) {
        accessArray.push(new FormGroup({
            pageName: new FormControl(pageName[0]['pagename']),
            pageid: new FormControl(pId[i]),
            pageAccess: new FormControl(setAccess),
            validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
            condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
            fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
        }));
    }
    forActionClick(action, pId, accessArray) {
        var _a;
        if (action === 'click') {
            const existingValue = ((_a = this.selectedPageLevelData) === null || _a === void 0 ? void 0 : _a.length) ? this.selectedPageLevelData : accessArray.getRawValue();
            let pagesFromField = Array.from(new Set([...this.selectedFieldData].map(ele => ele.pageId))).filter(ele => ele);
            if (pId === null || pId === void 0 ? void 0 : pId.length) {
                pagesFromField = pId;
            }
            if (pagesFromField === null || pagesFromField === void 0 ? void 0 : pagesFromField.length) {
                accessArray.controls = [];
                accessArray.controls = this.pageAccessService.getAccessArrayOnClick(pagesFromField, this.pagesList, this.selectedFieldData, this.savedPageAccessPatching, existingValue);
                this.savedPageAccessPatching = false;
            }
        }
    }
    checkAccessType(data) {
        if (data === null || data === void 0 ? void 0 : data.isfull) {
            return '2';
        }
        else if (data === null || data === void 0 ? void 0 : data.ishide) {
            return '4';
        }
        else if (data === null || data === void 0 ? void 0 : data.isread) {
            return '3';
        }
        else if (data === null || data === void 0 ? void 0 : data.isreadwrite) {
            return '2';
        }
    }
    getFieldLevelList(action = null, fieldConfig = null) {
        const accessArray = this.rbacForm.get('fieldLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('fpages').value;
        const pageIds = this.rbacForm.get('pageList').value;
        // Fieldpagelevel is a variable is the length of the form page and all page other than grid page
        this.fieldLevelCheckCount = pageIds.filter(x => { var _a; return (x.id === (pAccessId && ((_a = pAccessId[0]) === null || _a === void 0 ? void 0 : _a.id))) || x.id === pAccessId; });
        const fieldLevel = pageIds.filter(x => { var _a; return (x.id === (pAccessId && ((_a = pAccessId[0]) === null || _a === void 0 ? void 0 : _a.id))) || x.id === pAccessId; });
        this.fieldPageLevel = fieldLevel.filter(a => a.activeVersion !== null && a.activeVersion.gridconfig == null)
            .map(a => {
            return {
                id: a.activeVersion.pageid,
                pagename: a.activeVersion.pagename,
                activeVersion: a.activeVersion
            };
        });
        console.log(this.fieldPageLevel);
        this.checkFieldLevelCondition(fieldLevel, pAccessId);
        this.fieldConfigCheck(fieldConfig, accessArray);
        if (action === 'click') {
            accessArray.controls = [];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.getAccessArrayCheck(data, formValue, accessArray);
            });
        }
        this.showFieldGrid = true;
    }
    checkFieldLevelCondition(fieldLevel, pAccessId) {
        if (fieldLevel.length > 0) {
            this.showFieldValidity = fieldLevel[0].templatejson ? true : false;
            this.fieldVersionCheck(fieldLevel, pAccessId);
        }
        else {
            this.showFieldValidity = pAccessId[0].templatejson ? true : false;
            if (pAccessId[0]['version']) {
                this.pId = pAccessId[0].pageid;
            }
            else {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
        }
    }
    fieldVersionCheck(fieldLevel, pAccessId) {
        if (fieldLevel[0]['version']) {
            this.pId = fieldLevel[0].pageid;
        }
        else {
            if (Array.isArray(pAccessId)) {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
            else {
                this.pId = pAccessId;
            }
        }
    }
    fieldConfigCheck(fieldConfig, accessArray) {
        if (fieldConfig !== null) {
            accessArray.controls = [];
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                return {
                    fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                    access: this.checkAccessType(ele),
                    assetid: ele.assetid,
                    pageId: ele.id
                };
            }), this.selectedFieldData);
            this.existingSelectedFieldData = [...this.selectedFieldData];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.mergedAsset = this.mergeAsset(data, this.assetList);
                if (this.mergedAsset.includes(undefined)) {
                    this.mergedAsset = data;
                    if (this.mergedAsset.length !== (data === null || data === void 0 ? void 0 : data.length)) {
                        this.mergedAsset = data;
                    }
                }
                this.fData = data;
                this.getMergedAsset(accessArray);
            });
        }
    }
    getMergedAsset(accessArray) {
        for (let i = 0; i < this.mergedAsset.length; i++) {
            const access = this.pageAccessService.getAccess(this.mergedAsset[i], this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(access[i]['displayname']),
                access: new FormControl('2'),
                assetid: new FormControl(access[i]['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.value : '1'),
                condition: new FormControl(this.mergedAsset[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.fallbackTo : '')
            }));
        }
    }
    getAccessArrayCheck(data, formValue, accessArray) {
        var _a, _b, _c, _d, _e;
        if (data === null || data === void 0 ? void 0 : data.length) {
            this.mergedAsset = this.assetList ? this.mergeAsset(data, this.assetList) : data;
            this.checkMergedAsset(data);
            if (formValue.fieldLevelData.length) {
                this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(formValue.fieldLevelData, this.selectedFieldData);
            }
            let access = null;
            if ((_a = this.savedFieldPagesPatching) === null || _a === void 0 ? void 0 : _a.length) {
                access = (_b = this.savedFieldPagesPatching.find(ele => ele.pageid === this.pId)) === null || _b === void 0 ? void 0 : _b.access;
                this.savedFieldPagesPatching = this.savedFieldPagesPatching.filter(ele => ele.pageid !== this.pId);
            }
            this.fData = data;
            const existingFieldDataMap = {};
            if (!access && ((_c = this.selectedFieldData) === null || _c === void 0 ? void 0 : _c.length)) {
                (_e = (_d = this.assetList) === null || _d === void 0 ? void 0 : _d.filter(ele => ele.pageId === this.pId)) === null || _e === void 0 ? void 0 : _e.forEach(ele => {
                    existingFieldDataMap[ele.assetid] = ele.access;
                });
            }
            this.getAccessByAsset(accessArray);
        }
        else {
            accessArray.controls = [];
        }
    }
    checkMergedAsset(data) {
        if (this.mergedAsset.includes(undefined)) {
            this.mergedAsset = data;
            if (this.mergedAsset.length !== data.length) {
                this.mergedAsset = data;
            }
        }
    }
    getAccessByAsset(accessArray) {
        for (const asset of this.mergedAsset) {
            const assetAccess = this.pageAccessService.getAccess(asset, this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(asset['displayname']),
                access: new FormControl(assetAccess ? assetAccess : '2'),
                assetid: new FormControl(asset['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(asset.conditions ? asset.conditions.value : '1'),
                condition: new FormControl(asset.conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(asset.conditions ? asset.conditions.fallbackTo : '')
            }));
        }
    }
    mergeAsset(arr1, arr2) {
        return arr1.map((item, _i) => {
            for (const value of arr2) {
                if (item.id === value.id) {
                    return Object.assign({}, item, value);
                }
            }
        });
    }
    submitAlert() {
        if (!this.fieldLevelAccess && this.permissionUpdatedPages.length) {
            $('#submitAlert').modal('show');
        }
        else {
            this.saveRbac();
        }
    }
    saveRbac() {
        const access = this.rbacForm.getRawValue();
        const pageAccessFormControl = this.rbacForm.get('pageLevelData');
        const userid = this.rbacForm.get('userid').value;
        const roleId = this.rbacForm.get('roleid').value;
        const policyId = this.rbacForm.get('policyid').value;
        if ((this.isPageDeselectSave && this.deselectedItemIds.length > 0) || this.isRemoveAllFields) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            // Collect asset id's for all deselected page id's
            const deselectedAssets = forkJoin(this.deselectedItemIds.map(id => this.pageAccessService.getAssetByPageId(id).pipe(map(res => res['data'].map(item => ({ assetid: item.id }))))));
            // Make a single API call with all deselected asset IDs
            deselectedAssets.pipe(map(assetIdResponses => [].concat(...assetIdResponses))).subscribe(allDeselectedAssetIds => {
                this.pageAccessService.updateAssetOnDeselect(this.selectedAccess, selectedId, allDeselectedAssetIds).subscribe(() => {
                    this.getConfiguredAssetData(this.selectedAccess, selectedId);
                    this.deselectedItemIds = [];
                });
            });
        }
        const fieldLevelData = access.fieldLevelData;
        if (this.fieldLevelAccess === false) {
            this.getPageLevelByArray(pageAccessFormControl);
        }
        else {
            this.getFieldLevelByAsset(fieldLevelData);
        }
        if (this.fieldLevelAccess) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            this.pageAccessService.createAsset(this.selectedAccess, selectedId, this.fullArray).subscribe(_res => {
                this.getConfiguredAssetData(this.selectedAccess, selectedId);
                this.alert.success('Field Access Updated Successfully');
            });
        }
        else {
            if (this.updatePage) {
                if (this.selectedAccess === 'policy') {
                    this.selectedAccess = 'policygroup';
                }
                this.pageAccessService.updateDynamicPage(this.selectedAccess, this.selectedId, this.fullArray).subscribe(_res => {
                    this.permissionUpdatedPages = [];
                    this.getSelectedPages();
                    this.alert.success('Access Updated Successfully');
                }, _err => this.alert.error(AppConstants.errorMessage));
            }
            else {
                this.pageAccessService
                    .createAccess(this.fieldLevelAccess, access.accessBy, this.fullArray, userid, roleId, policyId)
                    .subscribe(_result => {
                    this.permissionUpdatedPages = [];
                    this.getSelectedPages();
                    this.alert.success('Access Saved Successfully');
                }, _error => this.alert.error(AppConstants.errorMessage));
            }
        }
    }
    getPageLevelByArray(pageLevelData) {
        var _a;
        this.fullArray = (_a = pageLevelData === null || pageLevelData === void 0 ? void 0 : pageLevelData.controls) === null || _a === void 0 ? void 0 : _a.map(x => {
            var _a, _b, _c, _d, _e, _f, _g, _h;
            return {
                page: (_a = x === null || x === void 0 ? void 0 : x.value) === null || _a === void 0 ? void 0 : _a.pageid,
                overrideAssetPermissions: this.permissionUpdatedPages.some(pageId => { var _a; return pageId === ((_a = x === null || x === void 0 ? void 0 : x.value) === null || _a === void 0 ? void 0 : _a.pageid); }) || false,
                readwrite: ((_b = x === null || x === void 0 ? void 0 : x.value) === null || _b === void 0 ? void 0 : _b.pageAccess) === '2' ? true : false,
                read: ((_c = x === null || x === void 0 ? void 0 : x.value) === null || _c === void 0 ? void 0 : _c.pageAccess) === '3' ? true : false,
                none: ((_d = x === null || x === void 0 ? void 0 : x.value) === null || _d === void 0 ? void 0 : _d.pageAccess) === '4' ? true : false,
                full: ((_e = x === null || x === void 0 ? void 0 : x.value) === null || _e === void 0 ? void 0 : _e.pageAccess) === '5' ? true : false,
                touched: x === null || x === void 0 ? void 0 : x.touched,
                conditions: ((_f = x === null || x === void 0 ? void 0 : x.value) === null || _f === void 0 ? void 0 : _f.condition) !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: (_g = x === null || x === void 0 ? void 0 : x.value) === null || _g === void 0 ? void 0 : _g.validity,
                        value_type: 'variable',
                        fallbackTo: (_h = x === null || x === void 0 ? void 0 : x.value) === null || _h === void 0 ? void 0 : _h.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    getFieldLevelByAsset(fieldLevelData) {
        this.fullArray = fieldLevelData.map(x => {
            var _a, _b;
            const assetData = (_a = this.assetList) === null || _a === void 0 ? void 0 : _a.filter(a => a.id === x.assetid && a);
            return {
                id: assetData ? (_b = assetData[0]) === null || _b === void 0 ? void 0 : _b._id : null,
                asset: x.assetid,
                readwrite: (x === null || x === void 0 ? void 0 : x.access) === '2' ? true : false,
                read: (x === null || x === void 0 ? void 0 : x.access) === '3' ? true : false,
                none: (x === null || x === void 0 ? void 0 : x.access) === '4' ? true : false,
                full: (x === null || x === void 0 ? void 0 : x.access) === '5' ? true : false,
                conditions: x.condition !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: x.validity,
                        value_type: 'variable',
                        fallbackTo: x.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    // edit functionalites based on policy group
    setPolicyLevelPagePatching(pageConfig, assetconfig) {
        const pageIds = pageConfig.map(key => key.pageid);
        const selectedModules = [];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '1' });
        this.pageLevelAccess = this.multiPageAccess = true;
        this.fieldLevelAccess = false;
        const m = this.rbacForm.get('module').value;
        if (m !== '' && m !== null) {
            const newModule = m.concat(selectedModules);
            const uniqueNewModule = [...new Set(newModule)];
            this.rbacForm.get('module').setValue(uniqueNewModule);
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    setPolicyLevelFieldPatching(pageConfig, assetconfig, from = null) {
        const mKey = assetconfig.filter(key => key.modulekey !== null && key.modulekey !== '' && key.isactive !== '' && key.isactive !== null);
        const mmkey = mKey.map(key => key.modulekey);
        const modules = this.moduleList.filter(key => mmkey.includes(key.refKey));
        const pageId = assetconfig.filter(key => key.pageid !== null);
        const pageIds = pageId.map(key => key.pageid);
        let selectedModules;
        selectedModules = [...new Set(modules)];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '2' });
        this.pageLevelAccess = this.multiPageAccess = false;
        this.fieldLevelAccess = true;
        if (from === 'field') {
            const m = this.rbacForm.get('module').value;
            if (m !== '') {
                const mk = selectedModules.concat(m);
                selectedModules = mk;
                this.rbacForm.patchValue({ module: selectedModules });
            }
            const sm = this.rbacForm.get('submodule').value;
            if (sm !== '') {
                this.rbacForm.patchValue({ module: selectedModules });
            }
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    getDataBasedOnPolicy(from = null) {
        const policyids = this.rbacForm.get('policyid').value.map(a => a.id);
        if (policyids.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            for (let j = 0; j < policyids.length; j++) {
                const pageConfig = this.policyGroupData.filter(key => key.id === policyids[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (policyids.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPageConfig(pageConfig);
                }
            }
        }
        else {
            this.resetForm('3');
            this.rbacForm.patchValue({ accessBy: '3' });
        }
    }
    getCheckPageConfig(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.fieldLevelClick = true;
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getDataBasedOnRole(from = null) {
        const roleIds = this.rbacForm.get('roleid').value.map(a => a.id);
        if (roleIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < roleIds.length; j++) {
                const pageConfig = this.roleAddedData.filter(key => key.id === roleIds[j]);
                this.getOrgId(pageConfig);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (roleIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckRolePolicyGroup(pageConfig);
                }
            }
        }
        else {
            this.resetForm('2');
            this.rbacForm.patchValue({ accessBy: '2' });
        }
    }
    getOrgId(pageConfig) {
        var _a;
        if (pageConfig === null || pageConfig === void 0 ? void 0 : pageConfig.length) {
            this.organisationid = (_a = pageConfig[0]) === null || _a === void 0 ? void 0 : _a.organizationid;
        }
    }
    getCheckRolePolicyGroup(pageConfig) {
        if (pageConfig[0].rolePolicyGroupConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getRoleAndPolicyData(from = null) {
        const userIds = this.rbacForm.get('userid').value.map(a => a.id);
        if (userIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < userIds.length; j++) {
                const pageConfig = this.userList.filter(key => key.id === userIds[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (userIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPolicyLevelField(pageConfig);
                }
            }
        }
        else {
            this.resetForm('1');
            this.rbacForm.patchValue({ accessBy: '1' });
        }
    }
    getCheckPolicyLevelField(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    resetForm(id = null, clear = null) {
        this.subModuleList = this.pageData = this.selectedPageData = [];
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        this.pageLevelAccess = this.fieldLevelAccess = false;
        this.enablesave = true;
        this.pagelevelaccesscountdisable = true;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.policyGroupPages = [];
        this.selectedAccess = '';
        this.selectedName = '';
        this.permissionUpdatedPages = [];
        this.rbacForm.reset();
        if (id !== null) {
            this.rbacForm.patchValue({ accessBy: id });
        }
        else if (clear !== null) {
            this.AddComponent.resetForm();
        }
    }
    redirectList() {
        this.router.navigateByUrl('/pages/rbac/page-access/page-access-list');
    }
    saveAccessPatching() {
        var _a;
        this.savedFieldPagesPatching = [];
        this.savedPageAccessPatching = false;
        if (((_a = this.rbacForm.get('provideAccess')) === null || _a === void 0 ? void 0 : _a.value) === '2') {
            this.savedPageAccessPatching = true;
        }
        else {
            const ppId = this.rbacForm.get('pageLevelData').value;
            this.savedFieldPagesPatching = [];
            if (ppId === null || ppId === void 0 ? void 0 : ppId.length) {
                ppId.forEach(element => {
                    const selectedObj = { pageid: element === null || element === void 0 ? void 0 : element.pageid, access: element === null || element === void 0 ? void 0 : element.pageAccess };
                    this.savedFieldPagesPatching.push(selectedObj);
                });
            }
        }
        this.alert.success('Temporarily saved Data for changes');
    }
    changeFieldAccess(_index) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const fieldValue = this.rbacForm.get('fieldLevelData').value.map(el => el.access);
        let maxOcc = { element: null, occured: 0 };
        fieldValue.reduce((acc, el) => {
            acc[el] = acc[el] ? acc[el] + 1 : 1;
            if (acc[el] > maxOcc.occured) {
                maxOcc = { element: el, occured: acc[el] };
            }
            return acc;
        }, {});
        const pageIndex = this.rbacForm
            .get('pageLevelData')
            .value.findIndex(el => el.pageid === this.rbacForm.get('fieldLevelData').value[0].pageId);
        if (pageIndex > -1) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageName),
                pageid: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageid),
                pageAccess: new FormControl(maxOcc.element ? maxOcc.element : '2')
            }));
            accessArray.removeAt(pageIndex);
            const isExist = this.selectedPageAccessChanges.findIndex(el => el.pageid === this.rbacForm.get('pageLevelData').value[pageIndex].pageid);
            if (isExist > -1) {
                this.selectedPageAccessChanges.splice(isExist, 1);
            }
        }
    }
    changePageAccess(index) {
        var _a;
        const selectedValue = this.rbacForm.get('pageLevelData').value[index];
        const pageLevelData = this.rbacForm.get('pageLevelData');
        const isExist = (_a = this.selectedPageAccessChanges) === null || _a === void 0 ? void 0 : _a.findIndex(el => (el === null || el === void 0 ? void 0 : el.pageid) === selectedValue.pageid);
        if (isExist > -1) {
            this.selectedPageAccessChanges[isExist].pageAccess = selectedValue.pageAccess;
        }
        else {
            this.selectedPageAccessChanges.push(selectedValue);
        }
        if (selectedValue.pageAccess === '4') {
            const conditionControl = pageLevelData.at(index).get('condition');
            conditionControl.setValue('always');
        }
    }
}
PageaccessComponent.fac = i0.ngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i0.ChangeDetectorRef }, { token: i2.DataStoreService }, { token: i3.Router }, { token: i4.AlertService }], target: i0.FactoryTarget.Component });
PageaccessComponent.cmp = i0.ngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PageaccessComponent, selector: "lib-pageaccess", viewQueries: [{ propertyName: "AddComponent", first: true, predicate: ManageAccessRadioComponent, descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"row rbac-card\">\r\n  <div class=\"col-12\">\r\n    <mat-card class=\"mat-card\">\r\n      <mat-card-content class=\"p-2\">\r\n        <form [formGroup]=\"rbacForm\">\r\n          <app-manage-access-radio (accessBy)=\"accessBy($event)\" (userDropdown)=\"userDropdown($event)\"\r\n            (roleDropdown)=\"roleDropdown($event)\" (policyDropdown)=\"policyDropdown($event)\"\r\n            (dropDownSelectedValues)=\"dropDownSelectedValues($event)\"></app-manage-access-radio>\r\n\r\n          <h3 class=\"radio-title mb-2\">Page Access Management</h3>\r\n          <mat-card class=\"mat-card\">\r\n            <mat-card-content class=\"p-2\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Modules</label>\r\n                  <angular2-multiselect [data]=\"moduleList\" [settings]=\"moduleDropdownSettings\"\r\n                    onSelect=\"loadSubModule('click')\" onDeSelect=\"removeSubModule($event)\"\r\n                    onSelectAll=\"loadSubModule('click')\" onDeSelectAll=\"removeAllSubModule()\"\r\n                    formControlName=\"module\"></angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Sub Modules</label>\r\n                  <angular2-multiselect [data]=\"subModuleList\" [settings]=\"submoduleDropdownSettings\"\r\n                    onSelect=\"loadSubModulePage('click')\" onDeSelect=\"removeSubModulePage($event, 'submodule')\"\r\n                    onSelectAll=\"loadSubModulePage('click')\" onDeSelectAll=\"removeAllSubModulePage()\"\r\n                    formControlName=\"submodule\">\r\n                  </angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title\">Pages</label>\r\n                  <angular2-multiselect [data]=\"pagesList\" [settings]=\"pageDropdownSettings\"\r\n                    (onSelect)=\"populatePage('click',true,$event)\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                    (onDeSelect)=\"populatePage('click',false,$event)\" (onSelectAll)=\"populatePage('click',true,$event)\"\r\n                    (onDeSelectAll)=\"removeAllPopulatePage()\" formControlName=\"pageList\"></angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title d-block required\">Provide Access by </label>\r\n                  <mat-radio-group formControlName=\"provideAccess\" (change)=\"showLevelAccess($event.value)\">\r\n                    <mat-radio-button value=\"1\" fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL\">Page Level&nbsp;&nbsp;</mat-radio-button>\r\n                    <mat-radio-button value=\"2\" fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL\">Field Level</mat-radio-button>\r\n                  </mat-radio-group>\r\n                </div> \r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"fieldLevelAccess\">\r\n                  <label class=\"radio-title\">Select Page</label>\r\n                  <br />\r\n                  <p-dropdown id=\"selectpage\" ariaLabelledBy=\"selectpage\" [options]=\"selectedPageData\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                    [filter]=\"true\" [showClear]=\"fieldLevelCheckCount && fieldLevelCheckCount?.length\"\r\n                    [resetFilterOnHide]=\"true\" (onChange)=\"getFieldLevelList('click')\" formControlName=\"fpages\" optionLabel=\"pagename\" optionValue=\"id\"\r\n                    placeholder=\"Select a page\" class=\"dd-stand-size\">\r\n                    <ng-template let-item pTemplate=\"selectedItem\">\r\n                      <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename }}</div>\r\n                    </ng-template>\r\n                    <ng-template let-object pTemplate=\"item\">\r\n                      {{ object.pagename }}\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"pageLevelAccess\" class=\"row\">\r\n                <div class=\"col-12 mt-3 pageLevelAccessTable\">\r\n                  <table aria-describedby=\"pageLevelAccessTable\" class=\"table table-bordered\">\r\n                    <col />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <thead>\r\n                      <th class=\"text-left\">Page Name</th>\r\n                      <th class=\"text-center\">R</th>\r\n                      <th class=\"text-center\">RW</th>\r\n                      <th class=\"text-center\">RWD</th>\r\n                      <th class=\"text-center\">None</th>\r\n                      <th class=\"text-center\">Validity</th>\r\n                    </thead>\r\n                    <tbody>\r\n                      <ng-container formArrayName=\"pageLevelData\"\r\n                        *ngFor=\"let fAccess of rbacForm.get('pageLevelData')['controls']; let i = index\">\r\n                        <tr [formGroup]=\"rbacForm.get('pageLevelData')['controls'][i]\">\r\n                          <td class=\"text-left\">\r\n                            <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                              formControlName=\"pageName\" placeholder=\"pageleveldata\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\" type=\"radio\" value=\"3\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\" type=\"radio\" value=\"2\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE_DELETE\" type=\"radio\" value=\"5\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_NONE\" type=\"radio\" value=\"4\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <ng-container *ngIf=\"\r\n                                  rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                                  rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                                \">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" [disabled]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <p-inputNumber type=\"number\" class=\"validity validity-number\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [readonly]=\"fAccess?.value?.pageAccess === '4'\" [min]=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_VALIDITY\" formControlName=\"validity\"\r\n                                mode=\"decimal\"></p-inputNumber>\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.pageAccess === '3' || fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-container>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\" *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length > 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <thead>\r\n                        <th class=\"text-left\">Field Name</th>\r\n                        <th class=\"text-center\">Read</th>\r\n                        <th class=\"text-center\">Write</th>\r\n                        <th class=\"text-center\">None</th>\r\n                        <th class=\"text-center\" *ngIf=\"showFieldValidity\">Validity</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"3\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"2\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"4\" />\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- This code for field access for grid page -->\r\n              <div class=\"row\" *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length === 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <!-- <col style=\"width: 120px\" /> -->\r\n                      <thead>\r\n                        <tr>\r\n                          <th class=\"text-left\">Field Name</th>\r\n                          <th class=\"text-center\">Read</th>\r\n                          <!-- <th class=\"text-center\">Write</th> -->\r\n                          <th class=\"text-center\">None</th>\r\n                          <th class=\"text-center\" *ngIf=\"showFieldValidity\">Validity</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\"/>\r\n                              <input type=\"hidden\" formControlName=\"pageId\" name=\"permissiongroup_{{i}}\"/>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"3\"/>\r\n                            </td>                                           \r\n                            <!-- <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"2\" />\r\n                            </td> -->\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value = \"4\"/>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\" placeholder=\"Select a condition\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\" [min]=\"1\"\r\n                                formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\" style=\"width: 50px; margin-left: 15px\"\r\n                                pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\" formControlName=\"fallbackTo\"\r\n                                *ngIf=\"fAccess?.value?.condition !== 'always'\" placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\" optionLabel=\"name\"\r\n                                optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </form>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupPages.length && !fieldLevelAccess && selectedAccess === 'role'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Policy Groups associated with {{ selectedName }} Role</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let policyGroup of policyGroupPages\">\r\n                      <div class=\"radio-title mb-2\">Policy Group: {{ policyGroup?.policygroup?.policygroupname }}</div>\r\n                      <!-- It shows associated Roles -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">R</th>\r\n                              <th scope=\"col\" class=\"text-center\">RW</th>\r\n                              <th scope=\"col\" class=\"text-center\">RWD</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of policyGroup?.policygrouppage                        \">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.read\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.readwrite\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.full\" type=\"radio\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.hide\" type=\"radio\" />\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupPages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Policy Group.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n          \r\n        </div>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupRolePages.length && !fieldLevelAccess && selectedAccess === 'policygroup'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Roles associated with {{ selectedName }} Policy Group</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let role of policyGroupRolePages\">\r\n                      <div class=\"radio-title mb-2\">Role: {{ role?.role?.name }}</div>\r\n                      <!-- It shows associated policygroups -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">R</th>\r\n                              <th scope=\"col\" class=\"text-center\">RW</th>\r\n                              <th scope=\"col\" class=\"text-center\">RWD</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of role?.rolepage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.read\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.readwrite\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.full\" type=\"radio\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.hide\" type=\"radio\" />\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupRolePages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Role.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n          \r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf = \"multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\" [disabled]=\"(pagelevelaccesssavedisable && pagelevelaccesscountdisable) || (!this.pagelevelaccesscount || this.pagelevelaccesscount?.length === 0) || (enablesave && pagelevelaccesscount && pagelevelaccesscount?.length > 0)\">Save</button>\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf = \"!multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\" [disabled]=\"((multiPageAccess) || (fieldLevelCheckCount && fieldLevelCheckCount?.length === 0) || (enablesave && fieldLevelCheckCount && fieldLevelCheckCount?.length > 0) || (!pagelevelaccesscount || pagelevelaccesscount?.length === 0))\">Save</button>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"submitAlert\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Page Access - Warning</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        Field Level Access is already present for this Page. Modifying the Page Level Access will remove all Field Level\r\n        Access. Do you want to proceed?\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"saveRbac()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            (click)=\"getSelectedPages()\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".mat-card-content .mat-radio-group .mat-radio-button{padding-right:10px;font-family:\"Roboto\",sans-serif!important}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;padding-bottom:13px}:host ::ng-deep .p-dropdown.nobg{background-color:transparent;border:none}:host ::ng-deep .p-dropdown.nobg:hover,:host ::ng-deep .p-dropdown.nobg:focus{background-color:transparent!important;border:none!important}.pageLevelAccessTable table thead tr th,.pageLevelAccessTable table tbody tr td{vertical-align:middle;color:var(--text-dark)}.pageLevelAccessTable table thead tr th input,.pageLevelAccessTable table tbody tr td input{background:var(--bg-light);color:var(--text-dark)}.pageLevelAccessTable table thead tr th a:hover,.pageLevelAccessTable table tbody tr td a:hover{text-decoration:none}:host ::ng-deep .p-inputtext.validity{height:30px;line-height:13px}:host ::ng-deep .p-inputnumber-input{height:30px;width:50px}:host ::ng-deep .p-dropdown.condition{height:30px;line-height:13px}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .dynamic-search .p-component{font-size:var(--font-13)}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}\n"], components: [{ type: i5.AlertComponent, selector: "app-alert" }, { type: i6.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i7.ManageAccessRadioComponent, selector: "app-manage-access-radio", inputs: ["reloadForm"], outputs: ["accessBy", "policyDropdown", "roleDropdown", "userDropdown", "dropDownSelectedValues"] }, { type: i8.AngularMultiSelect, selector: "angular2-multiselect", inputs: ["settings", "data", "loading"], outputs: ["onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll", "onOpen", "onClose", "onScrollToEnd", "onFilterSelectAll", "onFilterDeSelectAll", "onAddFilterNewItem", "onGroupSelect", "onGroupDeSelect"] }, { type: i9.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i10.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i11.InputNumber, selector: "p-inputNumber", inputs: ["showButtons", "format", "buttonLayout", "inputId", "styleClass", "style", "placeholder", "size", "maxlength", "tabindex", "title", "ariaLabel", "ariaRequired", "name", "required", "autocomplete", "min", "max", "incrementButtonClass", "decrementButtonClass", "incrementButtonIcon", "decrementButtonIcon", "readonly", "step", "allowEmpty", "locale", "localeMatcher", "mode", "currency", "currencyDisplay", "useGrouping", "minFractionDigits", "maxFractionDigits", "prefix", "suffix", "inputStyle", "inputStyleClass", "showClear", "disabled"], outputs: ["onInput", "onFocus", "onBlur", "onKeyDown", "onClear"] }, { type: i12.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { type: i12.AccordionTab, selector: "p-accordionTab", inputs: ["header", "disabled", "cache", "transitionOptions", "selected"], outputs: ["selectedChange"] }], directives: [{ type: i6.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i1.NgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i13.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i14.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i9.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { type: i15.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { type: i16.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { type: i13.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.RadioControlValueAccessor, selector: "input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]", inputs: ["name", "formControlName", "value"] }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { type: i1.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i1.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i17.InputText, selector: "[pInputText]" }] });
i0.ngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-pageaccess',
                    templateUrl: './pageaccess.component.html',
                    styleUrls: ['./pageaccess.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i0.ChangeDetectorRef }, { type: i2.DataStoreService }, { type: i3.Router }, { type: i4.AlertService }]; }, propDecorators: { AddComponent: [{
                type: ViewChild,
                args: [ManageAccessRadioComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZWFjY2Vzcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvcmJhYy1wYWdlYWNjZXNzL3NyYy9saWIvcGljcy1yYmFjLXBhZ2VhY2Nlc3MvcGFnZWFjY2Vzcy9wYWdlYWNjZXNzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9yYmFjLXBhZ2VhY2Nlc3Mvc3JjL2xpYi9waWNzLXJiYWMtcGFnZWFjY2Vzcy9wYWdlYWNjZXNzL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFxQixTQUFTLEVBQW9CLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsU0FBUyxFQUFlLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVoRixPQUFPLEVBQWdCLFFBQVEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM5QyxPQUFPLEVBQUUsR0FBRyxFQUFjLE1BQU0sZ0JBQWdCLENBQUM7QUFDakQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBRWhFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUc1RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDekQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0ZBQWdGLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRNUgsTUFBTSxPQUFPLG1CQUFtQjtJQXFFOUIsWUFDRSxRQUFrQixFQUNWLFdBQXdCLEVBQ3pCLEtBQXdCLEVBQ3ZCLGFBQStCLEVBQy9CLE1BQWMsRUFDZCxLQUFtQjtRQUpuQixnQkFBVyxHQUFYLFdBQVcs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LFNBQVMsRUFBRSxDQUFDLDZCQUE2QixDQUFDO2lCQUMzQzt3T0FzQndDLFlBQVk7c0JBQWxELFNBQVM7dUJBQUMsMEJBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgSW5qZWN0b3IsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEZvcm1BcnJheSwgRm9ybUJ1aWxkZXIsIEZvcm1Db250cm9sLCBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgZm9ya0pvaW4gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgbWFwLCBzd2l0Y2hNYXAgIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyBBcHBDb25zdGFudHMgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvYXBwLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hdXRoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBEYXRhU3RvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9kYXRhLXN0b3JlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL0Bjb3JlL3VybHMvYWNjZXNzX21hbmFnZW1lbnRfZGF0YW1vZGVsJztcclxuaW1wb3J0IHsgUGFnZUFjY2Vzc1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS91cmxzL3BhZ2UtYWNjZXNzLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBSQkFDSU5GTyB9IGZyb20gJy4uL0Bjb3JlL3VybHMvcmJhYy11cmwuY29uZmlnJztcclxuaW1wb3J0IHsgTWFuYWdlQWNjZXNzUmFkaW9Db21wb25lbnQgfSBmcm9tICcuLi9Ac2hhcmVkL2NvbW1vbi1jb21wb25lbnRzL21hbmFnZS1hY2Nlc3MtcmFkaW8vbWFuYWdlLWFjY2Vzcy1yYWRpby5jb21wb25lbnQnO1xyXG5cclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbGliLXBhZ2VhY2Nlc3MnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wYWdlYWNjZXNzLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9wYWdlYWNjZXNzLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFBhZ2VhY2Nlc3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICByYmFjRm9ybTogRm9ybUdyb3VwO1xyXG4gIHVzZXJMaXN0OiBhbnlbXSA9IFtdO1xyXG4gIHBvbGljeUdyb3VwRGF0YTogYW55W10gPSBbXTtcclxuICByb2xlQWRkZWREYXRhOiBhbnlbXSA9IFtdO1xyXG4gIHBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gIG11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gIGZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICBtb2R1bGVMaXN0ID0gW107XHJcbiAgc3ViTW9kdWxlTGlzdCA9IFtdO1xyXG4gIHBhZ2VEYXRhID0gW107XHJcbiAgcGFnZXNMaXN0ID0gW107XHJcbiAgbG9hZGVkUGFnZXNMaXN0ID0gW107XHJcbiAgc2VsZWN0ZWRQYWdlRGF0YSA9IFtdO1xyXG4gIGZEYXRhID0gW107XHJcbiAgbW9kdWxlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHN1Ym1vZHVsZURyb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBwYWdlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHBhZ2VBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgZmllbGRBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgQFZpZXdDaGlsZChNYW5hZ2VBY2Nlc3NSYWRpb0NvbXBvbmVudCkgQWRkQ29tcG9uZW50O1xyXG4gIGZpZWxkTGV2ZWxDbGljayA9IGZhbHNlO1xyXG4gIGVkaXRQYWdlID0gZmFsc2U7XHJcbiAgc2VsZWN0ZWRGaWVsZERhdGE6IGFueVtdID0gW107XHJcbiAgb3JnYW5pc2F0aW9uaWQ6IGFueTtcclxuICBleGlzdGluZ1NlbGVjdGVkRmllbGREYXRhOiBhbnlbXTtcclxuICBzYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZzogYm9vbGVhbjtcclxuICBzYXZlZEZpZWxkUGFnZXNQYXRjaGluZzogYW55W107XHJcbiAgc2VsZWN0ZWRQYWdlTGV2ZWxEYXRhOiBhbnlbXTtcclxuICBzZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzID0gW107XHJcbiAgaXNSdW5Db25kID0gdHJ1ZTtcclxuICBzZWxlY3RlZEFjY2Vzczogc3RyaW5nO1xyXG4gIHVwZGF0ZVBhZ2U6IGJvb2xlYW47XHJcbiAgc2VsZWN0ZWRJZDogbnVtYmVyO1xyXG4gIHNlbGVjdGVkTmFtZTogc3RyaW5nO1xyXG4gIGFzc2V0TGlzdDogYW55O1xyXG4gIHBvbGljeUdyb3VwUGFnZXM6IEFycmF5PGFueT4gPSBbXTtcclxuICBwb2xpY3lHcm91cFJvbGVQYWdlczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHNlbGVjdGVkUm9sZSA9ICcnO1xyXG4gIGNvbmRpdGlvbnM6IEFycmF5PGFueT4gPSBbXTtcclxuICBwZXJtaXNzaW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHNob3dGaWVsZFZhbGlkaXR5OiBib29sZWFuO1xyXG4gIHBhZ2VBY2Nlc3NTZXJ2aWNlOiBQYWdlQWNjZXNzU2VydmljZTtcclxuICBvcmdTdWJzOiBTdWJzY3JpcHRpb247XHJcbiAgb3JnSWQ6IGFueTtcclxuICBlbnZpcm9ubWVudDogYW55O1xyXG4gIFJCQUNPUkc6IFJCQUNJTkZPID0gbmV3IFJCQUNJTkZPKCk7XHJcbiAgUEVSTUlTU0lPTjogYW55O1xyXG4gIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTtcclxuICBwSWQ6IGFueTtcclxuICBmdWxsQXJyYXk6IGFueTtcclxuICBtZXJnZWRBc3NldDogYW55O1xyXG4gIGh0dHBTZXJ2aWNlOiBhbnk7XHJcbiAgcGVybWlzc2lvblVwZGF0ZWRQYWdlczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIGZpZWxkUGFnZUxldmVsOiBbXTtcclxuICBmaWVsZExldmVsQ2hlY2tDb3VudDogYW55O1xyXG4gIHBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlIDogYm9vbGVhbiA9IHRydWU7XHJcbiAgcGFnZWxldmVsYWNjZXNzY291bnQ6IGFueTtcclxuICBzZWxlY3RlZFBhZ2VzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgcHJldmlvdXNTZWxlY3Rpb246IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICBpc1BhZ2VEZXNlbGVjdFNhdmU6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gIGRlc2VsZWN0ZWRJdGVtSWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgaXNSZW1vdmVBbGxGaWVsZHM6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gIGRlc2VsZWN0QXNzZXRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICBlbmFibGVzYXZlOiBib29sZWFuID0gdHJ1ZTtcclxuICBwYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHNob3dGaWVsZEdyaWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgZm9ybUJ1aWxkZXI6IEZvcm1CdWlsZGVyLFxyXG4gICAgcHVibGljIGNkUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHByaXZhdGUgX3N0b3Jlc2VydmljZTogRGF0YVN0b3JlU2VydmljZSxcclxuICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXHJcbiAgICBwcml2YXRlIGFsZXJ0OiBBbGVydFNlcnZpY2VcclxuICApIHtcclxuICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UgPSBpbmplY3Rvci5nZXQ8UGFnZUFjY2Vzc1NlcnZpY2U+KFBhZ2VBY2Nlc3NTZXJ2aWNlKTtcclxuICAgIHRoaXMuYXV0aFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8QXV0aFNlcnZpY2U+KEF1dGhTZXJ2aWNlKTtcclxuICAgIHRoaXMudXBkYXRlUGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25kaXRpb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0RheXMnLFxyXG4gICAgICAgIGtleTogJ2RheXMnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnQWx3YXlzJyxcclxuICAgICAgICBrZXk6ICdhbHdheXMnXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ1InLFxyXG4gICAgICAgIGtleTogJ3InXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnUlcnLFxyXG4gICAgICAgIGtleTogJ3J3J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ05vbmUnLFxyXG4gICAgICAgIGtleTogJ24nXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnBhZ2VEcm9wZG93blNldHRpbmdzID0ge1xyXG4gICAgICBzaW5nbGVTZWxlY3Rpb246IGZhbHNlLFxyXG4gICAgICB0ZXh0OiAnU2VsZWN0IFBhZ2VzJyxcclxuICAgICAgc2VsZWN0QWxsVGV4dDogJ1NlbGVjdCBBbGwnLFxyXG4gICAgICB1blNlbGVjdEFsbFRleHQ6ICdVblNlbGVjdCBBbGwnLFxyXG4gICAgICBlbmFibGVTZWFyY2hGaWx0ZXI6IHRydWUsXHJcbiAgICAgIGNsYXNzZXM6ICdteWNsYXNzIGN1c3RvbS1jbGFzcycsXHJcbiAgICAgIGxhYmVsS2V5OiAncGFnZW5hbWUnLFxyXG4gICAgICBzZWFyY2hCeTogWydwYWdlbmFtZSddXHJcbiAgICB9O1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzRHJvcGRvd25TZXR0aW5ncyA9IHtcclxuICAgICAgc2luZ2xlU2VsZWN0aW9uOiBmYWxzZSxcclxuICAgICAgdGV4dDogJ1NlbGVjdCBQYWdlcycsXHJcbiAgICAgIHNlbGVjdEFsbFRleHQ6ICdTZWxlY3QgQWxsJyxcclxuICAgICAgdW5TZWxlY3RBbGxUZXh0OiAnVW5TZWxlY3QgQWxsJyxcclxuICAgICAgZW5hYmxlU2VhcmNoRmlsdGVyOiB0cnVlLFxyXG4gICAgICBsYWJlbEtleTogJ3BhZ2VuYW1lJyxcclxuICAgICAgc2VhcmNoQnk6IFsncGFnZW5hbWUnXVxyXG4gICAgfTtcclxuICAgIHRoaXMuZmllbGRBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge1xyXG4gICAgICBzaW5nbGVTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgIHRleHQ6ICdTZWxlY3QgUGFnZScsXHJcbiAgICAgIHNlbGVjdEFsbFRleHQ6ICdTZWxlY3QgQWxsJyxcclxuICAgICAgdW5TZWxlY3RBbGxUZXh0OiAnVW5TZWxlY3QgQWxsJyxcclxuICAgICAgZW5hYmxlU2VhcmNoRmlsdGVyOiB0cnVlLFxyXG4gICAgICBsYWJlbEtleTogJ3BhZ2VuYW1lJyxcclxuICAgICAgc2VhcmNoQnk6IFsncGFnZW5hbWUnXVxyXG4gICAgfTtcclxuICAgIHRoaXMuZmllbGRMZXZlbENoZWNrQ291bnQgPSBbXTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgPSBbXTtcclxuICAgIC8vIHRoaXMub3JnU3VicyA9IHRoaXMuYXV0aFNlcnZpY2Uub3JnSW5mby5zdWJzY3JpYmUob3JnID0+IHtcclxuICAgIC8vICAgdGhpcy5vcmdJZCA9IG9yZztcclxuICAgIC8vICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgIC8vICAgICB0aGlzLmdldE9yZ2FuaXphdGlvblBhZ2UoKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHsgXHJcbiAgICB0aGlzLm9yZ1N1YnMgPSB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlc1snUkJBQ09SRyddICYmIHJlc1snUkJBQ09SRyddICE9PSAnJykge1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUkJBQ09SRywgJ1JCQUNPUkcgRXZlbnQgU2NoZWR1bGVyJyk7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHRoaXMuUkJBQ09SR1snZW52aXJvbm1lbnQnXTtcclxuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gcmVzWydIVFRQU0VSVklDRSddXHJcbiAgICAgICAgaWYgKHRoaXMuZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uUGFnZSgpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkUmJhY0Zvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuICBsb2FkUmJhY0Zvcm0oKSB7XHJcbiAgICB0aGlzLnJiYWNGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XHJcbiAgICAgIGlkOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGFjY2Vzc0J5OiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHVzZXJpZDogbmV3IEZvcm1Db250cm9sKCcnKSxcclxuICAgICAgcG9saWN5aWQ6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcm9sZWlkOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHByb3ZpZGVBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKCcyJyksXHJcbiAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIG1vZHVsZTogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBzdWJtb2R1bGU6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcGFnZUxpc3Q6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcHBhZ2VzOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGZwYWdlczogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBmaWVsZExldmVsRGF0YTogbmV3IEZvcm1BcnJheShbXSksXHJcbiAgICAgIHBhZ2VMZXZlbERhdGE6IG5ldyBGb3JtQXJyYXkoW10pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFjY2Vzc0J5KGV2dCkge1xyXG4gICAgdGhpcy5wYWdlc0xpc3QgPSBbXTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiBldnQgfSk7XHJcbiAgICB0aGlzLnJlc2V0Rm9ybShldnQpO1xyXG4gIH1cclxuICB1c2VyRHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnVzZXJMaXN0ID0gZXZ0O1xyXG4gIH1cclxuICByb2xlRHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnJvbGVBZGRlZERhdGEgPSBldnQ7XHJcbiAgfVxyXG4gIHBvbGljeURyb3Bkb3duKGV2dCkge1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cERhdGEgPSBldnQ7XHJcbiAgfVxyXG4gIGRyb3BEb3duU2VsZWN0ZWRWYWx1ZXMoZXZ0KSB7XHJcbiAgICB0aGlzLmVuYWJsZXNhdmUgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gJyc7XHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSBldnQuZnJvbTtcclxuICAgIHRoaXMuc2VsZWN0ZWROYW1lID0gZXZ0Lm5hbWU7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyB1c2VyaWQ6IGV2dC51c2VyaWQgfSk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyByb2xlaWQ6IGV2dC5yb2xlaWQgfSk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwb2xpY3lpZDogZXZ0LnBvbGljeWlkIH0pO1xyXG4gICAgaWYgKHRoaXMucGFnZXNMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmdldE9yZ2FuaXphdGlvblBhZ2UoKTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcygpO1xyXG4gICAgaWYgKGV2dC5mcm9tID09PSAncm9sZScpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFJvbGUgPSBldnQucm9sZWlkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0T3JnYW5pemF0aW9uUGFnZSgpIHtcclxuICAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0T3JnYW5pemF0aW9uUGFnZSh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VEYXRhID0gZGF0YT8uZmlsdGVyKGEgPT4gYS5hY3RpdmVWZXJzaW9uKTtcclxuICAgICAgICAgIHRoaXMubG9hZGVkUGFnZXNMaXN0ID0gdGhpcy5wYWdlRGF0YS5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHguYWN0aXZlVmVyc2lvbi5wYWdlaWQsXHJcbiAgICAgICAgICAgICAgcGFnZW5hbWU6IHguYWN0aXZlVmVyc2lvbi5wYWdlbmFtZSxcclxuICAgICAgICAgICAgICBhY3RpdmVWZXJzaW9uOiB4LmFjdGl2ZVZlcnNpb25cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2Vzcykge1xyXG4gICAgaWYgKGZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnMicgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzInKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25zLmZpbHRlcihhID0+IGEua2V5ICE9PSAncncnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25zO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0ZWRQYWdlcyhfc2VsZWN0ZWRQYWdlcz86IGFueSwgX3BhZ2VDb25maWc/OiBhbnksIF9hc3NldGNvbmZpZz86IGFueSkge1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cFBhZ2VzID0gW107XHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2UgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnVzZXJpZDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5yb2xlaWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucG9saWN5aWQ7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRHcmFudGVkUGFnZXMoKTtcclxuICB9XHJcblxyXG4gIGdldEdyYW50ZWRQYWdlcygpIHtcclxuICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0RHluYW1pY1BhZ2UodGhpcy5zZWxlY3RlZEFjY2VzcywgdGhpcy5zZWxlY3RlZElkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgbGV0IGdyYW50ZWRQYWdlczogYW55O1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgICAgZ3JhbnRlZFBhZ2VzID0gcmVzWydkYXRhJ10ucm9sZVBhZ2VzO1xyXG4gICAgICAgIHRoaXMucG9saWN5R3JvdXBQYWdlcyA9IHJlc1snZGF0YSddLnBvbGljeUdyb3VwUGFnZXM7XHJcbiAgICAgICAgdGhpcy5wYWdlc0xpc3QgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdC5tYXAocGFnZXMgPT4gKHtcclxuICAgICAgICAgIC4uLnBhZ2VzLFxyXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY2hlY2tFeGlzdGluZ0dyYW50ZWRQb2xpY3lQYWdlcyhwYWdlcywgdGhpcy5wb2xpY3lHcm91cFBhZ2VzKVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncG9saWN5Z3JvdXAnKSB7XHJcbiAgICAgICAgZ3JhbnRlZFBhZ2VzID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBQYWdlcztcclxuICAgICAgICB0aGlzLnBvbGljeUdyb3VwUm9sZVBhZ2VzID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBSb2xlUGFnZXMubWFwKHBvbGljeUdyb3VwID0+ICh7XHJcbiAgICAgICAgICAuLi5wb2xpY3lHcm91cCxcclxuICAgICAgICAgIHJvbGVwYWdlOiBbLi4ubmV3IE1hcChwb2xpY3lHcm91cC5yb2xlcGFnZS5tYXAoaXRlbSA9PiBbaXRlbS5wYWdlWzBdPy5hY3RpdmVWZXJzaW9uPy5pZCwgaXRlbV0pKS52YWx1ZXMoKV1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5wYWdlc0xpc3QgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdC5tYXAocGFnZXMgPT4gKHtcclxuICAgICAgICAgIC4uLnBhZ2VzLFxyXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY2hlY2tFeGlzdGluZ0dyYW50ZWRSb2xlUGFnZXMocGFnZXMsIHRoaXMucG9saWN5R3JvdXBSb2xlUGFnZXMpXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGdyYW50ZWRQYWdlcyA9IHJlc1snZGF0YSddO1xyXG4gICAgICAgIHRoaXMucGFnZXNMaXN0ID0gdGhpcy5sb2FkZWRQYWdlc0xpc3Q7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5sb2FkUGFnZXMoW10sIG51bGwsIFtdLCBbXSwgdGhpcy5hc3NldExpc3QpO1xyXG4gICAgICBpZiAoZ3JhbnRlZFBhZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlUGFnZSA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcGFnZURhdGEgPSBncmFudGVkUGFnZXMuZmlsdGVyKHBhZ2UgPT4gcGFnZS5wYWdlKS5tYXAoYSA9PiBhLnBhZ2UpO1xyXG4gICAgICAgIHBhZ2VEYXRhLmZvckVhY2goeCA9PiAoeC5wYWdlbmFtZSA9IHg/LmFjdGl2ZVZlcnNpb24/LnBhZ2VuYW1lIHx8ICcnKSk7XHJcbiAgICAgICAgY29uc3QgdW5pcXVlUGFnZURhdGEgPSBbLi4ubmV3IE1hcChwYWdlRGF0YS5tYXAoaXRlbSA9PiBbaXRlbVsnaWQnXSwgaXRlbV0pKS52YWx1ZXMoKV07XHJcbiAgICAgICAgY29uc3QgcGFnZUlEcyA9IHVuaXF1ZVBhZ2VEYXRhLm1hcChhID0+IGFbJ2lkJ10pO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VDb25maWdEYXRhID0gZ3JhbnRlZFBhZ2VzLm1hcChhID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBhLmlkLFxyXG4gICAgICAgICAgICBpc2Z1bGw6IGEuZnVsbCxcclxuICAgICAgICAgICAgaXNoaWRlOiBhLmhpZGUsXHJcbiAgICAgICAgICAgIGlzcmVhZDogYS5yZWFkLFxyXG4gICAgICAgICAgICBpc3JlYWR3cml0ZTogYS5yZWFkd3JpdGUsXHJcbiAgICAgICAgICAgIGNvbmRpdGlvbnM6IGEuY29uZGl0aW9ucyxcclxuICAgICAgICAgICAgcGFnZTogYS5wYWdlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZFBhZ2VzKHVuaXF1ZVBhZ2VEYXRhLCBudWxsLCBwYWdlSURzLCBwYWdlQ29uZmlnRGF0YSwgdGhpcy5hc3NldExpc3QpO1xyXG4gICAgICAgIHRoaXMub25Db250cm9sQ2hhbmdlcygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uQ29udHJvbENoYW5nZXMoKSB7XHJcbiAgICBjb25zdCBwYWdlTGV2ZWxBY2Nlc3NGb3JtQ29udHJvbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgcGFnZUxldmVsQWNjZXNzRm9ybUNvbnRyb2wuY29udHJvbHMuZm9yRWFjaChcclxuICAgICAgY29udHJvbCA9PiB7XHJcbiAgICAgICAgY29udHJvbC52YWx1ZUNoYW5nZXMucGlwZShcclxuICAgICAgICAgIG1hcCgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhbHVlIENoYW5nZWQnKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnNvbWUocGFnZUlkID0+IHBhZ2VJZCA9PT0gdmFsdWUucGFnZWlkKSkge1xyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5maWx0ZXIocGFnZUlkID0+IHBhZ2VJZCAhPT0gdmFsdWUucGFnZWlkKVxyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5wdXNoKHZhbHVlLnBhZ2VpZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMucHVzaCh2YWx1ZS5wYWdlaWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgICApLnN1YnNjcmliZSgpO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBjaGVja0V4aXN0aW5nR3JhbnRlZFBvbGljeVBhZ2VzKHBhZ2UsIHBvbGljeUdyb3VwUGFnZXMpIHtcclxuICAgIGZvciAoY29uc3QgcG9saWN5R3JvdXBzIG9mIHBvbGljeUdyb3VwUGFnZXMpIHtcclxuICAgICAgZm9yIChjb25zdCBwYWdlcyBvZiBwb2xpY3lHcm91cHMucG9saWN5Z3JvdXBwYWdlKSB7XHJcbiAgICAgICAgaWYgKHBhZ2VzLnBhZ2VbMF0uYWN0aXZlVmVyc2lvbi5pZCA9PT0gcGFnZS5hY3RpdmVWZXJzaW9uLmlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrRXhpc3RpbmdHcmFudGVkUm9sZVBhZ2VzKHBhZ2UsIFJvbGVQYWdlcykge1xyXG4gICAgZm9yIChjb25zdCByb2xlcyBvZiBSb2xlUGFnZXMpIHtcclxuICAgICAgZm9yIChjb25zdCBwYWdlcyBvZiByb2xlcy5yb2xlcGFnZSkge1xyXG4gICAgICAgIGlmIChwYWdlcy5wYWdlWzBdLmFjdGl2ZVZlcnNpb24uaWQgPT09IHBhZ2UuYWN0aXZlVmVyc2lvbi5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHBvbGljeUdyb3VwQ29uZGl0aW9uKGRhdGEsIHBvbGljeUdyb3VwKSB7XHJcbiAgICBjb25zdCBwb2xpY3lHcm91cFBhZ2VzID0gZGF0YT8uZGF0YSAmJiBkYXRhPy5kYXRhLmxlbmd0aCA/IGRhdGE/LmRhdGEgOiBbXTtcclxuICAgIGNvbnN0IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXMgPSBbLi4ubmV3IE1hcChwb2xpY3lHcm91cFBhZ2VzLm1hcChpdGVtID0+IFtpdGVtWydwYWdlJ11bJ2lkJ10sIGl0ZW1dKSkudmFsdWVzKCldO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cERhdGEgPSAodGhpcy5wb2xpY3lHcm91cERhdGEubGVuZ3RoICYmIHRoaXMucG9saWN5R3JvdXBEYXRhKSB8fCB1bmlxdWVQb2xpY3lHcm91cFBhZ2VzO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cFBhZ2VzLnB1c2goe1xyXG4gICAgICBuYW1lOiB0aGlzLnBvbGljeUdyb3VwRGF0YS5maW5kKHBnZCA9PiBwZ2QucG9saWN5Z3JvdXAuaWQgPT09IHBvbGljeUdyb3VwLnBvbGljeWdyb3VwaWQpPy5wb2xpY3lncm91cFxyXG4gICAgICAgID8ucG9saWN5Z3JvdXBuYW1lLFxyXG4gICAgICBkYXRhOiB1bmlxdWVQb2xpY3lHcm91cFBhZ2VzXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENvbmZpZ3VyZWRBc3NldERhdGEoc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpIHtcclxuICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QXNzZXRCeUlkKHNlbGVjdGVkQWNjZXNzLCBzZWxlY3RlZElkKS5zdWJzY3JpYmUoKHJlczogQXNzZXRbXSkgPT4ge1xyXG4gICAgICB0aGlzLmFzc2V0TGlzdCA9IHJlc1snZGF0YSddLm1hcChhID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgX2lkOiBhPy5pZCxcclxuICAgICAgICAgIGlkOiBhPy5hc3NldGlkLFxyXG4gICAgICAgICAgaXNmdWxsOiBhLmZ1bGwsXHJcbiAgICAgICAgICBpc2hpZGU6IGEuaGlkZSxcclxuICAgICAgICAgIGlzcmVhZDogYS5yZWFkLFxyXG4gICAgICAgICAgaXNyZWFkd3JpdGU6IGEucmVhZHdyaXRlLFxyXG4gICAgICAgICAgY29uZGl0aW9uczogYS5jb25kaXRpb25zXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxvYWRQYWdlcyh0ZW1wUGFnZURhdGEsIGFjdGlvbiwgcGFnZWlkcywgcGFnZUNvbmZpZywgZmllbGRDb25maWcpIHtcclxuICAgIHRoaXMucGFnZURhdGEgPSB0ZW1wUGFnZURhdGEgfHwgW107XHJcbiAgICB0aGlzLnBhZ2VEYXRhLmZvckVhY2goXHJcbiAgICAgIGEgPT4gKGEucGFnZW5hbWUgPSB0ZW1wUGFnZURhdGEubGVuZ3RoICYmIHRlbXBQYWdlRGF0YS5maWx0ZXIoYiA9PiBiLmlkID09PSBhLmlkKVswXT8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWUpXHJcbiAgICApO1xyXG4gICAgY29uc3QgcGwgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxpc3QnKS52YWx1ZTtcclxuICAgIGlmIChwYWdlaWRzICE9PSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IG5ld1BhZ2VzID0gcGwgJiYgcGw/Lmxlbmd0aCA/IHBsLm1hcChrZXkgPT4ga2V5LmlkKSA6IFtdO1xyXG4gICAgICBjb25zdCBwSWQgPSBuZXdQYWdlcz8ubGVuZ3RoID8gWy4uLm5ldyBTZXQobmV3UGFnZXMuY29uY2F0KHBhZ2VpZHMpKV0gOiBwYWdlaWRzO1xyXG4gICAgICBjb25zdCBwTGlzdCA9IHRoaXMucGFnZURhdGEuZmlsdGVyKGtleSA9PiBwSWQuaW5jbHVkZXMoa2V5LmlkKSk7XHJcbiAgICAgIGNvbnN0IHBhZ2VzTGlzdCA9IHBMaXN0Lm1hcCh4ID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IHguaWQsXHJcbiAgICAgICAgICBwYWdlbmFtZTogeC5wYWdlbmFtZSxcclxuICAgICAgICAgIGFjdGl2ZVZlcnNpb246IHguYWN0aXZlVmVyc2lvblxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwYWdlTGlzdDogcGFnZXNMaXN0IH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wb3B1bGF0ZVBhZ2UoYWN0aW9uLCB0cnVlLCBudWxsLCBwYWdlQ29uZmlnLCBmaWVsZENvbmZpZywgcGFnZWlkcyk7XHJcbiAgfVxyXG5cclxuICBwb3B1bGF0ZVBhZ2UoYWN0aW9uOiBhbnksIHNlbGVjdGVkPzogYW55LCBldmVudD86IGFueSwgcGFnZUNvbmZpZz86IGFueSwgZmllbGRDb25maWc/OiBhbnksIHBhZ2VpZHM/OiBhbnkpIHtcclxuICAgIC8vIGlmIChldmVudCkge1xyXG4gICAgLy8gICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkgJiYgc2VsZWN0ZWQpIHtcclxuICAgIC8vICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSBldmVudC5tYXAocGFnZSA9PiBwYWdlLmlkKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGV2ZW50KSAmJiBzZWxlY3RlZCkge1xyXG4gICAgLy8gICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5wdXNoKGV2ZW50LmlkKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICBlbHNlIHtcclxuICAgIC8vICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMuZmlsdGVyKGlkID0+IGlkICE9PSBldmVudC5pZCk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICAgIGNvbnN0IHBhZ2VJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxpc3QnKS52YWx1ZTtcclxuICAgIGNvbnN0IGlkID0gcGFnZUlkcy5tYXAoa2V5ID0+IGtleS5pZCk7XHJcbiAgICBsZXQgcHJvdmlkZUFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcblxyXG4gICAgLy8gTG9naWMgdG8gaGFuZGxlIHRoZSBkZXNlbGVjdGVkIGl0ZW0gb2YgUGFnZXMgZmllbGRcclxuICAgIGlmICghc2VsZWN0ZWQpIHtcclxuICAgICAgdGhpcy5pc1BhZ2VEZXNlbGVjdFNhdmUgPSB0cnVlO1xyXG4gICAgICBjb25zdCBuZXdseURlc2VsZWN0ZWQgPSB0aGlzLnByZXZpb3VzU2VsZWN0aW9uLmZpbHRlcihpdGVtID0+ICFpZC5pbmNsdWRlcyhpdGVtKSk7XHJcbiAgICAgIHRoaXMuZGVzZWxlY3RlZEl0ZW1JZHMgPSBbLi4ubmV3IFNldChbLi4udGhpcy5kZXNlbGVjdGVkSXRlbUlkcywgLi4ubmV3bHlEZXNlbGVjdGVkXSldO1xyXG4gICAgICBjb25zdCBmcGFnZXNWYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS52YWx1ZTtcclxuICAgICAgaWYgKGZwYWdlc1ZhbHVlICYmIG5ld2x5RGVzZWxlY3RlZC5pbmNsdWRlcyhmcGFnZXNWYWx1ZSkpIHtcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZwYWdlcyddLnNldFZhbHVlKG51bGwpO1xyXG4gICAgICAgICAgdGhpcy5zaG93RmllbGRHcmlkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHRoaXMuaXNQYWdlRGVzZWxlY3RTYXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLnByZXZpb3VzU2VsZWN0aW9uID0gWy4uLmlkXTtcclxuXHJcbiAgICBpZiAoaWQ/Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmlzUmVtb3ZlQWxsRmllbGRzID0gZmFsc2U7XHJcbiAgICAgIGlmICghcHJvdmlkZUFjY2Vzcykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHByb3ZpZGVBY2Nlc3M6ICcxJyB9KTtcclxuICAgICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICBwcm92aWRlQWNjZXNzID0gJzEnO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFBhZ2VpZHMgZnJvbSBhcGlcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VEYXRhID0gcGFnZUlkcztcclxuICAgICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudCA9IHBhZ2VJZHM7XHJcbiAgICAgIGlmKCh0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50IHx8IHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQubGVuZ3RoID4gMCkgJiYgIXRoaXMuZW5hYmxlc2F2ZSl7XHJcbiAgICAgICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFBhZ2VEYXRhKTtcclxuICAgICAgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcxJykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBwYWdlczogcGFnZUlkcyB9KTtcclxuICAgICAgICBpZiAoZmllbGRDb25maWc/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgICAgIGZpZWxkQ29uZmlnPy5tYXAoZWxlID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZmllbGROYW1lOiBlbGU/LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgYWNjZXNzOiB0aGlzLmNoZWNrQWNjZXNzVHlwZShlbGUpLFxyXG4gICAgICAgICAgICAgICAgYXNzZXRpZDogZWxlPy5hc3NldGlkLFxyXG4gICAgICAgICAgICAgICAgcGFnZUlkOiBlbGU/LmlkXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0UGFnZUxldmVsTGlzdChhY3Rpb24sIHBhZ2VDb25maWcpO1xyXG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcyJykge1xyXG4gICAgICAgIGlmIChmaWVsZENvbmZpZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc3QgcExpc3QgPSB0aGlzLnBhZ2VEYXRhLmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSBwYWdlaWRzWzBdKTtcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGZwYWdlczogcExpc3QgfSk7XHJcbiAgICAgICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KGFjdGlvbiwgZmllbGRDb25maWcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBwSWQgPSB0aGlzLnNlbGVjdGVkUGFnZURhdGEuZmlsdGVyKGVsZSA9PiBlbGUuaWQgPT09IHBhZ2VJZHNbMF0/LmlkKTtcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGZwYWdlczogcElkIH0pO1xyXG4gICAgICAgICAgdGhpcy5nZXRGaWVsZExldmVsTGlzdChhY3Rpb24sIGZpZWxkQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlQWxsUG9wdWxhdGVQYWdlKCk7XHJcbiAgICAgIHRoaXMuaXNSZW1vdmVBbGxGaWVsZHMgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQWxsUG9wdWxhdGVQYWdlKCkge1xyXG4gICAgdGhpcy5zZWxlY3RlZFBhZ2VEYXRhID0gW107XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gW107XHJcbiAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gdHJ1ZTtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykuc2V0VmFsdWUobnVsbCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgnZnBhZ2VzJykuc2V0VmFsdWUobnVsbCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncHJvdmlkZUFjY2VzcycpLnNldFZhbHVlKG51bGwpO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS5zZXRWYWx1ZShbXSk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKS5zZXRWYWx1ZShbXSk7XHJcbiAgfVxyXG5cclxuICBzaG93TGV2ZWxBY2Nlc3MoaWQpIHtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBpZiAoZi5nZXRSYXdWYWx1ZSgpPy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoZi5nZXRSYXdWYWx1ZSgpLCB0aGlzLnNlbGVjdGVkRmllbGREYXRhKTtcclxuICAgIH1cclxuICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgIGNvbnN0IHBhZ2VJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxpc3QnKS52YWx1ZTtcclxuICAgIGlmKHBhZ2VJZHMgIT0gbnVsbCl7XHJcbiAgICAgIGlmIChpZCA9PT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gcGFnZUlkcztcclxuICAgICAgICBpZiAocGFnZUlkcz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAoIXRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykucGF0Y2hWYWx1ZShwYWdlSWRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHRoaXMuc2VsZWN0ZWRJZCk7XHJcbiAgICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGZwYWdlcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS52YWx1ZTtcclxuICAgICAgICB0aGlzLmZQYWdlc0NoZWNrTGVuZ3RoKGZwYWdlcywgcGFnZUlkcyk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VMZXZlbERhdGEgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlO1xyXG4gICAgICAgIGlmKHRoaXMuZmllbGRMZXZlbENoZWNrQ291bnQgJiYgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgdGhpcy5nZXRGaWVsZExldmVsTGlzdCgnY2xpY2snKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZQYWdlc0NoZWNrTGVuZ3RoKGZwYWdlcywgcGFnZUlkcykge1xyXG4gICAgaWYgKCFmcGFnZXMgfHwgIWZwYWdlcz8ubGVuZ3RoKSB7XHJcbiAgICAgIGlmIChwYWdlSWRzPy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBwID0gW3BhZ2VJZHNdO1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS5zZXRWYWx1ZShwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBnZXRQYWdlTGV2ZWxMaXN0KGFjdGlvbiA9IG51bGwsIHBhZ2VDb25maWcgPSBudWxsKSB7XHJcbiAgICBjb25zdCBhY2Nlc3NBcnJheSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgZm9ybVZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpO1xyXG4gICAgY29uc3QgcEFjY2Vzc0lkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BwYWdlcycpLnZhbHVlO1xyXG4gICAgY29uc3QgcElkID0gcEFjY2Vzc0lkLm1hcChrZXkgPT4ga2V5LnBhZ2VpZCB8fCBrZXkuaWQpO1xyXG4gICAgLy8gZmlyc3QgY2hlY2sgZXhpc3QgcGFnZSBjb25maWdcclxuICAgIGlmIChwYWdlQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgIC8vIGNoZWNrIHNlbGVjdGVkIHZhbHVlIGxlbmd0aFxyXG4gICAgICBsZXQgZXhpc3RTZWxlY3RlZFBhZ2VJZCA9IFtdO1xyXG4gICAgICBpZiAoZm9ybVZhbHVlLnBhZ2VMZXZlbERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgZXhpc3RTZWxlY3RlZFBhZ2VJZCA9IGZvcm1WYWx1ZS5wYWdlTGV2ZWxEYXRhLm1hcChpZCA9PiBpZC5pZCk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZmlsdGVyZFBhZ2VDb25maWdBcnJheSA9IHBJZFxyXG4gICAgICAgIC5tYXAoaWQgPT4gcGFnZUNvbmZpZy5maW5kKGtleSA9PiBrZXk/LnBhZ2U/LmlkID09PSBpZCkpXHJcbiAgICAgICAgLmZpbHRlcihjb25maWcgPT4gY29uZmlnICE9PSB1bmRlZmluZWQpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBJZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBzZXRBY2Nlc3MgPSAnJztcclxuICAgICAgICBzZXRBY2Nlc3MgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldFBhZ2VBY2Nlc3MoZmlsdGVyZFBhZ2VDb25maWdBcnJheVtpXSk7XHJcbiAgICAgICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLnBhZ2VEYXRhLmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSBwSWRbaV0pO1xyXG4gICAgICAgIGlmIChleGlzdFNlbGVjdGVkUGFnZUlkLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5nZXRWZXJzaW9uQWNjZXNzQXJyYXkoZXhpc3RTZWxlY3RlZFBhZ2VJZCwgcElkLCBpLCBhY2Nlc3NBcnJheSwgcGFnZU5hbWUsIHNldEFjY2VzcywgcGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2V0UGFnZUFjY2Vzc0FycmF5KHBJZCwgaSwgYWNjZXNzQXJyYXksIHBhZ2VOYW1lLCBzZXRBY2Nlc3MsIHBhZ2VDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5mb3JBY3Rpb25DbGljayhhY3Rpb24sIHBJZCwgYWNjZXNzQXJyYXkpO1xyXG4gIH1cclxuICBnZXRWZXJzaW9uQWNjZXNzQXJyYXkoZXhpc3RTZWxlY3RlZFBhZ2VJZCwgcElkLCBpLCBhY2Nlc3NBcnJheSwgcGFnZU5hbWUsIHNldEFjY2VzcywgcGFnZUNvbmZpZykge1xyXG4gICAgY29uc3QgY2hlY2tQaWQgPSBleGlzdFNlbGVjdGVkUGFnZUlkLmluY2x1ZGVzKHBJZFtpXSk7XHJcbiAgICBpZiAoIWNoZWNrUGlkKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgICAgbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHBhZ2VOYW1lWzBdWydhY3RpdmVWZXJzaW9uJ11bJ3BhZ2VuYW1lJ10pLFxyXG4gICAgICAgICAgcGFnZWlkOiBuZXcgRm9ybUNvbnRyb2wocElkW2ldKSxcclxuICAgICAgICAgIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MpLFxyXG4gICAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy52YWx1ZSkgfHwgJzEnKSxcclxuICAgICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucyA/ICdkYXlzJyA6ICdhbHdheXMnKSxcclxuICAgICAgICAgIGZhbGxiYWNrVG86IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy5mYWxsYmFja1RvKSB8fCAnbicpXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFBhZ2VBY2Nlc3NBcnJheShwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKSB7XHJcbiAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHBhZ2VOYW1lWzBdWydwYWdlbmFtZSddKSxcclxuICAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbChwSWRbaV0pLFxyXG4gICAgICAgIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MpLFxyXG4gICAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2woKHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucyAmJiBwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMudmFsdWUpIHx8ICcxJyksXHJcbiAgICAgICAgY29uZGl0aW9uOiBuZXcgRm9ybUNvbnRyb2wocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgIGZhbGxiYWNrVG86IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy5mYWxsYmFja1RvKSB8fCAnbicpXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZm9yQWN0aW9uQ2xpY2soYWN0aW9uLCBwSWQsIGFjY2Vzc0FycmF5KSB7XHJcbiAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSB0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YT8ubGVuZ3RoID8gdGhpcy5zZWxlY3RlZFBhZ2VMZXZlbERhdGEgOiBhY2Nlc3NBcnJheS5nZXRSYXdWYWx1ZSgpO1xyXG4gICAgICBsZXQgcGFnZXNGcm9tRmllbGQgPSBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLnRoaXMuc2VsZWN0ZWRGaWVsZERhdGFdLm1hcChlbGUgPT4gZWxlLnBhZ2VJZCkpKS5maWx0ZXIoZWxlID0+IGVsZSk7XHJcbiAgICAgIGlmIChwSWQ/Lmxlbmd0aCkge1xyXG4gICAgICAgIHBhZ2VzRnJvbUZpZWxkID0gcElkO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwYWdlc0Zyb21GaWVsZD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSBbXTtcclxuICAgICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzQXJyYXlPbkNsaWNrKFxyXG4gICAgICAgICAgcGFnZXNGcm9tRmllbGQsXHJcbiAgICAgICAgICB0aGlzLnBhZ2VzTGlzdCxcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEsXHJcbiAgICAgICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nLFxyXG4gICAgICAgICAgZXhpc3RpbmdWYWx1ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5zYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0FjY2Vzc1R5cGUoZGF0YTogYW55KTogYW55IHtcclxuICAgIGlmIChkYXRhPy5pc2Z1bGwpIHtcclxuICAgICAgcmV0dXJuICcyJztcclxuICAgIH0gZWxzZSBpZiAoZGF0YT8uaXNoaWRlKSB7XHJcbiAgICAgIHJldHVybiAnNCc7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGE/LmlzcmVhZCkge1xyXG4gICAgICByZXR1cm4gJzMnO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhPy5pc3JlYWR3cml0ZSkge1xyXG4gICAgICByZXR1cm4gJzInO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RmllbGRMZXZlbExpc3QoYWN0aW9uID0gbnVsbCwgZmllbGRDb25maWcgPSBudWxsKSB7XHJcbiAgICBjb25zdCBhY2Nlc3NBcnJheSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpIGFzIEZvcm1BcnJheTtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKTtcclxuXHJcbiAgICBjb25zdCBwQWNjZXNzSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgnZnBhZ2VzJykudmFsdWU7XHJcbiAgICBjb25zdCBwYWdlSWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMaXN0JykudmFsdWU7XHJcbiAgICAvLyBGaWVsZHBhZ2VsZXZlbCBpcyBhIHZhcmlhYmxlIGlzIHRoZSBsZW5ndGggb2YgdGhlIGZvcm0gcGFnZSBhbmQgYWxsIHBhZ2Ugb3RoZXIgdGhhbiBncmlkIHBhZ2VcclxuICAgIHRoaXMuZmllbGRMZXZlbENoZWNrQ291bnQgPSBwYWdlSWRzLmZpbHRlcih4ID0+ICh4LmlkID09PSAocEFjY2Vzc0lkICYmIHBBY2Nlc3NJZFswXT8uaWQpKSB8fCB4LmlkID09PSBwQWNjZXNzSWQpO1xyXG4gICAgY29uc3QgZmllbGRMZXZlbCA9IHBhZ2VJZHMuZmlsdGVyKHggPT4gKHguaWQgPT09IChwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkWzBdPy5pZCkpIHx8IHguaWQgPT09IHBBY2Nlc3NJZCk7XHJcbiAgICB0aGlzLmZpZWxkUGFnZUxldmVsID0gZmllbGRMZXZlbC5maWx0ZXIoYSA9PiBhLmFjdGl2ZVZlcnNpb24gIT09IG51bGwgJiYgYS5hY3RpdmVWZXJzaW9uLmdyaWRjb25maWcgPT0gbnVsbClcclxuICAgLm1hcChhID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogYS5hY3RpdmVWZXJzaW9uLnBhZ2VpZCxcclxuICAgICAgICBwYWdlbmFtZTogYS5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lLFxyXG4gICAgICAgIGFjdGl2ZVZlcnNpb246IGEuYWN0aXZlVmVyc2lvblxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgY29uc29sZS5sb2codGhpcy5maWVsZFBhZ2VMZXZlbCk7XHJcbiAgICB0aGlzLmNoZWNrRmllbGRMZXZlbENvbmRpdGlvbihmaWVsZExldmVsLCBwQWNjZXNzSWQpO1xyXG4gICAgdGhpcy5maWVsZENvbmZpZ0NoZWNrKGZpZWxkQ29uZmlnLCBhY2Nlc3NBcnJheSk7XHJcbiAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QXNzZXRCeVBhZ2VJZCh0aGlzLnBJZCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc1snZGF0YSddO1xyXG4gICAgICAgIHRoaXMuZ2V0QWNjZXNzQXJyYXlDaGVjayhkYXRhLCBmb3JtVmFsdWUsIGFjY2Vzc0FycmF5KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNob3dGaWVsZEdyaWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tGaWVsZExldmVsQ29uZGl0aW9uKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCkge1xyXG4gICAgaWYgKGZpZWxkTGV2ZWwubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNob3dGaWVsZFZhbGlkaXR5ID0gZmllbGRMZXZlbFswXS50ZW1wbGF0ZWpzb24gPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGRWZXJzaW9uQ2hlY2soZmllbGRMZXZlbCwgcEFjY2Vzc0lkKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2hvd0ZpZWxkVmFsaWRpdHkgPSBwQWNjZXNzSWRbMF0udGVtcGxhdGVqc29uID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICBpZiAocEFjY2Vzc0lkWzBdWyd2ZXJzaW9uJ10pIHtcclxuICAgICAgICB0aGlzLnBJZCA9IHBBY2Nlc3NJZFswXS5wYWdlaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkPy5sZW5ndGggPyBwQWNjZXNzSWRbMF1bJ2lkJ10gOiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaWVsZFZlcnNpb25DaGVjayhmaWVsZExldmVsLCBwQWNjZXNzSWQpIHtcclxuICAgIGlmIChmaWVsZExldmVsWzBdWyd2ZXJzaW9uJ10pIHtcclxuICAgICAgdGhpcy5wSWQgPSBmaWVsZExldmVsWzBdLnBhZ2VpZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHBBY2Nlc3NJZCkpIHtcclxuICAgICAgICB0aGlzLnBJZCA9IHBBY2Nlc3NJZCAmJiBwQWNjZXNzSWQ/Lmxlbmd0aCA/IHBBY2Nlc3NJZFswXVsnaWQnXSA6IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpZWxkQ29uZmlnQ2hlY2soZmllbGRDb25maWcsIGFjY2Vzc0FycmF5KSB7XHJcbiAgICBpZiAoZmllbGRDb25maWcgIT09IG51bGwpIHtcclxuICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSBbXTtcclxuICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgZmllbGRDb25maWc/Lm1hcChlbGUgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZmllbGROYW1lOiBlbGU/LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBhY2Nlc3M6IHRoaXMuY2hlY2tBY2Nlc3NUeXBlKGVsZSksXHJcbiAgICAgICAgICAgIGFzc2V0aWQ6IGVsZS5hc3NldGlkLFxyXG4gICAgICAgICAgICBwYWdlSWQ6IGVsZS5pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSxcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuZXhpc3RpbmdTZWxlY3RlZEZpZWxkRGF0YSA9IFsuLi50aGlzLnNlbGVjdGVkRmllbGREYXRhXTtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5UGFnZUlkKHRoaXMucElkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcblxyXG4gICAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSB0aGlzLm1lcmdlQXNzZXQoZGF0YSwgdGhpcy5hc3NldExpc3QpO1xyXG4gICAgICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0LmluY2x1ZGVzKHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSBkYXRhO1xyXG4gICAgICAgICAgaWYgKHRoaXMubWVyZ2VkQXNzZXQubGVuZ3RoICE9PSBkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZkRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuZ2V0TWVyZ2VkQXNzZXQoYWNjZXNzQXJyYXkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1lcmdlZEFzc2V0KGFjY2Vzc0FycmF5KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVyZ2VkQXNzZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgYWNjZXNzID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBY2Nlc3ModGhpcy5tZXJnZWRBc3NldFtpXSx0aGlzLmZpZWxkUGFnZUxldmVsKTtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIGZpZWxkTmFtZTogbmV3IEZvcm1Db250cm9sKGFjY2Vzc1tpXVsnZGlzcGxheW5hbWUnXSksXHJcbiAgICAgICAgICBhY2Nlc3M6IG5ldyBGb3JtQ29udHJvbCgnMicpLFxyXG4gICAgICAgICAgYXNzZXRpZDogbmV3IEZvcm1Db250cm9sKGFjY2Vzc1tpXVsnaWQnXSksXHJcbiAgICAgICAgICBwYWdlSWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnBJZCksXHJcbiAgICAgICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucyA/IHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucy52YWx1ZSA6ICcxJyksXHJcbiAgICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbCh0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMgPyAnZGF5cycgOiAnYWx3YXlzJyksXHJcbiAgICAgICAgICBmYWxsYmFja1RvOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zID8gdGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zLmZhbGxiYWNrVG8gOiAnJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0QWNjZXNzQXJyYXlDaGVjayhkYXRhLCBmb3JtVmFsdWUsIGFjY2Vzc0FycmF5KSB7XHJcbiAgICBpZiAoZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSB0aGlzLmFzc2V0TGlzdCA/IHRoaXMubWVyZ2VBc3NldChkYXRhLCB0aGlzLmFzc2V0TGlzdCkgOiBkYXRhO1xyXG4gICAgICB0aGlzLmNoZWNrTWVyZ2VkQXNzZXQoZGF0YSk7XHJcbiAgICAgIGlmIChmb3JtVmFsdWUuZmllbGRMZXZlbERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgICBmb3JtVmFsdWUuZmllbGRMZXZlbERhdGEsXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgYWNjZXNzID0gbnVsbDtcclxuICAgICAgaWYgKHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmc/Lmxlbmd0aCkge1xyXG4gICAgICAgIGFjY2VzcyA9IHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmcuZmluZChlbGUgPT4gZWxlLnBhZ2VpZCA9PT0gdGhpcy5wSWQpPy5hY2Nlc3M7XHJcbiAgICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZyA9IHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmcuZmlsdGVyKGVsZSA9PiBlbGUucGFnZWlkICE9PSB0aGlzLnBJZCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5mRGF0YSA9IGRhdGE7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGREYXRhTWFwID0ge307XHJcbiAgICAgIGlmICghYWNjZXNzICYmIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuYXNzZXRMaXN0XHJcbiAgICAgICAgICA/LmZpbHRlcihlbGUgPT4gZWxlLnBhZ2VJZCA9PT0gdGhpcy5wSWQpXHJcbiAgICAgICAgICA/LmZvckVhY2goZWxlID0+IHtcclxuICAgICAgICAgICAgZXhpc3RpbmdGaWVsZERhdGFNYXBbZWxlLmFzc2V0aWRdID0gZWxlLmFjY2VzcztcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZ2V0QWNjZXNzQnlBc3NldChhY2Nlc3NBcnJheSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tNZXJnZWRBc3NldChkYXRhKSB7XHJcbiAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5pbmNsdWRlcyh1bmRlZmluZWQpKSB7XHJcbiAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSBkYXRhO1xyXG4gICAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5sZW5ndGggIT09IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEFjY2Vzc0J5QXNzZXQoYWNjZXNzQXJyYXkpIHtcclxuICAgIGZvciAoY29uc3QgYXNzZXQgb2YgdGhpcy5tZXJnZWRBc3NldCkge1xyXG4gICAgICBjb25zdCBhc3NldEFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzKGFzc2V0LHRoaXMuZmllbGRQYWdlTGV2ZWwpO1xyXG4gICAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgICAgZmllbGROYW1lOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRbJ2Rpc3BsYXluYW1lJ10pLFxyXG4gICAgICAgICAgYWNjZXNzOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRBY2Nlc3MgPyBhc3NldEFjY2VzcyA6ICcyJyksXHJcbiAgICAgICAgICBhc3NldGlkOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRbJ2lkJ10pLFxyXG4gICAgICAgICAgcGFnZUlkOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5wSWQpLFxyXG4gICAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbChhc3NldC5jb25kaXRpb25zID8gYXNzZXQuY29uZGl0aW9ucy52YWx1ZSA6ICcxJyksXHJcbiAgICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbChhc3NldC5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKGFzc2V0LmNvbmRpdGlvbnMgPyBhc3NldC5jb25kaXRpb25zLmZhbGxiYWNrVG8gOiAnJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuICBtZXJnZUFzc2V0KGFycjE6IGFueSwgYXJyMjogYW55KSB7XHJcbiAgICByZXR1cm4gYXJyMS5tYXAoKGl0ZW0sIF9pKSA9PiB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgYXJyMikge1xyXG4gICAgICAgIGlmIChpdGVtLmlkID09PSB2YWx1ZS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0QWxlcnQoKSB7XHJcbiAgICBpZiAoIXRoaXMuZmllbGRMZXZlbEFjY2VzcyAmJiB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICQoJyNzdWJtaXRBbGVydCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNhdmVSYmFjKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlUmJhYygpIHtcclxuICAgIGNvbnN0IGFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGNvbnN0IHBhZ2VBY2Nlc3NGb3JtQ29udHJvbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgdXNlcmlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3VzZXJpZCcpLnZhbHVlO1xyXG4gICAgY29uc3Qgcm9sZUlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3JvbGVpZCcpLnZhbHVlO1xyXG4gICAgY29uc3QgcG9saWN5SWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS52YWx1ZTtcclxuXHJcbiAgICBpZigodGhpcy5pc1BhZ2VEZXNlbGVjdFNhdmUgJiYgdGhpcy5kZXNlbGVjdGVkSXRlbUlkcy5sZW5ndGggPiAwKSB8fCB0aGlzLmlzUmVtb3ZlQWxsRmllbGRzKXtcclxuICAgICAgbGV0IHNlbGVjdGVkSWQ6IGFueTtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICd1c2VyJykge1xyXG4gICAgICAgIHNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkudXNlcmlkO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdyb2xlJykge1xyXG4gICAgICAgIHNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucm9sZWlkO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucG9saWN5aWQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9ICdwb2xpY3lncm91cCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbGxlY3QgYXNzZXQgaWQncyBmb3IgYWxsIGRlc2VsZWN0ZWQgcGFnZSBpZCdzXHJcbiAgICAgIGNvbnN0IGRlc2VsZWN0ZWRBc3NldHMgPSBmb3JrSm9pbihcclxuICAgICAgICB0aGlzLmRlc2VsZWN0ZWRJdGVtSWRzLm1hcChpZCA9PlxyXG4gICAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5UGFnZUlkKGlkKS5waXBlKFxyXG4gICAgICAgICAgICBtYXAocmVzID0+IHJlc1snZGF0YSddLm1hcChpdGVtID0+ICh7IGFzc2V0aWQ6IGl0ZW0uaWQgfSkpKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgKTsgICAgICBcclxuICAgICAgLy8gTWFrZSBhIHNpbmdsZSBBUEkgY2FsbCB3aXRoIGFsbCBkZXNlbGVjdGVkIGFzc2V0IElEc1xyXG4gICAgICBkZXNlbGVjdGVkQXNzZXRzLnBpcGUoXHJcbiAgICAgICAgbWFwKGFzc2V0SWRSZXNwb25zZXMgPT4gW10uY29uY2F0KC4uLmFzc2V0SWRSZXNwb25zZXMpKVxyXG4gICAgICApLnN1YnNjcmliZShhbGxEZXNlbGVjdGVkQXNzZXRJZHMgPT4ge1xyXG4gICAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UudXBkYXRlQXNzZXRPbkRlc2VsZWN0KHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQsIGFsbERlc2VsZWN0ZWRBc3NldElkcykuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2V0Q29uZmlndXJlZEFzc2V0RGF0YSh0aGlzLnNlbGVjdGVkQWNjZXNzLCBzZWxlY3RlZElkKTtcclxuICAgICAgICAgIHRoaXMuZGVzZWxlY3RlZEl0ZW1JZHMgPSBbXTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmllbGRMZXZlbERhdGEgPSBhY2Nlc3MuZmllbGRMZXZlbERhdGE7XHJcbiAgICBpZiAodGhpcy5maWVsZExldmVsQWNjZXNzID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLmdldFBhZ2VMZXZlbEJ5QXJyYXkocGFnZUFjY2Vzc0Zvcm1Db250cm9sKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ2V0RmllbGRMZXZlbEJ5QXNzZXQoZmllbGRMZXZlbERhdGEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZmllbGRMZXZlbEFjY2Vzcykge1xyXG4gICAgICBsZXQgc2VsZWN0ZWRJZDogYW55O1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3VzZXInKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS51c2VyaWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5yb2xlaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5wb2xpY3lpZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmNyZWF0ZUFzc2V0KHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQsIHRoaXMuZnVsbEFycmF5KS5zdWJzY3JpYmUoX3JlcyA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpO1xyXG4gICAgICAgIHRoaXMuYWxlcnQuc3VjY2VzcygnRmllbGQgQWNjZXNzIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMudXBkYXRlUGFnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncG9saWN5Jykge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9ICdwb2xpY3lncm91cCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UudXBkYXRlRHluYW1pY1BhZ2UodGhpcy5zZWxlY3RlZEFjY2VzcywgdGhpcy5zZWxlY3RlZElkLCB0aGlzLmZ1bGxBcnJheSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgX3JlcyA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdBY2Nlc3MgVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBfZXJyID0+IHRoaXMuYWxlcnQuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2VcclxuICAgICAgICAgIC5jcmVhdGVBY2Nlc3ModGhpcy5maWVsZExldmVsQWNjZXNzLCBhY2Nlc3MuYWNjZXNzQnksIHRoaXMuZnVsbEFycmF5LCB1c2VyaWQsIHJvbGVJZCwgcG9saWN5SWQpXHJcbiAgICAgICAgICAuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgICBfcmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSBbXTtcclxuICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoKTtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoJ0FjY2VzcyBTYXZlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Vycm9yID0+IHRoaXMuYWxlcnQuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFBhZ2VMZXZlbEJ5QXJyYXkocGFnZUxldmVsRGF0YSkge1xyXG4gICAgdGhpcy5mdWxsQXJyYXkgPSBwYWdlTGV2ZWxEYXRhPy5jb250cm9scz8ubWFwKHggPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHBhZ2U6IHg/LnZhbHVlPy5wYWdlaWQsXHJcbiAgICAgICAgb3ZlcnJpZGVBc3NldFBlcm1pc3Npb25zOiB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMuc29tZShwYWdlSWQgPT4gcGFnZUlkID09PSB4Py52YWx1ZT8ucGFnZWlkKSB8fCBmYWxzZSxcclxuICAgICAgICByZWFkd3JpdGU6IHg/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnMicgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgcmVhZDogeD8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICczJyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBub25lOiB4Py52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGZ1bGw6IHg/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNScgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgdG91Y2hlZDogeD8udG91Y2hlZCxcclxuICAgICAgICBjb25kaXRpb25zOlxyXG4gICAgICAgICAgeD8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgYXR0cmlidXRlOiAnY3JlYXRlZCcsXHJcbiAgICAgICAgICAgICAgY29uZGl0aW9uOiAnbHRlJyxcclxuICAgICAgICAgICAgICB2YWx1ZTogeD8udmFsdWU/LnZhbGlkaXR5LCAvL2RheXMsIG1pbnV0ZXMsIGFsd2F5c1xyXG4gICAgICAgICAgICAgIHZhbHVlX3R5cGU6ICd2YXJpYWJsZScsIC8vY29uc3RhbnQsIHByb3BlcnR5LCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgIGZhbGxiYWNrVG86IHg/LnZhbHVlPy5mYWxsYmFja1RvLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICd0aW1lc3RhbXAnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEZpZWxkTGV2ZWxCeUFzc2V0KGZpZWxkTGV2ZWxEYXRhKSB7XHJcbiAgICB0aGlzLmZ1bGxBcnJheSA9IGZpZWxkTGV2ZWxEYXRhLm1hcCh4ID0+IHtcclxuICAgICAgY29uc3QgYXNzZXREYXRhID0gdGhpcy5hc3NldExpc3Q/LmZpbHRlcihhID0+IGEuaWQgPT09IHguYXNzZXRpZCAmJiBhKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogYXNzZXREYXRhID8gYXNzZXREYXRhWzBdPy5faWQgOiBudWxsLFxyXG4gICAgICAgIGFzc2V0OiB4LmFzc2V0aWQsXHJcbiAgICAgICAgcmVhZHdyaXRlOiB4Py5hY2Nlc3MgPT09ICcyJyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICByZWFkOiB4Py5hY2Nlc3MgPT09ICczJyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBub25lOiB4Py5hY2Nlc3MgPT09ICc0JyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBmdWxsOiB4Py5hY2Nlc3MgPT09ICc1JyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBjb25kaXRpb25zOlxyXG4gICAgICAgICAgeC5jb25kaXRpb24gIT09ICdhbHdheXMnXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2NyZWF0ZWQnLFxyXG4gICAgICAgICAgICAgIGNvbmRpdGlvbjogJ2x0ZScsXHJcbiAgICAgICAgICAgICAgdmFsdWU6IHgudmFsaWRpdHksIC8vZGF5cywgbWludXRlcywgYWx3YXlzXHJcbiAgICAgICAgICAgICAgdmFsdWVfdHlwZTogJ3ZhcmlhYmxlJywgLy9jb25zdGFudCwgcHJvcGVydHksIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgZmFsbGJhY2tUbzogeC5mYWxsYmFja1RvLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICd0aW1lc3RhbXAnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gZWRpdCBmdW5jdGlvbmFsaXRlcyBiYXNlZCBvbiBwb2xpY3kgZ3JvdXBcclxuICBzZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnLCBhc3NldGNvbmZpZykge1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHBhZ2VDb25maWcubWFwKGtleSA9PiBrZXkucGFnZWlkKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkTW9kdWxlcyA9IFtdO1xyXG4gICAgY29uc3QgdW5pcXVlUGFnZSA9IFsuLi5uZXcgU2V0KHBhZ2VJZHMpXTtcclxuICAgIGNvbnN0IHNlbGVjdGVkUGFnZXMgPSB1bmlxdWVQYWdlO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgcHJvdmlkZUFjY2VzczogJzEnIH0pO1xyXG4gICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgIGNvbnN0IG0gPSB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykudmFsdWU7XHJcbiAgICBpZiAobSAhPT0gJycgJiYgbSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBuZXdNb2R1bGUgPSBtLmNvbmNhdChzZWxlY3RlZE1vZHVsZXMpO1xyXG4gICAgICBjb25zdCB1bmlxdWVOZXdNb2R1bGUgPSBbLi4ubmV3IFNldChuZXdNb2R1bGUpXTtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ21vZHVsZScpLnNldFZhbHVlKHVuaXF1ZU5ld01vZHVsZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBtb2R1bGU6IHNlbGVjdGVkTW9kdWxlcyB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcyhzZWxlY3RlZFBhZ2VzLCBwYWdlQ29uZmlnLCBhc3NldGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBzZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZywgYXNzZXRjb25maWcsIGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCBtS2V5ID0gYXNzZXRjb25maWcuZmlsdGVyKFxyXG4gICAgICBrZXkgPT4ga2V5Lm1vZHVsZWtleSAhPT0gbnVsbCAmJiBrZXkubW9kdWxla2V5ICE9PSAnJyAmJiBrZXkuaXNhY3RpdmUgIT09ICcnICYmIGtleS5pc2FjdGl2ZSAhPT0gbnVsbFxyXG4gICAgKTtcclxuICAgIGNvbnN0IG1ta2V5ID0gbUtleS5tYXAoa2V5ID0+IGtleS5tb2R1bGVrZXkpO1xyXG4gICAgY29uc3QgbW9kdWxlcyA9IHRoaXMubW9kdWxlTGlzdC5maWx0ZXIoa2V5ID0+IG1ta2V5LmluY2x1ZGVzKGtleS5yZWZLZXkpKTtcclxuICAgIGNvbnN0IHBhZ2VJZCA9IGFzc2V0Y29uZmlnLmZpbHRlcihrZXkgPT4ga2V5LnBhZ2VpZCAhPT0gbnVsbCk7XHJcbiAgICBjb25zdCBwYWdlSWRzID0gcGFnZUlkLm1hcChrZXkgPT4ga2V5LnBhZ2VpZCk7XHJcbiAgICBsZXQgc2VsZWN0ZWRNb2R1bGVzOiBhbnk7XHJcbiAgICBzZWxlY3RlZE1vZHVsZXMgPSBbLi4ubmV3IFNldChtb2R1bGVzKV07XHJcbiAgICBjb25zdCB1bmlxdWVQYWdlID0gWy4uLm5ldyBTZXQocGFnZUlkcyldO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IHVuaXF1ZVBhZ2U7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwcm92aWRlQWNjZXNzOiAnMicgfSk7XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMubXVsdGlQYWdlQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgY29uc3QgbSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdtb2R1bGUnKS52YWx1ZTtcclxuICAgICAgaWYgKG0gIT09ICcnKSB7XHJcbiAgICAgICAgY29uc3QgbWsgPSBzZWxlY3RlZE1vZHVsZXMuY29uY2F0KG0pO1xyXG4gICAgICAgIHNlbGVjdGVkTW9kdWxlcyA9IG1rO1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IG1vZHVsZTogc2VsZWN0ZWRNb2R1bGVzIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHNtID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3N1Ym1vZHVsZScpLnZhbHVlO1xyXG4gICAgICBpZiAoc20gIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgbW9kdWxlOiBzZWxlY3RlZE1vZHVsZXMgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IG1vZHVsZTogc2VsZWN0ZWRNb2R1bGVzIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKHNlbGVjdGVkUGFnZXMsIHBhZ2VDb25maWcsIGFzc2V0Y29uZmlnKTtcclxuICB9XHJcblxyXG4gIGdldERhdGFCYXNlZE9uUG9saWN5KGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCBwb2xpY3lpZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS52YWx1ZS5tYXAoYSA9PiBhLmlkKTtcclxuICAgIGlmIChwb2xpY3lpZHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWRpdFBhZ2UgPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2xpY3lpZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29uZmlnID0gdGhpcy5wb2xpY3lHcm91cERhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHBvbGljeWlkc1tqXSk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgIHRoaXMuZWRpdFBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MsIGZyb20pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwb2xpY3lpZHMubGVuZ3RoID09PSBqICsgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMZXZlbEFjY2VzcygnMicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmdldENoZWNrUGFnZUNvbmZpZyhwYWdlQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzZXRGb3JtKCczJyk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiAnMycgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDaGVja1BhZ2VDb25maWcocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbENsaWNrID0gdHJ1ZTtcclxuICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBwQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuICAgICAgaWYgKHBBY2Nlc3MgIT09ICcxJykge1xyXG4gICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YUJhc2VkT25Sb2xlKGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCByb2xlSWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3JvbGVpZCcpLnZhbHVlLm1hcChhID0+IGEuaWQpO1xyXG4gICAgaWYgKHJvbGVJZHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWRpdFBhZ2UgPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgICAgLy8gbG9vcCB0aGUgcm9sZSBpZHNcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb2xlSWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZyA9IHRoaXMucm9sZUFkZGVkRGF0YS5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcm9sZUlkc1tqXSk7XHJcbiAgICAgICAgdGhpcy5nZXRPcmdJZChwYWdlQ29uZmlnKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICAgICAgdGhpcy5lZGl0UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLCBmcm9tKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocm9sZUlkcy5sZW5ndGggPT09IGogKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xldmVsQWNjZXNzKCcyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2V0Q2hlY2tSb2xlUG9saWN5R3JvdXAocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlc2V0Rm9ybSgnMicpO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBhY2Nlc3NCeTogJzInIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0T3JnSWQocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWc/Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9yZ2FuaXNhdGlvbmlkID0gcGFnZUNvbmZpZ1swXT8ub3JnYW5pemF0aW9uaWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDaGVja1JvbGVQb2xpY3lHcm91cChwYWdlQ29uZmlnKSB7XHJcbiAgICBpZiAocGFnZUNvbmZpZ1swXS5yb2xlUG9saWN5R3JvdXBDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNldFBvbGljeUxldmVsUGFnZVBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucm9sZVBvbGljeUdyb3VwQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICAgIGlmIChwQWNjZXNzICE9PSAnMScpIHtcclxuICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Um9sZUFuZFBvbGljeURhdGEoZnJvbSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHVzZXJJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgndXNlcmlkJykudmFsdWUubWFwKGEgPT4gYS5pZCk7XHJcbiAgICBpZiAodXNlcklkcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lZGl0UGFnZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgICAvLyBsb29wIHRoZSByb2xlIGlkc1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVzZXJJZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29uZmlnID0gdGhpcy51c2VyTGlzdC5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gdXNlcklkc1tqXSk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgIHRoaXMuZWRpdFBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MsIGZyb20pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh1c2VySWRzLmxlbmd0aCA9PT0gaiArIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TGV2ZWxBY2Nlc3MoJzInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5nZXRDaGVja1BvbGljeUxldmVsRmllbGQocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlc2V0Rm9ybSgnMScpO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBhY2Nlc3NCeTogJzEnIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXRDaGVja1BvbGljeUxldmVsRmllbGQocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxQYWdlUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICAgIGlmIChwQWNjZXNzICE9PSAnMScpIHtcclxuICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0Rm9ybShpZCA9IG51bGwsIGNsZWFyID0gbnVsbCkge1xyXG4gICAgdGhpcy5zdWJNb2R1bGVMaXN0ID0gdGhpcy5wYWdlRGF0YSA9IHRoaXMuc2VsZWN0ZWRQYWdlRGF0YSA9IFtdO1xyXG4gICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IFtdO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudCA9IFtdO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3NzYXZlZGlzYWJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVzYXZlID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnRkaXNhYmxlID0gdHJ1ZTtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMgPSBbXTtcclxuICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAnJztcclxuICAgIHRoaXMuc2VsZWN0ZWROYW1lID0gJyc7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSBbXTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucmVzZXQoKTtcclxuICAgIGlmIChpZCAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBhY2Nlc3NCeTogaWQgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGNsZWFyICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuQWRkQ29tcG9uZW50LnJlc2V0Rm9ybSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVkaXJlY3RMaXN0KCkge1xyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCgnL3BhZ2VzL3JiYWMvcGFnZS1hY2Nlc3MvcGFnZS1hY2Nlc3MtbGlzdCcpO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUFjY2Vzc1BhdGNoaW5nKCkge1xyXG4gICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZyA9IFtdO1xyXG4gICAgdGhpcy5zYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZyA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJyk/LnZhbHVlID09PSAnMicpIHtcclxuICAgICAgdGhpcy5zYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZyA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwcElkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZTtcclxuICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZyA9IFtdO1xyXG4gICAgICBpZiAocHBJZD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcHBJZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPYmogPSB7IHBhZ2VpZDogZWxlbWVudD8ucGFnZWlkLCBhY2Nlc3M6IGVsZW1lbnQ/LnBhZ2VBY2Nlc3MgfTtcclxuICAgICAgICAgIHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmcucHVzaChzZWxlY3RlZE9iaik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuYWxlcnQuc3VjY2VzcygnVGVtcG9yYXJpbHkgc2F2ZWQgRGF0YSBmb3IgY2hhbmdlcycpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlRmllbGRBY2Nlc3MoX2luZGV4KSB7XHJcbiAgICBjb25zdCBhY2Nlc3NBcnJheSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgZmllbGRWYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpLnZhbHVlLm1hcChlbCA9PiBlbC5hY2Nlc3MpO1xyXG4gICAgbGV0IG1heE9jYyA9IHsgZWxlbWVudDogbnVsbCwgb2NjdXJlZDogMCB9O1xyXG4gICAgZmllbGRWYWx1ZS5yZWR1Y2UoKGFjYywgZWwpID0+IHtcclxuICAgICAgYWNjW2VsXSA9IGFjY1tlbF0gPyBhY2NbZWxdICsgMSA6IDE7XHJcbiAgICAgIGlmIChhY2NbZWxdID4gbWF4T2NjLm9jY3VyZWQpIHtcclxuICAgICAgICBtYXhPY2MgPSB7IGVsZW1lbnQ6IGVsLCBvY2N1cmVkOiBhY2NbZWxdIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9KTtcclxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMucmJhY0Zvcm1cclxuICAgICAgLmdldCgncGFnZUxldmVsRGF0YScpXHJcbiAgICAgIC52YWx1ZS5maW5kSW5kZXgoZWwgPT4gZWwucGFnZWlkID09PSB0aGlzLnJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKS52YWx1ZVswXS5wYWdlSWQpO1xyXG4gICAgaWYgKHBhZ2VJbmRleCA+IC0xKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgICAgbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlTmFtZSksXHJcbiAgICAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0ucGFnZWlkKSxcclxuICAgICAgICAgIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChtYXhPY2MuZWxlbWVudCA/IG1heE9jYy5lbGVtZW50IDogJzInKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIGFjY2Vzc0FycmF5LnJlbW92ZUF0KHBhZ2VJbmRleCk7XHJcbiAgICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMuZmluZEluZGV4KFxyXG4gICAgICAgIGVsID0+IGVsLnBhZ2VpZCA9PT0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnBhZ2VpZFxyXG4gICAgICApO1xyXG4gICAgICBpZiAoaXNFeGlzdCA+IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzLnNwbGljZShpc0V4aXN0LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hhbmdlUGFnZUFjY2VzcyhpbmRleCkge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbaW5kZXhdO1xyXG4gICAgY29uc3QgcGFnZUxldmVsRGF0YSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgaXNFeGlzdCA9IHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcz8uZmluZEluZGV4KGVsID0+IGVsPy5wYWdlaWQgPT09IHNlbGVjdGVkVmFsdWUucGFnZWlkKTtcclxuICAgIGlmIChpc0V4aXN0ID4gLTEpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzW2lzRXhpc3RdLnBhZ2VBY2Nlc3MgPSBzZWxlY3RlZFZhbHVlLnBhZ2VBY2Nlc3M7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMucHVzaChzZWxlY3RlZFZhbHVlKTtcclxuICAgIH1cclxuICAgIGlmIChzZWxlY3RlZFZhbHVlLnBhZ2VBY2Nlc3MgPT09ICc0Jykge1xyXG4gICAgICBjb25zdCBjb25kaXRpb25Db250cm9sID0gcGFnZUxldmVsRGF0YS5hdChpbmRleCkuZ2V0KCdjb25kaXRpb24nKTtcclxuICAgICAgY29uZGl0aW9uQ29udHJvbC5zZXRWYWx1ZSgnYWx3YXlzJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iLCI8YXBwLWFsZXJ0PjwvYXBwLWFsZXJ0PlxyXG48ZGl2IGNsYXNzPVwicm93IHJiYWMtY2FyZFwiPlxyXG4gIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgIDxtYXQtY2FyZCBjbGFzcz1cIm1hdC1jYXJkXCI+XHJcbiAgICAgIDxtYXQtY2FyZC1jb250ZW50IGNsYXNzPVwicC0yXCI+XHJcbiAgICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJyYmFjRm9ybVwiPlxyXG4gICAgICAgICAgPGFwcC1tYW5hZ2UtYWNjZXNzLXJhZGlvIChhY2Nlc3NCeSk9XCJhY2Nlc3NCeSgkZXZlbnQpXCIgKHVzZXJEcm9wZG93bik9XCJ1c2VyRHJvcGRvd24oJGV2ZW50KVwiXHJcbiAgICAgICAgICAgIChyb2xlRHJvcGRvd24pPVwicm9sZURyb3Bkb3duKCRldmVudClcIiAocG9saWN5RHJvcGRvd24pPVwicG9saWN5RHJvcGRvd24oJGV2ZW50KVwiXHJcbiAgICAgICAgICAgIChkcm9wRG93blNlbGVjdGVkVmFsdWVzKT1cImRyb3BEb3duU2VsZWN0ZWRWYWx1ZXMoJGV2ZW50KVwiPjwvYXBwLW1hbmFnZS1hY2Nlc3MtcmFkaW8+XHJcblxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwicmFkaW8tdGl0bGUgbWItMlwiPlBhZ2UgQWNjZXNzIE1hbmFnZW1lbnQ8L2gzPlxyXG4gICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwibWF0LWNhcmRcIj5cclxuICAgICAgICAgICAgPG1hdC1jYXJkLWNvbnRlbnQgY2xhc3M9XCJwLTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlXCI+TW9kdWxlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxhbmd1bGFyMi1tdWx0aXNlbGVjdCBbZGF0YV09XCJtb2R1bGVMaXN0XCIgW3NldHRpbmdzXT1cIm1vZHVsZURyb3Bkb3duU2V0dGluZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PVwibG9hZFN1Yk1vZHVsZSgnY2xpY2snKVwiIG9uRGVTZWxlY3Q9XCJyZW1vdmVTdWJNb2R1bGUoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RBbGw9XCJsb2FkU3ViTW9kdWxlKCdjbGljaycpXCIgb25EZVNlbGVjdEFsbD1cInJlbW92ZUFsbFN1Yk1vZHVsZSgpXCJcclxuICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJtb2R1bGVcIj48L2FuZ3VsYXIyLW11bHRpc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlXCI+U3ViIE1vZHVsZXM8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8YW5ndWxhcjItbXVsdGlzZWxlY3QgW2RhdGFdPVwic3ViTW9kdWxlTGlzdFwiIFtzZXR0aW5nc109XCJzdWJtb2R1bGVEcm9wZG93blNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD1cImxvYWRTdWJNb2R1bGVQYWdlKCdjbGljaycpXCIgb25EZVNlbGVjdD1cInJlbW92ZVN1Yk1vZHVsZVBhZ2UoJGV2ZW50LCAnc3VibW9kdWxlJylcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0QWxsPVwibG9hZFN1Yk1vZHVsZVBhZ2UoJ2NsaWNrJylcIiBvbkRlU2VsZWN0QWxsPVwicmVtb3ZlQWxsU3ViTW9kdWxlUGFnZSgpXCJcclxuICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJzdWJtb2R1bGVcIj5cclxuICAgICAgICAgICAgICAgICAgPC9hbmd1bGFyMi1tdWx0aXNlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpby10aXRsZVwiPlBhZ2VzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPGFuZ3VsYXIyLW11bHRpc2VsZWN0IFtkYXRhXT1cInBhZ2VzTGlzdFwiIFtzZXR0aW5nc109XCJwYWdlRHJvcGRvd25TZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgKG9uU2VsZWN0KT1cInBvcHVsYXRlUGFnZSgnY2xpY2snLHRydWUsJGV2ZW50KVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFXCJcclxuICAgICAgICAgICAgICAgICAgICAob25EZVNlbGVjdCk9XCJwb3B1bGF0ZVBhZ2UoJ2NsaWNrJyxmYWxzZSwkZXZlbnQpXCIgKG9uU2VsZWN0QWxsKT1cInBvcHVsYXRlUGFnZSgnY2xpY2snLHRydWUsJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgKG9uRGVTZWxlY3RBbGwpPVwicmVtb3ZlQWxsUG9wdWxhdGVQYWdlKClcIiBmb3JtQ29udHJvbE5hbWU9XCJwYWdlTGlzdFwiPjwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGUgZC1ibG9jayByZXF1aXJlZFwiPlByb3ZpZGUgQWNjZXNzIGJ5IDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tZ3JvdXAgZm9ybUNvbnRyb2xOYW1lPVwicHJvdmlkZUFjY2Vzc1wiIChjaGFuZ2UpPVwic2hvd0xldmVsQWNjZXNzKCRldmVudC52YWx1ZSlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bWF0LXJhZGlvLWJ1dHRvbiB2YWx1ZT1cIjFcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMXCI+UGFnZSBMZXZlbCZuYnNwOyZuYnNwOzwvbWF0LXJhZGlvLWJ1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8bWF0LXJhZGlvLWJ1dHRvbiB2YWx1ZT1cIjJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHX0ZJRUxEX0xFVkVMXCI+RmllbGQgTGV2ZWw8L21hdC1yYWRpby1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvbWF0LXJhZGlvLWdyb3VwPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC02IGNvbC0xMiBtYi0zXCIgKm5nSWY9XCJmaWVsZExldmVsQWNjZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlXCI+U2VsZWN0IFBhZ2U8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gaWQ9XCJzZWxlY3RwYWdlXCIgYXJpYUxhYmVsbGVkQnk9XCJzZWxlY3RwYWdlXCIgW29wdGlvbnNdPVwic2VsZWN0ZWRQYWdlRGF0YVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFXCJcclxuICAgICAgICAgICAgICAgICAgICBbZmlsdGVyXT1cInRydWVcIiBbc2hvd0NsZWFyXT1cImZpZWxkTGV2ZWxDaGVja0NvdW50ICYmIGZpZWxkTGV2ZWxDaGVja0NvdW50Py5sZW5ndGhcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtyZXNldEZpbHRlck9uSGlkZV09XCJ0cnVlXCIgKG9uQ2hhbmdlKT1cImdldEZpZWxkTGV2ZWxMaXN0KCdjbGljaycpXCIgZm9ybUNvbnRyb2xOYW1lPVwiZnBhZ2VzXCIgb3B0aW9uTGFiZWw9XCJwYWdlbmFtZVwiIG9wdGlvblZhbHVlPVwiaWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgcGFnZVwiIGNsYXNzPVwiZGQtc3RhbmQtc2l6ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtaXRlbSBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgcFRvb2x0aXA9XCJ7e2l0ZW0/LnBhZ2VuYW1lfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8ucGFnZW5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtb2JqZWN0IHBUZW1wbGF0ZT1cIml0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHt7IG9iamVjdC5wYWdlbmFtZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGFnZUxldmVsQWNjZXNzXCIgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMyBwYWdlTGV2ZWxBY2Nlc3NUYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8dGFibGUgYXJpYS1kZXNjcmliZWRieT1cInBhZ2VMZXZlbEFjY2Vzc1RhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWxlZnRcIj5QYWdlIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+Ulc8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SV0Q8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBmb3JtQXJyYXlOYW1lPVwicGFnZUxldmVsRGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBmQWNjZXNzIG9mIHJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpWydjb250cm9scyddOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBbZm9ybUdyb3VwXT1cInJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpWydjb250cm9scyddW2ldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBvaW50ZXItZXZlbnRzOiBub25lOyB3aWR0aDogMzYwcHhcIiB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInBhZ2VOYW1lXCIgcGxhY2Vob2xkZXI9XCJwYWdlbGV2ZWxkYXRhXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGkpXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc1wiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiM1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfUkVBRFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpKVwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VBY2Nlc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1JFQURfV1JJVEVcIiB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cIjJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCAoY2hhbmdlKT1cImNoYW5nZVBhZ2VBY2Nlc3MoaSlcIiBmb3JtQ29udHJvbE5hbWU9XCJwYWdlQWNjZXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEX1dSSVRFX0RFTEVURVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpKVwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VBY2Nlc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX05PTkVcIiB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cIjRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJiYWNGb3JtLmdldCgncGFnZUxpc3QnKT8udmFsdWVbaV0/LmFjdGl2ZVZlcnNpb24/LmdyaWRjb25maWcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJiYWNGb3JtLmdldCgncGFnZUxpc3QnKT8udmFsdWVbaV0/LmdyaWRjb25maWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiY29uZGl0aW9uc1wiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIiBmb3JtQ29udHJvbE5hbWU9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgY29uZGl0aW9uXCIgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtaW5wdXROdW1iZXIgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwidmFsaWRpdHkgdmFsaWRpdHktbnVtYmVyXCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3JlYWRvbmx5XT1cImZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNCdcIiBbbWluXT1cIjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfVkFMSURJVFlcIiBmb3JtQ29udHJvbE5hbWU9XCJ2YWxpZGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT1cImRlY2ltYWxcIj48L3AtaW5wdXROdW1iZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImdldEZhbGxiYWNrUGVybWlzc2lvbihmQWNjZXNzKVwiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImZhbGxiYWNrVG9cIiAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHBlcm1pc3Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzMnIHx8IGZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCIgW3N0eWxlXT1cInsgJ21hcmdpbi1sZWZ0JzogJzE1cHgnIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJzaG93RmllbGRHcmlkICYmIGZpZWxkTGV2ZWxDaGVja0NvdW50Py5sZW5ndGggPiAwICYmIGZpZWxkTGV2ZWxBY2Nlc3MgJiYgZmllbGRQYWdlTGV2ZWw/Lmxlbmd0aCA+IDBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGFibGUgYXJpYS1kZXNjcmliZWRieT1cImZpZWxkTGV2ZWxBY2Nlc3NUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1sZWZ0XCI+RmllbGQgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+UmVhZDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+V3JpdGU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbmU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiICpuZ0lmPVwic2hvd0ZpZWxkVmFsaWRpdHlcIj5WYWxpZGl0eTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyIGZvcm1BcnJheU5hbWU9XCJmaWVsZExldmVsRGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGZBY2Nlc3Mgb2YgcmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpWydjb250cm9scyddOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBOYW1lXT1cImlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBmRGF0YVtpXVsnZGlzcGxheW5hbWUnXSB9fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJhc3NldGlkXCIgdmFsdWU9XCJ7eyBmRGF0YVtpXVsnaWQnXSB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUlkXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJhY2Nlc3NcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudClcIiB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc1wiIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50KVwiIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCI0XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiICpuZ0lmPVwic2hvd0ZpZWxkVmFsaWRpdHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiY29uZGl0aW9uc1wiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCdcIiBmb3JtQ29udHJvbE5hbWU9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgY29uZGl0aW9uXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJrZXlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwidmFsaWRpdHlcIiAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbWluXT1cIjFcIiBmb3JtQ29udHJvbE5hbWU9XCJ2YWxpZGl0eVwiIFtyZWFkb25seV09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDUwcHg7IG1hcmdpbi1sZWZ0OiAxNXB4XCIgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2VzcylcIiBzdHlsZUNsYXNzPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmYWxsYmFja1RvXCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnIHx8IGZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICczJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJrZXlcIiBbc3R5bGVdPVwieyAnbWFyZ2luLWxlZnQnOiAnMTVweCcgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwhLS0gVGhpcyBjb2RlIGZvciBmaWVsZCBhY2Nlc3MgZm9yIGdyaWQgcGFnZSAtLT5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJzaG93RmllbGRHcmlkICYmIGZpZWxkTGV2ZWxDaGVja0NvdW50Py5sZW5ndGggPiAwICYmIGZpZWxkTGV2ZWxBY2Nlc3MgJiYgZmllbGRQYWdlTGV2ZWw/Lmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwiZmllbGRMZXZlbEFjY2Vzc1RhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1sZWZ0XCI+RmllbGQgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SZWFkPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+V3JpdGU8L3RoPiAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbmU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJzaG93RmllbGRWYWxpZGl0eVwiPlZhbGlkaXR5PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgZm9ybUFycmF5TmFtZT1cImZpZWxkTGV2ZWxEYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZkFjY2VzcyBvZiByYmFjRm9ybS5nZXQoJ2ZpZWxkTGV2ZWxEYXRhJylbJ2NvbnRyb2xzJ107IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgW2Zvcm1Hcm91cE5hbWVdPVwiaVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGZEYXRhW2ldWydkaXNwbGF5bmFtZSddIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwiYXNzZXRpZFwiIHZhbHVlPVwie3sgZkRhdGFbaV1bJ2lkJ10gfX1cIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUlkXCIgbmFtZT1cInBlcm1pc3Npb25ncm91cF97e2l9fVwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCIzXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJhY2Nlc3NcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudClcIiB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cIjJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCIgdmFsdWUgPSBcIjRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImNvbmRpdGlvbnNcIiBzdHlsZUNsYXNzPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnXCIgZm9ybUNvbnRyb2xOYW1lPVwiY29uZGl0aW9uXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cInZhbGlkaXR5XCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiIFttaW5dPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwidmFsaWRpdHlcIiBbcmVhZG9ubHldPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnXCIgc3R5bGU9XCJ3aWR0aDogNTBweDsgbWFyZ2luLWxlZnQ6IDE1cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZ2V0RmFsbGJhY2tQZXJtaXNzaW9uKGZBY2Nlc3MpXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiIGZvcm1Db250cm9sTmFtZT1cImZhbGxiYWNrVG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHBlcm1pc3Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCcgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzMnXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImtleVwiIFtzdHlsZV09XCJ7ICdtYXJnaW4tbGVmdCc6ICcxNXB4JyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgIDwvbWF0LWNhcmQ+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0zXCIgKm5nSWY9XCJwb2xpY3lHcm91cFBhZ2VzLmxlbmd0aCAmJiAhZmllbGRMZXZlbEFjY2VzcyAmJiBzZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnXCI+XHJcbiAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgZHluYW1pYy1zZWFyY2hcIiBpY29uUG9zPVwiZW5kVmFsXCI+XHJcbiAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyIGhlYWQtdGV4dCBnYXAtMiB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5Qb2xpY3kgR3JvdXBzIGFzc29jaWF0ZWQgd2l0aCB7eyBzZWxlY3RlZE5hbWUgfX0gUm9sZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZC1jb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0xXCIgKm5nRm9yPVwibGV0IHBvbGljeUdyb3VwIG9mIHBvbGljeUdyb3VwUGFnZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYWRpby10aXRsZSBtYi0yXCI+UG9saWN5IEdyb3VwOiB7eyBwb2xpY3lHcm91cD8ucG9saWN5Z3JvdXA/LnBvbGljeWdyb3VwbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBJdCBzaG93cyBhc3NvY2lhdGVkIFJvbGVzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGlkPVwicG9saWN5R3JvdXBUYWJsZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJwb2xpY3lHcm91cFRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1sZWZ0XCI+UGFnZSBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlI8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Ulc8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+UldEPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbmU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHBhZ2Ugb2YgcG9saWN5R3JvdXA/LnBvbGljeWdyb3VwcGFnZSAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBvaW50ZXItZXZlbnRzOiBub25lOyB3aWR0aDogMzYwcHhcIiB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwicGFnZT8ucGFnZT8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwicGFnZT8ucGFnZVswXT8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LnJlYWRcIiB0eXBlPVwicmFkaW9cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy5yZWFkd3JpdGVcIiB0eXBlPVwicmFkaW9cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy5mdWxsXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy5oaWRlXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicG9saWN5R3JvdXBQYWdlcz8ubGVuZ3RoID09PSAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiIGNvbHNwYW49XCI0XCI+Tm8gcGFnZXMgYXNzb2NpYXRlZCB3aXRoIFBvbGljeSBHcm91cC48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgICA8L21hdC1jYXJkPlxyXG4gICAgICAgICAgICA8L3AtYWNjb3JkaW9uVGFiPlxyXG4gICAgICAgICAgPC9wLWFjY29yZGlvbj5cclxuICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0zXCIgKm5nSWY9XCJwb2xpY3lHcm91cFJvbGVQYWdlcy5sZW5ndGggJiYgIWZpZWxkTGV2ZWxBY2Nlc3MgJiYgc2VsZWN0ZWRBY2Nlc3MgPT09ICdwb2xpY3lncm91cCdcIj5cclxuICAgICAgICAgIDxwLWFjY29yZGlvbiBjbGFzcz1cInctZnVsbCBkeW5hbWljLXNlYXJjaFwiIGljb25Qb3M9XCJlbmRWYWxcIj5cclxuICAgICAgICAgICAgPHAtYWNjb3JkaW9uVGFiPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgaGVhZC10ZXh0IGdhcC0yIHctZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZFwiPlJvbGVzIGFzc29jaWF0ZWQgd2l0aCB7eyBzZWxlY3RlZE5hbWUgfX0gUG9saWN5IEdyb3VwPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIG10LTFcIiAqbmdGb3I9XCJsZXQgcm9sZSBvZiBwb2xpY3lHcm91cFJvbGVQYWdlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhZGlvLXRpdGxlIG1iLTJcIj5Sb2xlOiB7eyByb2xlPy5yb2xlPy5uYW1lIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIEl0IHNob3dzIGFzc29jaWF0ZWQgcG9saWN5Z3JvdXBzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGlkPVwicG9saWN5R3JvdXBUYWJsZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJwb2xpY3lHcm91cFRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1sZWZ0XCI+UGFnZSBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlI8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Ulc8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+UldEPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbmU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHBhZ2Ugb2Ygcm9sZT8ucm9sZXBhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN0eWxlPVwiYm9yZGVyOiBub25lOyBwb2ludGVyLWV2ZW50czogbm9uZTsgd2lkdGg6IDM2MHB4XCIgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInBhZ2U/LnBhZ2U/LmFjdGl2ZVZlcnNpb24/LnBhZ2VuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cInBhZ2U/LnBhZ2VbMF0/LmFjdGl2ZVZlcnNpb24/LnBhZ2VuYW1lXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy5yZWFkXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8ucmVhZHdyaXRlXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uZnVsbFwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uaGlkZVwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInBvbGljeUdyb3VwUm9sZVBhZ2VzPy5sZW5ndGggPT09IDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgY29sc3Bhbj1cIjRcIj5ObyBwYWdlcyBhc3NvY2lhdGVkIHdpdGggUm9sZS48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgICA8L21hdC1jYXJkPlxyXG4gICAgICAgICAgICA8L3AtYWNjb3JkaW9uVGFiPlxyXG4gICAgICAgICAgPC9wLWFjY29yZGlvbj5cclxuICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IG10LTNcIiAqbmdJZiA9IFwibXVsdGlQYWdlQWNjZXNzXCI+XHJcbiAgICAgICAgICA8IS0tIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXItMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19CQUNLXCIgKGNsaWNrKT1cInJlZGlyZWN0TGlzdCgpXCI+QmFjazwvYnV0dG9uPiAtLT5cclxuICAgICAgICAgIDwhLS0gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfQ0xFQVJcIiAoY2xpY2spPVwicmVzZXRGb3JtKClcIj5DbGVhcjwvYnV0dG9uPiAtLT5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfU0FWRVwiIChjbGljayk9XCJzdWJtaXRBbGVydCgpXCIgW2Rpc2FibGVkXT1cIihwYWdlbGV2ZWxhY2Nlc3NzYXZlZGlzYWJsZSAmJiBwYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGUpIHx8ICghdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudCB8fCB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50Py5sZW5ndGggPT09IDApIHx8IChlbmFibGVzYXZlICYmIHBhZ2VsZXZlbGFjY2Vzc2NvdW50ICYmIHBhZ2VsZXZlbGFjY2Vzc2NvdW50Py5sZW5ndGggPiAwKVwiPlNhdmU8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBtdC0zXCIgKm5nSWYgPSBcIiFtdWx0aVBhZ2VBY2Nlc3NcIj5cclxuICAgICAgICAgIDwhLS0gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBtci0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX0JBQ0tcIiAoY2xpY2spPVwicmVkaXJlY3RMaXN0KClcIj5CYWNrPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPCEtLSA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWwgbXItMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19DTEVBUlwiIChjbGljayk9XCJyZXNldEZvcm0oKVwiPkNsZWFyPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19TQVZFXCIgKGNsaWNrKT1cInN1Ym1pdEFsZXJ0KClcIiBbZGlzYWJsZWRdPVwiKChtdWx0aVBhZ2VBY2Nlc3MpIHx8IChmaWVsZExldmVsQ2hlY2tDb3VudCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID09PSAwKSB8fCAoZW5hYmxlc2F2ZSAmJiBmaWVsZExldmVsQ2hlY2tDb3VudCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCkgfHwgKCFwYWdlbGV2ZWxhY2Nlc3Njb3VudCB8fCBwYWdlbGV2ZWxhY2Nlc3Njb3VudD8ubGVuZ3RoID09PSAwKSlcIj5TYXZlPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgIDwvbWF0LWNhcmQ+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJzdWJtaXRBbGVydFwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1sZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UGFnZSBBY2Nlc3MgLSBXYXJuaW5nPC9oNT5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cclxuICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgIEZpZWxkIExldmVsIEFjY2VzcyBpcyBhbHJlYWR5IHByZXNlbnQgZm9yIHRoaXMgUGFnZS4gTW9kaWZ5aW5nIHRoZSBQYWdlIExldmVsIEFjY2VzcyB3aWxsIHJlbW92ZSBhbGwgRmllbGQgTGV2ZWxcclxuICAgICAgICBBY2Nlc3MuIERvIHlvdSB3YW50IHRvIHByb2NlZWQ/XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIChjbGljayk9XCJzYXZlUmJhYygpXCI+XHJcbiAgICAgICAgICAgIFllc1xyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXHJcbiAgICAgICAgICAgIChjbGljayk9XCJnZXRTZWxlY3RlZFBhZ2VzKClcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==