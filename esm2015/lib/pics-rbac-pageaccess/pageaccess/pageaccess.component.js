import { Component, ViewChild } from '@angular/core';
import { FormArray, FormControl, FormGroup } from '@angular/forms';
import { forkJoin } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AuthService } from '../@core/service/auth.service';
import { PageAccessService } from '../@core/urls/page-access.service';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import { ManageAccessRadioComponent } from '../@shared/common-components/manage-access-radio/manage-access-radio.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/data-store.service";
import * as i3 from "@angular/router";
import * as i4 from "../@core/service/alert.service";
import * as i5 from "../@shared/alert/alert.component";
import * as i6 from "@angular/material/card";
import * as i7 from "../@shared/common-components/manage-access-radio/manage-access-radio.component";
import * as i8 from "angular2-multiselect-dropdown";
import * as i9 from "@angular/material/radio";
import * as i10 from "primeng/dropdown";
import * as i11 from "primeng/accordion";
import * as i12 from "@angular/common";
import * as i13 from "../@core/directives/permission.directive";
import * as i14 from "primeng/api";
import * as i15 from "primeng/tooltip";
import * as i16 from "primeng/inputtext";
export class PageaccessComponent {
    constructor(injector, formBuilder, cdRef, _storeservice, router, alert) {
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this._storeservice = _storeservice;
        this.router = router;
        this.alert = alert;
        this.userList = [];
        this.policyGroupData = [];
        this.roleAddedData = [];
        this.pageLevelAccess = false;
        this.multiPageAccess = false;
        this.fieldLevelAccess = false;
        this.moduleList = [];
        this.subModuleList = [];
        this.pageData = [];
        this.pagesList = [];
        this.loadedPagesList = [];
        this.selectedPageData = [];
        this.fData = [];
        this.moduleDropdownSettings = {};
        this.submoduleDropdownSettings = {};
        this.pageDropdownSettings = {};
        this.pageAccessDropdownSettings = {};
        this.fieldAccessDropdownSettings = {};
        this.fieldLevelClick = false;
        this.editPage = false;
        this.selectedFieldData = [];
        this.selectedPageAccessChanges = [];
        this.isRunCond = true;
        this.policyGroupPages = [];
        this.policyGroupRolePages = [];
        this.selectedRole = '';
        this.conditions = [];
        this.permissions = [];
        this.RBACORG = new RBACINFO();
        this.permissionUpdatedPages = [];
        this.pagelevelaccesssavedisable = true;
        this.selectedPages = [];
        this.previousSelection = [];
        this.isPageDeselectSave = false;
        this.deselectedItemIds = [];
        this.isRemoveAllFields = false;
        this.deselectAssetIds = [];
        this.enablesave = true;
        this.pagelevelaccesscountdisable = true;
        this.showFieldGrid = true;
        this.pageAccessService = injector.get(PageAccessService);
        this.authService = injector.get(AuthService);
        this.updatePage = false;
        this.showFieldValidity = false;
        this.conditions = [
            {
                name: 'Days',
                key: 'days'
            },
            {
                name: 'Always',
                key: 'always'
            }
        ];
        this.permissions = [
            {
                name: 'R',
                key: 'r'
            },
            {
                name: 'RW',
                key: 'rw'
            },
            {
                name: 'None',
                key: 'n'
            }
        ];
        this.pageDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            classes: 'myclass custom-class',
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.pageAccessDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.fieldAccessDropdownSettings = {
            singleSelection: true,
            text: 'Select Page',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        // this.orgSubs = this.authService.orgInfo.subscribe(org => {
        //   this.orgId = org;
        //   if (this.orgId) {
        //     this.getOrganizationPage();
        //   }
        // });
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Event Scheduler');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
                if (this.environment) {
                    this.getOrganizationPage();
                    this.loadRbacForm();
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadRbacForm() {
        this.rbacForm = this.formBuilder.group({
            id: new FormControl(null),
            accessBy: new FormControl(null),
            userid: new FormControl(''),
            policyid: new FormControl(null),
            roleid: new FormControl(null),
            provideAccess: new FormControl(null),
            pageAccess: new FormControl('2'),
            validity: new FormControl(null),
            module: new FormControl(null),
            submodule: new FormControl(null),
            pageList: new FormControl(null),
            ppages: new FormControl(null),
            fpages: new FormControl(null),
            fieldLevelData: new FormArray([]),
            pageLevelData: new FormArray([])
        });
    }
    accessBy(evt) {
        this.pagesList = [];
        this.rbacForm.patchValue({ accessBy: evt });
        this.resetForm(evt);
    }
    userDropdown(evt) {
        this.userList = evt;
    }
    roleDropdown(evt) {
        this.roleAddedData = evt;
    }
    policyDropdown(evt) {
        this.policyGroupData = evt;
    }
    dropDownSelectedValues(evt) {
        this.enablesave = false;
        this.selectedRole = '';
        this.updatePage = false;
        this.selectedAccess = evt.from;
        this.selectedName = evt.name;
        this.rbacForm.patchValue({ userid: evt.userid });
        this.rbacForm.patchValue({ roleid: evt.roleid });
        this.rbacForm.patchValue({ policyid: evt.policyid });
        if (this.pagesList.length === 0) {
            this.getOrganizationPage();
        }
        this.getSelectedPages();
        if (evt.from === 'role') {
            this.selectedRole = evt.roleid;
        }
    }
    getOrganizationPage() {
        if (this.orgId) {
            this.pageAccessService.getOrganizationPage(this.orgId).subscribe(res => {
                const data = res['data'];
                if (data && (data === null || data === void 0 ? void 0 : data.length)) {
                    this.pageData = data === null || data === void 0 ? void 0 : data.filter(a => a.activeVersion);
                    this.loadedPagesList = this.pageData.map(x => {
                        return {
                            id: x.activeVersion.pageid,
                            pagename: x.activeVersion.pagename,
                            activeVersion: x.activeVersion
                        };
                    });
                }
            });
        }
    }
    getFallbackPermission(fAccess) {
        var _a, _b;
        if (((_a = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _a === void 0 ? void 0 : _a.pageAccess) === '2' || ((_b = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _b === void 0 ? void 0 : _b.access) === '2') {
            return this.permissions.filter(a => a.key !== 'rw');
        }
        else {
            return this.permissions;
        }
    }
    getSelectedPages(_selectedPages, _pageConfig, _assetconfig) {
        this.policyGroupPages = [];
        this.updatePage = false;
        if (this.selectedAccess === 'user') {
            this.selectedId = this.rbacForm.getRawValue().userid;
        }
        else if (this.selectedAccess === 'role') {
            this.selectedId = this.rbacForm.getRawValue().roleid;
        }
        else {
            this.selectedId = this.rbacForm.getRawValue().policyid;
            this.selectedAccess = 'policygroup';
        }
        this.getGrantedPages();
    }
    getGrantedPages() {
        this.pageAccessService.getDynamicPage(this.selectedAccess, this.selectedId).subscribe(res => {
            let grantedPages;
            if (this.selectedAccess === 'role') {
                grantedPages = res['data'].rolePages;
                this.policyGroupPages = res['data'].policyGroupPages;
                this.pagesList = this.loadedPagesList.map(pages => (Object.assign(Object.assign({}, pages), { disabled: this.checkExistingGrantedPolicyPages(pages, this.policyGroupPages) })));
            }
            else if (this.selectedAccess === 'policygroup') {
                grantedPages = res['data'].policyGroupPages;
                this.policyGroupRolePages = res['data'].policyGroupRolePages.map(policyGroup => (Object.assign(Object.assign({}, policyGroup), { rolepage: [...new Map(policyGroup.rolepage.map(item => { var _a, _b; return [(_b = (_a = item.page[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.id, item]; })).values()] })));
                this.pagesList = this.loadedPagesList.map(pages => (Object.assign(Object.assign({}, pages), { disabled: this.checkExistingGrantedRolePages(pages, this.policyGroupRolePages) })));
            }
            else {
                grantedPages = res['data'];
                this.pagesList = this.loadedPagesList;
            }
            this.loadPages([], null, [], [], this.assetList);
            if (grantedPages.length) {
                this.updatePage = true;
                const pageData = grantedPages.filter(page => page.page).map(a => a.page);
                pageData.forEach(x => { var _a; return (x.pagename = ((_a = x === null || x === void 0 ? void 0 : x.activeVersion) === null || _a === void 0 ? void 0 : _a.pagename) || ''); });
                const uniquePageData = [...new Map(pageData.map(item => [item['id'], item])).values()];
                const pageIDs = uniquePageData.map(a => a['id']);
                const pageConfigData = grantedPages.map(a => {
                    return {
                        id: a.id,
                        isfull: a.full,
                        ishide: a.hide,
                        isread: a.read,
                        isreadwrite: a.readwrite,
                        conditions: a.conditions,
                        page: a.page
                    };
                });
                this.loadPages(uniquePageData, null, pageIDs, pageConfigData, this.assetList);
                this.onControlChanges();
            }
        });
    }
    onControlChanges() {
        const pageLevelAccessFormControl = this.rbacForm.get('pageLevelData');
        pageLevelAccessFormControl.controls.forEach(control => {
            control.valueChanges.pipe(map((value) => {
                console.log('Value Changed');
                if (this.permissionUpdatedPages.some(pageId => pageId === value.pageid)) {
                    this.permissionUpdatedPages = this.permissionUpdatedPages.filter(pageId => pageId !== value.pageid);
                    this.permissionUpdatedPages.push(value.pageid);
                }
                else {
                    this.permissionUpdatedPages.push(value.pageid);
                }
            })).subscribe();
        });
    }
    checkExistingGrantedPolicyPages(page, policyGroupPages) {
        for (const policyGroups of policyGroupPages) {
            for (const pages of policyGroups.policygrouppage) {
                if (pages.page[0].activeVersion.id === page.activeVersion.id) {
                    return true;
                }
            }
        }
    }
    checkExistingGrantedRolePages(page, RolePages) {
        for (const roles of RolePages) {
            for (const pages of roles.rolepage) {
                if (pages.page[0].activeVersion.id === page.activeVersion.id) {
                    return true;
                }
            }
        }
    }
    policyGroupCondition(data, policyGroup) {
        var _a, _b;
        const policyGroupPages = (data === null || data === void 0 ? void 0 : data.data) && (data === null || data === void 0 ? void 0 : data.data.length) ? data === null || data === void 0 ? void 0 : data.data : [];
        const uniquePolicyGroupPages = [...new Map(policyGroupPages.map(item => [item['page']['id'], item])).values()];
        this.policyGroupData = (this.policyGroupData.length && this.policyGroupData) || uniquePolicyGroupPages;
        this.policyGroupPages.push({
            name: (_b = (_a = this.policyGroupData.find(pgd => pgd.policygroup.id === policyGroup.policygroupid)) === null || _a === void 0 ? void 0 : _a.policygroup) === null || _b === void 0 ? void 0 : _b.policygroupname,
            data: uniquePolicyGroupPages
        });
    }
    getConfiguredAssetData(selectedAccess, selectedId) {
        this.pageAccessService.getAssetById(selectedAccess, selectedId).subscribe((res) => {
            this.assetList = res['data'].map(a => {
                return {
                    _id: a === null || a === void 0 ? void 0 : a.id,
                    id: a === null || a === void 0 ? void 0 : a.assetid,
                    isfull: a.full,
                    ishide: a.hide,
                    isread: a.read,
                    isreadwrite: a.readwrite,
                    conditions: a.conditions
                };
            });
        });
    }
    loadPages(tempPageData, action, pageids, pageConfig, fieldConfig) {
        this.pageData = tempPageData || [];
        this.pageData.forEach(a => { var _a, _b; return (a.pagename = tempPageData.length && ((_b = (_a = tempPageData.filter(b => b.id === a.id)[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.pagename)); });
        const pl = this.rbacForm.get('pageList').value;
        if (pageids !== null) {
            const newPages = pl && (pl === null || pl === void 0 ? void 0 : pl.length) ? pl.map(key => key.id) : [];
            const pId = (newPages === null || newPages === void 0 ? void 0 : newPages.length) ? [...new Set(newPages.concat(pageids))] : pageids;
            const pList = this.pageData.filter(key => pId.includes(key.id));
            const pagesList = pList.map(x => {
                return {
                    id: x.id,
                    pagename: x.pagename,
                    activeVersion: x.activeVersion
                };
            });
            this.rbacForm.patchValue({ pageList: pagesList });
        }
        this.populatePage(action, true, null, pageConfig, fieldConfig, pageids);
    }
    populatePage(action, selected, event, pageConfig, fieldConfig, pageids) {
        // if (event) {
        //   if (Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages = event.map(page => page.id)
        //   }
        //   else if (!Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages.push(event.id);
        //   }
        //   else {
        //     this.permissionUpdatedPages = this.permissionUpdatedPages.filter(id => id !== event.id);
        //   }
        // }
        const pageIds = this.rbacForm.get('pageList').value;
        const id = pageIds.map(key => key.id);
        let provideAccess = this.rbacForm.get('provideAccess').value;
        // Logic to handle the deselected item of Pages field
        if (!selected) {
            this.isPageDeselectSave = true;
            const newlyDeselected = this.previousSelection.filter(item => !id.includes(item));
            this.deselectedItemIds = [...new Set([...this.deselectedItemIds, ...newlyDeselected])];
            const fpagesValue = this.rbacForm.get('fpages').value;
            if (fpagesValue && newlyDeselected.includes(fpagesValue)) {
                this.rbacForm.controls['fpages'].setValue(null);
                this.showFieldGrid = false;
            }
        }
        else {
            this.isPageDeselectSave = false;
        }
        this.previousSelection = [...id];
        if (id === null || id === void 0 ? void 0 : id.length) {
            this.isRemoveAllFields = false;
            if (!provideAccess) {
                this.rbacForm.patchValue({ provideAccess: '1' });
                this.pageLevelAccess = this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                provideAccess = '1';
            }
            // Pageids from api
            this.selectedPageData = pageIds;
            this.pagelevelaccesscount = pageIds;
            if ((this.pagelevelaccesscount || this.pagelevelaccesscount.length > 0) && !this.enablesave) {
                this.pagelevelaccesscountdisable = false;
            }
            console.log(this.selectedPageData);
            if (provideAccess === '1') {
                this.rbacForm.patchValue({ ppages: pageIds });
                if (fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.length) {
                    this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                        return {
                            fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                            access: this.checkAccessType(ele),
                            assetid: ele === null || ele === void 0 ? void 0 : ele.assetid,
                            pageId: ele === null || ele === void 0 ? void 0 : ele.id
                        };
                    }), this.selectedFieldData);
                }
                this.getPageLevelList(action, pageConfig);
            }
            else if (provideAccess === '2') {
                if (fieldConfig !== null) {
                    const pList = this.pageData.filter(key => key.id === pageids[0]);
                    this.rbacForm.patchValue({ fpages: pList });
                    this.getFieldLevelList(action, fieldConfig);
                }
                else {
                    const pId = this.selectedPageData.filter(ele => { var _a; return ele.id === ((_a = pageIds[0]) === null || _a === void 0 ? void 0 : _a.id); });
                    this.rbacForm.patchValue({ fpages: pId });
                    this.getFieldLevelList(action, fieldConfig);
                }
            }
        }
        else {
            this.removeAllPopulatePage();
            this.isRemoveAllFields = true;
        }
    }
    removeAllPopulatePage() {
        this.selectedPageData = [];
        this.pageLevelAccess = false;
        this.fieldLevelAccess = false;
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.rbacForm.get('ppages').setValue(null);
        this.rbacForm.get('fpages').setValue(null);
        this.rbacForm.get('provideAccess').setValue(null);
        this.rbacForm.get('pageLevelData').setValue([]);
        this.rbacForm.get('fieldLevelData').setValue([]);
    }
    showLevelAccess(id) {
        var _a, _b;
        const f = this.rbacForm.controls['fieldLevelData'];
        if ((_a = f.getRawValue()) === null || _a === void 0 ? void 0 : _a.length) {
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(f.getRawValue(), this.selectedFieldData);
        }
        f.controls = [];
        const pageIds = this.rbacForm.get('pageList').value;
        if (pageIds != null) {
            if (id === '1') {
                this.pageLevelAccess = true;
                this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                this.pagelevelaccesscount = pageIds;
                if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                    this.pagelevelaccesssavedisable = false;
                    if (!this.rbacForm.get('ppages').value) {
                        this.rbacForm.get('ppages').patchValue(pageIds);
                    }
                }
                this.getSelectedPages();
            }
            else {
                this.getConfiguredAssetData(this.selectedAccess, this.selectedId);
                this.pageLevelAccess = false;
                this.multiPageAccess = false;
                this.fieldLevelAccess = true;
                this.fieldLevelCheckCount = [];
                const fpages = this.rbacForm.get('fpages').value;
                this.fPagesCheckLength(fpages, pageIds);
                this.selectedPageLevelData = this.rbacForm.get('pageLevelData').value;
                if (this.fieldLevelCheckCount && ((_b = this.fieldLevelCheckCount) === null || _b === void 0 ? void 0 : _b.length) > 0) {
                    this.getFieldLevelList('click');
                }
            }
        }
    }
    fPagesCheckLength(fpages, pageIds) {
        if (!fpages || !(fpages === null || fpages === void 0 ? void 0 : fpages.length)) {
            if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                const p = [pageIds];
                this.rbacForm.get('fpages').setValue(p);
            }
        }
    }
    getPageLevelList(action = null, pageConfig = null) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('ppages').value;
        const pId = pAccessId.map(key => key.pageid || key.id);
        // first check exist page config
        if (pageConfig !== null) {
            // check selected value length
            let existSelectedPageId = [];
            if (formValue.pageLevelData.length) {
                existSelectedPageId = formValue.pageLevelData.map(id => id.id);
            }
            const filterdPageConfigArray = pId
                .map(id => pageConfig.find(key => { var _a; return ((_a = key === null || key === void 0 ? void 0 : key.page) === null || _a === void 0 ? void 0 : _a.id) === id; }))
                .filter(config => config !== undefined);
            for (let i = 0; i < pId.length; i++) {
                let setAccess = '';
                setAccess = this.pageAccessService.getPageAccess(filterdPageConfigArray[i]);
                const pageName = this.pageData.filter(key => key.id === pId[i]);
                if (existSelectedPageId.length) {
                    this.getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig);
                }
                else {
                    this.getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig);
                }
            }
        }
        this.forActionClick(action, pId, accessArray);
    }
    getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig) {
        const checkPid = existSelectedPageId.includes(pId[i]);
        if (!checkPid) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(pageName[0]['activeVersion']['pagename']),
                pageid: new FormControl(pId[i]),
                pageAccess: new FormControl(setAccess),
                validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
                condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
            }));
        }
    }
    getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig) {
        accessArray.push(new FormGroup({
            pageName: new FormControl(pageName[0]['pagename']),
            pageid: new FormControl(pId[i]),
            pageAccess: new FormControl(setAccess),
            validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
            condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
            fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
        }));
    }
    forActionClick(action, pId, accessArray) {
        var _a;
        if (action === 'click') {
            const existingValue = ((_a = this.selectedPageLevelData) === null || _a === void 0 ? void 0 : _a.length) ? this.selectedPageLevelData : accessArray.getRawValue();
            let pagesFromField = Array.from(new Set([...this.selectedFieldData].map(ele => ele.pageId))).filter(ele => ele);
            if (pId === null || pId === void 0 ? void 0 : pId.length) {
                pagesFromField = pId;
            }
            if (pagesFromField === null || pagesFromField === void 0 ? void 0 : pagesFromField.length) {
                accessArray.controls = [];
                accessArray.controls = this.pageAccessService.getAccessArrayOnClick(pagesFromField, this.pagesList, this.selectedFieldData, this.savedPageAccessPatching, existingValue);
                this.savedPageAccessPatching = false;
            }
        }
    }
    checkAccessType(data) {
        if (data === null || data === void 0 ? void 0 : data.isfull) {
            return '2';
        }
        else if (data === null || data === void 0 ? void 0 : data.ishide) {
            return '4';
        }
        else if (data === null || data === void 0 ? void 0 : data.isread) {
            return '3';
        }
        else if (data === null || data === void 0 ? void 0 : data.isreadwrite) {
            return '2';
        }
    }
    getFieldLevelList(action = null, fieldConfig = null) {
        const accessArray = this.rbacForm.get('fieldLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('fpages').value;
        const pageIds = this.rbacForm.get('pageList').value;
        // Fieldpagelevel is a variable is the length of the form page and all page other than grid page
        this.fieldLevelCheckCount = pageIds.filter(x => { var _a; return (x.id === (pAccessId && ((_a = pAccessId[0]) === null || _a === void 0 ? void 0 : _a.id))) || x.id === pAccessId; });
        const fieldLevel = pageIds.filter(x => { var _a; return (x.id === (pAccessId && ((_a = pAccessId[0]) === null || _a === void 0 ? void 0 : _a.id))) || x.id === pAccessId; });
        this.fieldPageLevel = fieldLevel.filter(a => a.activeVersion !== null && a.activeVersion.gridconfig == null)
            .map(a => {
            return {
                id: a.activeVersion.pageid,
                pagename: a.activeVersion.pagename,
                activeVersion: a.activeVersion
            };
        });
        console.log(this.fieldPageLevel);
        this.checkFieldLevelCondition(fieldLevel, pAccessId);
        this.fieldConfigCheck(fieldConfig, accessArray);
        if (action === 'click') {
            accessArray.controls = [];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.getAccessArrayCheck(data, formValue, accessArray);
            });
        }
        this.showFieldGrid = true;
    }
    checkFieldLevelCondition(fieldLevel, pAccessId) {
        if (fieldLevel.length > 0) {
            this.showFieldValidity = fieldLevel[0].templatejson ? true : false;
            this.fieldVersionCheck(fieldLevel, pAccessId);
        }
        else {
            this.showFieldValidity = pAccessId[0].templatejson ? true : false;
            if (pAccessId[0]['version']) {
                this.pId = pAccessId[0].pageid;
            }
            else {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
        }
    }
    fieldVersionCheck(fieldLevel, pAccessId) {
        if (fieldLevel[0]['version']) {
            this.pId = fieldLevel[0].pageid;
        }
        else {
            if (Array.isArray(pAccessId)) {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
            else {
                this.pId = pAccessId;
            }
        }
    }
    fieldConfigCheck(fieldConfig, accessArray) {
        if (fieldConfig !== null) {
            accessArray.controls = [];
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                return {
                    fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                    access: this.checkAccessType(ele),
                    assetid: ele.assetid,
                    pageId: ele.id
                };
            }), this.selectedFieldData);
            this.existingSelectedFieldData = [...this.selectedFieldData];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.mergedAsset = this.mergeAsset(data, this.assetList);
                if (this.mergedAsset.includes(undefined)) {
                    this.mergedAsset = data;
                    if (this.mergedAsset.length !== (data === null || data === void 0 ? void 0 : data.length)) {
                        this.mergedAsset = data;
                    }
                }
                this.fData = data;
                this.getMergedAsset(accessArray);
            });
        }
    }
    getMergedAsset(accessArray) {
        for (let i = 0; i < this.mergedAsset.length; i++) {
            const access = this.pageAccessService.getAccess(this.mergedAsset[i], this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(access[i]['displayname']),
                access: new FormControl('2'),
                assetid: new FormControl(access[i]['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.value : '1'),
                condition: new FormControl(this.mergedAsset[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.fallbackTo : '')
            }));
        }
    }
    getAccessArrayCheck(data, formValue, accessArray) {
        var _a, _b, _c, _d, _e;
        if (data === null || data === void 0 ? void 0 : data.length) {
            this.mergedAsset = this.assetList ? this.mergeAsset(data, this.assetList) : data;
            this.checkMergedAsset(data);
            if (formValue.fieldLevelData.length) {
                this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(formValue.fieldLevelData, this.selectedFieldData);
            }
            let access = null;
            if ((_a = this.savedFieldPagesPatching) === null || _a === void 0 ? void 0 : _a.length) {
                access = (_b = this.savedFieldPagesPatching.find(ele => ele.pageid === this.pId)) === null || _b === void 0 ? void 0 : _b.access;
                this.savedFieldPagesPatching = this.savedFieldPagesPatching.filter(ele => ele.pageid !== this.pId);
            }
            this.fData = data;
            const existingFieldDataMap = {};
            if (!access && ((_c = this.selectedFieldData) === null || _c === void 0 ? void 0 : _c.length)) {
                (_e = (_d = this.assetList) === null || _d === void 0 ? void 0 : _d.filter(ele => ele.pageId === this.pId)) === null || _e === void 0 ? void 0 : _e.forEach(ele => {
                    existingFieldDataMap[ele.assetid] = ele.access;
                });
            }
            this.getAccessByAsset(accessArray);
        }
        else {
            accessArray.controls = [];
        }
    }
    checkMergedAsset(data) {
        if (this.mergedAsset.includes(undefined)) {
            this.mergedAsset = data;
            if (this.mergedAsset.length !== data.length) {
                this.mergedAsset = data;
            }
        }
    }
    getAccessByAsset(accessArray) {
        for (const asset of this.mergedAsset) {
            const assetAccess = this.pageAccessService.getAccess(asset, this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(asset['displayname']),
                access: new FormControl(assetAccess ? assetAccess : '2'),
                assetid: new FormControl(asset['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(asset.conditions ? asset.conditions.value : '1'),
                condition: new FormControl(asset.conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(asset.conditions ? asset.conditions.fallbackTo : '')
            }));
        }
    }
    mergeAsset(arr1, arr2) {
        return arr1.map((item, _i) => {
            for (const value of arr2) {
                if (item.id === value.id) {
                    return Object.assign({}, item, value);
                }
            }
        });
    }
    submitAlert() {
        if (!this.fieldLevelAccess && this.permissionUpdatedPages.length) {
            $('#submitAlert').modal('show');
        }
        else {
            this.saveRbac();
        }
    }
    saveRbac() {
        const access = this.rbacForm.getRawValue();
        const pageAccessFormControl = this.rbacForm.get('pageLevelData');
        const userid = this.rbacForm.get('userid').value;
        const roleId = this.rbacForm.get('roleid').value;
        const policyId = this.rbacForm.get('policyid').value;
        if ((this.isPageDeselectSave && this.deselectedItemIds.length > 0) || this.isRemoveAllFields) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            // Collect asset id's for all deselected page id's
            const deselectedAssets = forkJoin(this.deselectedItemIds.map(id => this.pageAccessService.getAssetByPageId(id).pipe(map(res => res['data'].map(item => ({ assetid: item.id }))))));
            // Make a single API call with all deselected asset IDs
            deselectedAssets.pipe(map(assetIdResponses => [].concat(...assetIdResponses))).subscribe(allDeselectedAssetIds => {
                this.pageAccessService.updateAssetOnDeselect(this.selectedAccess, selectedId, allDeselectedAssetIds).subscribe(() => {
                    this.getConfiguredAssetData(this.selectedAccess, selectedId);
                    this.deselectedItemIds = [];
                });
            });
        }
        const fieldLevelData = access.fieldLevelData;
        if (this.fieldLevelAccess === false) {
            this.getPageLevelByArray(pageAccessFormControl);
        }
        else {
            this.getFieldLevelByAsset(fieldLevelData);
        }
        if (this.fieldLevelAccess) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            this.pageAccessService.createAsset(this.selectedAccess, selectedId, this.fullArray).subscribe(_res => {
                this.getConfiguredAssetData(this.selectedAccess, selectedId);
                this.alert.success('Field Access Updated Successfully');
            });
        }
        else {
            if (this.updatePage) {
                if (this.selectedAccess === 'policy') {
                    this.selectedAccess = 'policygroup';
                }
                this.pageAccessService.updateDynamicPage(this.selectedAccess, this.selectedId, this.fullArray).subscribe(_res => {
                    this.permissionUpdatedPages = [];
                    this.getSelectedPages();
                    this.alert.success('Access Updated Successfully');
                }, _err => this.alert.error(AppConstants.errorMessage));
            }
            else {
                this.pageAccessService
                    .createAccess(this.fieldLevelAccess, access.accessBy, this.fullArray, userid, roleId, policyId)
                    .subscribe(_result => {
                    this.permissionUpdatedPages = [];
                    this.getSelectedPages();
                    this.alert.success('Access Saved Successfully');
                }, _error => this.alert.error(AppConstants.errorMessage));
            }
        }
    }
    getPageLevelByArray(pageLevelData) {
        var _a;
        this.fullArray = (_a = pageLevelData === null || pageLevelData === void 0 ? void 0 : pageLevelData.controls) === null || _a === void 0 ? void 0 : _a.map(x => {
            var _a, _b, _c, _d, _e, _f, _g, _h;
            return {
                page: (_a = x === null || x === void 0 ? void 0 : x.value) === null || _a === void 0 ? void 0 : _a.pageid,
                overrideAssetPermissions: this.permissionUpdatedPages.some(pageId => { var _a; return pageId === ((_a = x === null || x === void 0 ? void 0 : x.value) === null || _a === void 0 ? void 0 : _a.pageid); }) || false,
                readwrite: ((_b = x === null || x === void 0 ? void 0 : x.value) === null || _b === void 0 ? void 0 : _b.pageAccess) === '2' ? true : false,
                read: ((_c = x === null || x === void 0 ? void 0 : x.value) === null || _c === void 0 ? void 0 : _c.pageAccess) === '3' ? true : false,
                none: ((_d = x === null || x === void 0 ? void 0 : x.value) === null || _d === void 0 ? void 0 : _d.pageAccess) === '4' ? true : false,
                full: ((_e = x === null || x === void 0 ? void 0 : x.value) === null || _e === void 0 ? void 0 : _e.pageAccess) === '5' ? true : false,
                touched: x === null || x === void 0 ? void 0 : x.touched,
                conditions: ((_f = x === null || x === void 0 ? void 0 : x.value) === null || _f === void 0 ? void 0 : _f.condition) !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: (_g = x === null || x === void 0 ? void 0 : x.value) === null || _g === void 0 ? void 0 : _g.validity,
                        value_type: 'variable',
                        fallbackTo: (_h = x === null || x === void 0 ? void 0 : x.value) === null || _h === void 0 ? void 0 : _h.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    getFieldLevelByAsset(fieldLevelData) {
        this.fullArray = fieldLevelData.map(x => {
            var _a, _b;
            const assetData = (_a = this.assetList) === null || _a === void 0 ? void 0 : _a.filter(a => a.id === x.assetid && a);
            return {
                id: assetData ? (_b = assetData[0]) === null || _b === void 0 ? void 0 : _b._id : null,
                asset: x.assetid,
                readwrite: (x === null || x === void 0 ? void 0 : x.access) === '2' ? true : false,
                read: (x === null || x === void 0 ? void 0 : x.access) === '3' ? true : false,
                none: (x === null || x === void 0 ? void 0 : x.access) === '4' ? true : false,
                full: (x === null || x === void 0 ? void 0 : x.access) === '5' ? true : false,
                conditions: x.condition !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: x.validity,
                        value_type: 'variable',
                        fallbackTo: x.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    // edit functionalites based on policy group
    setPolicyLevelPagePatching(pageConfig, assetconfig) {
        const pageIds = pageConfig.map(key => key.pageid);
        const selectedModules = [];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '1' });
        this.pageLevelAccess = this.multiPageAccess = true;
        this.fieldLevelAccess = false;
        const m = this.rbacForm.get('module').value;
        if (m !== '' && m !== null) {
            const newModule = m.concat(selectedModules);
            const uniqueNewModule = [...new Set(newModule)];
            this.rbacForm.get('module').setValue(uniqueNewModule);
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    setPolicyLevelFieldPatching(pageConfig, assetconfig, from = null) {
        const mKey = assetconfig.filter(key => key.modulekey !== null && key.modulekey !== '' && key.isactive !== '' && key.isactive !== null);
        const mmkey = mKey.map(key => key.modulekey);
        const modules = this.moduleList.filter(key => mmkey.includes(key.refKey));
        const pageId = assetconfig.filter(key => key.pageid !== null);
        const pageIds = pageId.map(key => key.pageid);
        let selectedModules;
        selectedModules = [...new Set(modules)];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '2' });
        this.pageLevelAccess = this.multiPageAccess = false;
        this.fieldLevelAccess = true;
        if (from === 'field') {
            const m = this.rbacForm.get('module').value;
            if (m !== '') {
                const mk = selectedModules.concat(m);
                selectedModules = mk;
                this.rbacForm.patchValue({ module: selectedModules });
            }
            const sm = this.rbacForm.get('submodule').value;
            if (sm !== '') {
                this.rbacForm.patchValue({ module: selectedModules });
            }
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    getDataBasedOnPolicy(from = null) {
        const policyids = this.rbacForm.get('policyid').value.map(a => a.id);
        if (policyids.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            for (let j = 0; j < policyids.length; j++) {
                const pageConfig = this.policyGroupData.filter(key => key.id === policyids[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (policyids.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPageConfig(pageConfig);
                }
            }
        }
        else {
            this.resetForm('3');
            this.rbacForm.patchValue({ accessBy: '3' });
        }
    }
    getCheckPageConfig(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.fieldLevelClick = true;
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getDataBasedOnRole(from = null) {
        const roleIds = this.rbacForm.get('roleid').value.map(a => a.id);
        if (roleIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < roleIds.length; j++) {
                const pageConfig = this.roleAddedData.filter(key => key.id === roleIds[j]);
                this.getOrgId(pageConfig);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (roleIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckRolePolicyGroup(pageConfig);
                }
            }
        }
        else {
            this.resetForm('2');
            this.rbacForm.patchValue({ accessBy: '2' });
        }
    }
    getOrgId(pageConfig) {
        var _a;
        if (pageConfig === null || pageConfig === void 0 ? void 0 : pageConfig.length) {
            this.organisationid = (_a = pageConfig[0]) === null || _a === void 0 ? void 0 : _a.organizationid;
        }
    }
    getCheckRolePolicyGroup(pageConfig) {
        if (pageConfig[0].rolePolicyGroupConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getRoleAndPolicyData(from = null) {
        const userIds = this.rbacForm.get('userid').value.map(a => a.id);
        if (userIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < userIds.length; j++) {
                const pageConfig = this.userList.filter(key => key.id === userIds[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (userIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPolicyLevelField(pageConfig);
                }
            }
        }
        else {
            this.resetForm('1');
            this.rbacForm.patchValue({ accessBy: '1' });
        }
    }
    getCheckPolicyLevelField(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    resetForm(id = null, clear = null) {
        this.subModuleList = this.pageData = this.selectedPageData = [];
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        this.pageLevelAccess = this.fieldLevelAccess = false;
        this.enablesave = true;
        this.pagelevelaccesscountdisable = true;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.policyGroupPages = [];
        this.selectedAccess = '';
        this.selectedName = '';
        this.permissionUpdatedPages = [];
        this.rbacForm.reset();
        if (id !== null) {
            this.rbacForm.patchValue({ accessBy: id });
        }
        else if (clear !== null) {
            this.AddComponent.resetForm();
        }
    }
    redirectList() {
        this.router.navigateByUrl('/pages/rbac/page-access/page-access-list');
    }
    saveAccessPatching() {
        var _a;
        this.savedFieldPagesPatching = [];
        this.savedPageAccessPatching = false;
        if (((_a = this.rbacForm.get('provideAccess')) === null || _a === void 0 ? void 0 : _a.value) === '2') {
            this.savedPageAccessPatching = true;
        }
        else {
            const ppId = this.rbacForm.get('pageLevelData').value;
            this.savedFieldPagesPatching = [];
            if (ppId === null || ppId === void 0 ? void 0 : ppId.length) {
                ppId.forEach(element => {
                    const selectedObj = { pageid: element === null || element === void 0 ? void 0 : element.pageid, access: element === null || element === void 0 ? void 0 : element.pageAccess };
                    this.savedFieldPagesPatching.push(selectedObj);
                });
            }
        }
        this.alert.success('Temporarily saved Data for changes');
    }
    changeFieldAccess(_index) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const fieldValue = this.rbacForm.get('fieldLevelData').value.map(el => el.access);
        let maxOcc = { element: null, occured: 0 };
        fieldValue.reduce((acc, el) => {
            acc[el] = acc[el] ? acc[el] + 1 : 1;
            if (acc[el] > maxOcc.occured) {
                maxOcc = { element: el, occured: acc[el] };
            }
            return acc;
        }, {});
        const pageIndex = this.rbacForm
            .get('pageLevelData')
            .value.findIndex(el => el.pageid === this.rbacForm.get('fieldLevelData').value[0].pageId);
        if (pageIndex > -1) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageName),
                pageid: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageid),
                pageAccess: new FormControl(maxOcc.element ? maxOcc.element : '2')
            }));
            accessArray.removeAt(pageIndex);
            const isExist = this.selectedPageAccessChanges.findIndex(el => el.pageid === this.rbacForm.get('pageLevelData').value[pageIndex].pageid);
            if (isExist > -1) {
                this.selectedPageAccessChanges.splice(isExist, 1);
            }
        }
    }
    changePageAccess(index) {
        var _a;
        const selectedValue = this.rbacForm.get('pageLevelData').value[index];
        const pageLevelData = this.rbacForm.get('pageLevelData');
        const isExist = (_a = this.selectedPageAccessChanges) === null || _a === void 0 ? void 0 : _a.findIndex(el => (el === null || el === void 0 ? void 0 : el.pageid) === selectedValue.pageid);
        if (isExist > -1) {
            this.selectedPageAccessChanges[isExist].pageAccess = selectedValue.pageAccess;
        }
        else {
            this.selectedPageAccessChanges.push(selectedValue);
        }
        if (selectedValue.pageAccess === '4') {
            const conditionControl = pageLevelData.at(index).get('condition');
            conditionControl.setValue('always');
        }
    }
}
PageaccessComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i0.ChangeDetectorRef }, { token: i2.DataStoreService }, { token: i3.Router }, { token: i4.AlertService }], target: i0.ɵɵFactoryTarget.Component });
PageaccessComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PageaccessComponent, selector: "lib-pageaccess", viewQueries: [{ propertyName: "AddComponent", first: true, predicate: ManageAccessRadioComponent, descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"row rbac-card\">\r\n  <div class=\"col-12\">\r\n    <mat-card class=\"mat-card\">\r\n      <mat-card-content class=\"p-2\">\r\n        <form [formGroup]=\"rbacForm\">\r\n          <app-manage-access-radio (accessBy)=\"accessBy($event)\" (userDropdown)=\"userDropdown($event)\"\r\n            (roleDropdown)=\"roleDropdown($event)\" (policyDropdown)=\"policyDropdown($event)\"\r\n            (dropDownSelectedValues)=\"dropDownSelectedValues($event)\"></app-manage-access-radio>\r\n\r\n          <h3 class=\"radio-title mb-2\">Page Access Management</h3>\r\n          <mat-card class=\"mat-card\">\r\n            <mat-card-content class=\"p-2\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Modules</label>\r\n                  <angular2-multiselect [data]=\"moduleList\" [settings]=\"moduleDropdownSettings\"\r\n                    onSelect=\"loadSubModule('click')\" onDeSelect=\"removeSubModule($event)\"\r\n                    onSelectAll=\"loadSubModule('click')\" onDeSelectAll=\"removeAllSubModule()\"\r\n                    formControlName=\"module\"></angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Sub Modules</label>\r\n                  <angular2-multiselect [data]=\"subModuleList\" [settings]=\"submoduleDropdownSettings\"\r\n                    onSelect=\"loadSubModulePage('click')\" onDeSelect=\"removeSubModulePage($event, 'submodule')\"\r\n                    onSelectAll=\"loadSubModulePage('click')\" onDeSelectAll=\"removeAllSubModulePage()\"\r\n                    formControlName=\"submodule\">\r\n                  </angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title\">Pages</label>\r\n                  <angular2-multiselect [data]=\"pagesList\" [settings]=\"pageDropdownSettings\"\r\n                    (onSelect)=\"populatePage('click',true,$event)\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                    (onDeSelect)=\"populatePage('click',false,$event)\" (onSelectAll)=\"populatePage('click',true,$event)\"\r\n                    (onDeSelectAll)=\"removeAllPopulatePage()\" formControlName=\"pageList\"></angular2-multiselect>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title d-block required\">Provide Access by </label>\r\n                  <mat-radio-group formControlName=\"provideAccess\" (change)=\"showLevelAccess($event.value)\">\r\n                    <mat-radio-button value=\"1\" fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL\">Page Level&nbsp;&nbsp;</mat-radio-button>\r\n                    <mat-radio-button value=\"2\" fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL\">Field Level</mat-radio-button>\r\n                  </mat-radio-group>\r\n                </div> \r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"fieldLevelAccess\">\r\n                  <label class=\"radio-title\">Select Page</label>\r\n                  <br />\r\n                  <p-dropdown id=\"selectpage\" ariaLabelledBy=\"selectpage\" [options]=\"selectedPageData\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                    [filter]=\"true\" [showClear]=\"fieldLevelCheckCount && fieldLevelCheckCount?.length\"\r\n                    [resetFilterOnHide]=\"true\" (onChange)=\"getFieldLevelList('click')\" formControlName=\"fpages\" optionLabel=\"pagename\" optionValue=\"id\"\r\n                    placeholder=\"Select a page\" class=\"dd-stand-size\">\r\n                    <ng-template let-item pTemplate=\"selectedItem\">\r\n                      <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename }}</div>\r\n                    </ng-template>\r\n                    <ng-template let-object pTemplate=\"item\">\r\n                      {{ object.pagename }}\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"pageLevelAccess\" class=\"row\">\r\n                <div class=\"col-12 mt-3 pageLevelAccessTable\">\r\n                  <table aria-describedby=\"pageLevelAccessTable\" class=\"table table-bordered\">\r\n                    <col />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <thead>\r\n                      <th class=\"text-left\">Page Name</th>\r\n                      <th class=\"text-center\">R</th>\r\n                      <th class=\"text-center\">RW</th>\r\n                      <th class=\"text-center\">RWD</th>\r\n                      <th class=\"text-center\">None</th>\r\n                      <th class=\"text-center\">Validity</th>\r\n                    </thead>\r\n                    <tbody>\r\n                      <ng-container formArrayName=\"pageLevelData\"\r\n                        *ngFor=\"let fAccess of rbacForm.get('pageLevelData')['controls']; let i = index\">\r\n                        <tr [formGroup]=\"rbacForm.get('pageLevelData')['controls'][i]\">\r\n                          <td class=\"text-left\">\r\n                            <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                              formControlName=\"pageName\" placeholder=\"pageleveldata\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\" type=\"radio\" value=\"3\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\" type=\"radio\" value=\"2\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE_DELETE\" type=\"radio\" value=\"5\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <input (change)=\"changePageAccess(i)\" formControlName=\"pageAccess\"\r\n                              fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_NONE\" type=\"radio\" value=\"4\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <ng-container *ngIf=\"\r\n                                  rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                                  rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                                \">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" [disabled]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <p-inputNumber type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [readonly]=\"fAccess?.value?.pageAccess === '4'\" [min]=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_VALIDITY\" formControlName=\"validity\"\r\n                                style=\"width: 50px; margin-left: 15px\"></p-inputNumber>\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.pageAccess === '3' || fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-container>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\" *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length > 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <thead>\r\n                        <th class=\"text-left\">Field Name</th>\r\n                        <th class=\"text-center\">Read</th>\r\n                        <th class=\"text-center\">Write</th>\r\n                        <th class=\"text-center\">None</th>\r\n                        <th class=\"text-center\" *ngIf=\"showFieldValidity\">Validity</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"3\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"2\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\"\r\n                                value=\"4\" />\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- This code for field access for grid page -->\r\n              <div class=\"row\" *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length === 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <!-- <col style=\"width: 120px\" /> -->\r\n                      <thead>\r\n                        <tr>\r\n                          <th class=\"text-left\">Field Name</th>\r\n                          <th class=\"text-center\">Read</th>\r\n                          <!-- <th class=\"text-center\">Write</th> -->\r\n                          <th class=\"text-center\">None</th>\r\n                          <th class=\"text-center\" *ngIf=\"showFieldValidity\">Validity</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\"/>\r\n                              <input type=\"hidden\" formControlName=\"pageId\" name=\"permissiongroup_{{i}}\"/>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"3\"/>\r\n                            </td>                                           \r\n                            <!-- <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"2\" />\r\n                            </td> -->\r\n                            <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value = \"4\"/>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\" placeholder=\"Select a condition\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\" [min]=\"1\"\r\n                                formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\" style=\"width: 50px; margin-left: 15px\"\r\n                                pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\" formControlName=\"fallbackTo\"\r\n                                *ngIf=\"fAccess?.value?.condition !== 'always'\" placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\" optionLabel=\"name\"\r\n                                optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </form>\r\n        <div class=\"mt-3\" *ngIf=\"!fieldLevelAccess && selectedAccess === 'role'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Policy Groups associated with {{ selectedName }} Role</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let policyGroup of policyGroupPages\">\r\n                      <div class=\"radio-title mb-2\">Policy Group: {{ policyGroup?.policygroup?.policygroupname }}</div>\r\n                      <!-- It shows associated Roles -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">R</th>\r\n                              <th scope=\"col\" class=\"text-center\">RW</th>\r\n                              <th scope=\"col\" class=\"text-center\">RWD</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of policyGroup?.policygrouppage                        \">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.read\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.readwrite\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.full\" type=\"radio\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.hide\" type=\"radio\" />\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupPages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Policy Group.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n          \r\n        </div>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupRolePages.length && !fieldLevelAccess && selectedAccess === 'policygroup'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Roles associated with {{ selectedName }} Policy Group</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let role of policyGroupRolePages\">\r\n                      <div class=\"radio-title mb-2\">Role: {{ role?.role?.name }}</div>\r\n                      <!-- It shows associated policygroups -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <col style=\"width: 120px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">R</th>\r\n                              <th scope=\"col\" class=\"text-center\">RW</th>\r\n                              <th scope=\"col\" class=\"text-center\">RWD</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of role?.rolepage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.read\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.readwrite\" type=\"radio\" />\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.full\" type=\"radio\" />\r\n                                </td>\r\n    \r\n                                <td class=\"text-center\">\r\n                                  <input disabled [checked]=\"page?.hide\" type=\"radio\" />\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupRolePages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Role.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n          \r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf = \"multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\" [disabled]=\"(pagelevelaccesssavedisable && pagelevelaccesscountdisable) || (!this.pagelevelaccesscount || this.pagelevelaccesscount?.length === 0) || (enablesave && pagelevelaccesscount && pagelevelaccesscount?.length > 0)\">Save</button>\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf = \"!multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\" [disabled]=\"((multiPageAccess) || (fieldLevelCheckCount && fieldLevelCheckCount?.length === 0) || (enablesave && fieldLevelCheckCount && fieldLevelCheckCount?.length > 0) || (!pagelevelaccesscount || pagelevelaccesscount?.length === 0))\">Save</button>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"submitAlert\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Page Access - Warning</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        Field Level Access is already present for this Page. Modifying the Page Level Access will remove all Field Level\r\n        Access. Do you want to proceed?\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"saveRbac()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            (click)=\"getSelectedPages()\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".mat-card-content .mat-radio-group .mat-radio-button{padding-right:10px;font-family:\"Roboto\",sans-serif!important}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;padding-bottom:13px}:host ::ng-deep .p-dropdown.nobg{background-color:transparent;border:none}:host ::ng-deep .p-dropdown.nobg:hover,:host ::ng-deep .p-dropdown.nobg:focus{background-color:transparent!important;border:none!important}.pageLevelAccessTable table thead tr th,.pageLevelAccessTable table tbody tr td{vertical-align:middle;color:var(--text-dark)}.pageLevelAccessTable table thead tr th input,.pageLevelAccessTable table tbody tr td input{background:var(--bg-light);color:var(--text-dark)}.pageLevelAccessTable table thead tr th a:hover,.pageLevelAccessTable table tbody tr td a:hover{text-decoration:none}:host ::ng-deep .p-inputtext.validity{height:30px;line-height:13px}:host ::ng-deep .p-dropdown.condition{height:30px;line-height:13px}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .dynamic-search .p-component{font-size:var(--font-13)}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}\n"], components: [{ type: i5.AlertComponent, selector: "app-alert" }, { type: i6.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i7.ManageAccessRadioComponent, selector: "app-manage-access-radio", inputs: ["reloadForm"], outputs: ["accessBy", "policyDropdown", "roleDropdown", "userDropdown", "dropDownSelectedValues"] }, { type: i8.AngularMultiSelect, selector: "angular2-multiselect", inputs: ["settings", "data", "loading"], outputs: ["onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll", "onOpen", "onClose", "onScrollToEnd", "onFilterSelectAll", "onFilterDeSelectAll", "onAddFilterNewItem", "onGroupSelect", "onGroupDeSelect"] }, { type: i9.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i10.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i11.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { type: i11.AccordionTab, selector: "p-accordionTab", inputs: ["header", "disabled", "cache", "transitionOptions", "selected"], outputs: ["selectedChange"] }], directives: [{ type: i6.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i12.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i13.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i9.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { type: i14.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { type: i15.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { type: i12.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.RadioControlValueAccessor, selector: "input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]", inputs: ["name", "formControlName", "value"] }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { type: i1.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i1.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i16.InputText, selector: "[pInputText]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-pageaccess',
                    templateUrl: './pageaccess.component.html',
                    styleUrls: ['./pageaccess.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i0.ChangeDetectorRef }, { type: i2.DataStoreService }, { type: i3.Router }, { type: i4.AlertService }]; }, propDecorators: { AddComponent: [{
                type: ViewChild,
                args: [ManageAccessRadioComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZWFjY2Vzcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvcmJhYy1wYWdlYWNjZXNzL3NyYy9saWIvcGljcy1yYmFjLXBhZ2VhY2Nlc3MvcGFnZWFjY2Vzcy9wYWdlYWNjZXNzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9yYmFjLXBhZ2VhY2Nlc3Mvc3JjL2xpYi9waWNzLXJiYWMtcGFnZWFjY2Vzcy9wYWdlYWNjZXNzL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFxQixTQUFTLEVBQW9CLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsU0FBUyxFQUFlLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVoRixPQUFPLEVBQWdCLFFBQVEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM5QyxPQUFPLEVBQUUsR0FBRyxFQUFjLE1BQU0sZ0JBQWdCLENBQUM7QUFDakQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBRWhFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUc1RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDekQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0ZBQWdGLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE1SCxNQUFNLE9BQU8sbUJBQW1CO0lBcUU5QixZQUNFLFFBQWtCLEVBQ1YsV0FBd0IsRUFDekIsS0FBd0IsRUFDdkIsYUFBK0IsRUFDL0IsTUFBYyxFQUNkLEtBQW1CO1FBSm5CLGdCQUFXLEdBQVgsV0FBVyxD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U0FBUyxFQUFFLENBQUMsNkJBQTZCLENBQUM7aUJBQzNDO3dPQXNCd0MsWUFBWTtzQkFBbEQsU0FBUzt1QkFBQywwQkFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBJbmplY3RvciwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUFycmF5LCBGb3JtQnVpbGRlciwgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBmb3JrSm9pbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAsIHN3aXRjaE1hcCAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFwcENvbnN0YW50cyB9IGZyb20gJy4uL0Bjb3JlL2NvbnN0YW50cy9hcHAtY29uc3RhbnRzJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vQGNvcmUvdXJscy9hY2Nlc3NfbWFuYWdlbWVudF9kYXRhbW9kZWwnO1xyXG5pbXBvcnQgeyBQYWdlQWNjZXNzU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3VybHMvcGFnZS1hY2Nlc3Muc2VydmljZSc7XHJcbmltcG9ydCB7IFJCQUNJTkZPIH0gZnJvbSAnLi4vQGNvcmUvdXJscy9yYmFjLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBNYW5hZ2VBY2Nlc3NSYWRpb0NvbXBvbmVudCB9IGZyb20gJy4uL0BzaGFyZWQvY29tbW9uLWNvbXBvbmVudHMvbWFuYWdlLWFjY2Vzcy1yYWRpby9tYW5hZ2UtYWNjZXNzLXJhZGlvLmNvbXBvbmVudCc7XHJcblxyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItcGFnZWFjY2VzcycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BhZ2VhY2Nlc3MuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFnZWFjY2Vzc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIHJiYWNGb3JtOiBGb3JtR3JvdXA7XHJcbiAgdXNlckxpc3Q6IGFueVtdID0gW107XHJcbiAgcG9saWN5R3JvdXBEYXRhOiBhbnlbXSA9IFtdO1xyXG4gIHJvbGVBZGRlZERhdGE6IGFueVtdID0gW107XHJcbiAgcGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgbXVsdGlQYWdlQWNjZXNzID0gZmFsc2U7XHJcbiAgZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gIG1vZHVsZUxpc3QgPSBbXTtcclxuICBzdWJNb2R1bGVMaXN0ID0gW107XHJcbiAgcGFnZURhdGEgPSBbXTtcclxuICBwYWdlc0xpc3QgPSBbXTtcclxuICBsb2FkZWRQYWdlc0xpc3QgPSBbXTtcclxuICBzZWxlY3RlZFBhZ2VEYXRhID0gW107XHJcbiAgZkRhdGEgPSBbXTtcclxuICBtb2R1bGVEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgc3VibW9kdWxlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHBhZ2VEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgcGFnZUFjY2Vzc0Ryb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBmaWVsZEFjY2Vzc0Ryb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBAVmlld0NoaWxkKE1hbmFnZUFjY2Vzc1JhZGlvQ29tcG9uZW50KSBBZGRDb21wb25lbnQ7XHJcbiAgZmllbGRMZXZlbENsaWNrID0gZmFsc2U7XHJcbiAgZWRpdFBhZ2UgPSBmYWxzZTtcclxuICBzZWxlY3RlZEZpZWxkRGF0YTogYW55W10gPSBbXTtcclxuICBvcmdhbmlzYXRpb25pZDogYW55O1xyXG4gIGV4aXN0aW5nU2VsZWN0ZWRGaWVsZERhdGE6IGFueVtdO1xyXG4gIHNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nOiBib29sZWFuO1xyXG4gIHNhdmVkRmllbGRQYWdlc1BhdGNoaW5nOiBhbnlbXTtcclxuICBzZWxlY3RlZFBhZ2VMZXZlbERhdGE6IGFueVtdO1xyXG4gIHNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMgPSBbXTtcclxuICBpc1J1bkNvbmQgPSB0cnVlO1xyXG4gIHNlbGVjdGVkQWNjZXNzOiBzdHJpbmc7XHJcbiAgdXBkYXRlUGFnZTogYm9vbGVhbjtcclxuICBzZWxlY3RlZElkOiBudW1iZXI7XHJcbiAgc2VsZWN0ZWROYW1lOiBzdHJpbmc7XHJcbiAgYXNzZXRMaXN0OiBhbnk7XHJcbiAgcG9saWN5R3JvdXBQYWdlczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHBvbGljeUdyb3VwUm9sZVBhZ2VzOiBBcnJheTxhbnk+ID0gW107XHJcbiAgc2VsZWN0ZWRSb2xlID0gJyc7XHJcbiAgY29uZGl0aW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHBlcm1pc3Npb25zOiBBcnJheTxhbnk+ID0gW107XHJcbiAgc2hvd0ZpZWxkVmFsaWRpdHk6IGJvb2xlYW47XHJcbiAgcGFnZUFjY2Vzc1NlcnZpY2U6IFBhZ2VBY2Nlc3NTZXJ2aWNlO1xyXG4gIG9yZ1N1YnM6IFN1YnNjcmlwdGlvbjtcclxuICBvcmdJZDogYW55O1xyXG4gIGVudmlyb25tZW50OiBhbnk7XHJcbiAgUkJBQ09SRzogUkJBQ0lORk8gPSBuZXcgUkJBQ0lORk8oKTtcclxuICBQRVJNSVNTSU9OOiBhbnk7XHJcbiAgYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlO1xyXG4gIHBJZDogYW55O1xyXG4gIGZ1bGxBcnJheTogYW55O1xyXG4gIG1lcmdlZEFzc2V0OiBhbnk7XHJcbiAgaHR0cFNlcnZpY2U6IGFueTtcclxuICBwZXJtaXNzaW9uVXBkYXRlZFBhZ2VzOiBBcnJheTxhbnk+ID0gW107XHJcbiAgZmllbGRQYWdlTGV2ZWw6IFtdO1xyXG4gIGZpZWxkTGV2ZWxDaGVja0NvdW50OiBhbnk7XHJcbiAgcGFnZWxldmVsYWNjZXNzc2F2ZWRpc2FibGUgOiBib29sZWFuID0gdHJ1ZTtcclxuICBwYWdlbGV2ZWxhY2Nlc3Njb3VudDogYW55O1xyXG4gIHNlbGVjdGVkUGFnZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICBwcmV2aW91c1NlbGVjdGlvbjogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gIGlzUGFnZURlc2VsZWN0U2F2ZTpib29sZWFuID0gZmFsc2U7XHJcbiAgZGVzZWxlY3RlZEl0ZW1JZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICBpc1JlbW92ZUFsbEZpZWxkczpib29sZWFuID0gZmFsc2U7XHJcbiAgZGVzZWxlY3RBc3NldElkczogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gIGVuYWJsZXNhdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgc2hvd0ZpZWxkR3JpZDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwdWJsaWMgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgIHByaXZhdGUgYWxlcnQ6IEFsZXJ0U2VydmljZVxyXG4gICkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZSA9IGluamVjdG9yLmdldDxQYWdlQWNjZXNzU2VydmljZT4oUGFnZUFjY2Vzc1NlcnZpY2UpO1xyXG4gICAgdGhpcy5hdXRoU2VydmljZSA9IGluamVjdG9yLmdldDxBdXRoU2VydmljZT4oQXV0aFNlcnZpY2UpO1xyXG4gICAgdGhpcy51cGRhdGVQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnNob3dGaWVsZFZhbGlkaXR5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbmRpdGlvbnMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnRGF5cycsXHJcbiAgICAgICAga2V5OiAnZGF5cydcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdBbHdheXMnLFxyXG4gICAgICAgIGtleTogJ2Fsd2F5cydcclxuICAgICAgfVxyXG4gICAgXTtcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnUicsXHJcbiAgICAgICAga2V5OiAncidcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdSVycsXHJcbiAgICAgICAga2V5OiAncncnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnTm9uZScsXHJcbiAgICAgICAga2V5OiAnbidcclxuICAgICAgfVxyXG4gICAgXTtcclxuICAgIHRoaXMucGFnZURyb3Bkb3duU2V0dGluZ3MgPSB7XHJcbiAgICAgIHNpbmdsZVNlbGVjdGlvbjogZmFsc2UsXHJcbiAgICAgIHRleHQ6ICdTZWxlY3QgUGFnZXMnLFxyXG4gICAgICBzZWxlY3RBbGxUZXh0OiAnU2VsZWN0IEFsbCcsXHJcbiAgICAgIHVuU2VsZWN0QWxsVGV4dDogJ1VuU2VsZWN0IEFsbCcsXHJcbiAgICAgIGVuYWJsZVNlYXJjaEZpbHRlcjogdHJ1ZSxcclxuICAgICAgY2xhc3NlczogJ215Y2xhc3MgY3VzdG9tLWNsYXNzJyxcclxuICAgICAgbGFiZWxLZXk6ICdwYWdlbmFtZScsXHJcbiAgICAgIHNlYXJjaEJ5OiBbJ3BhZ2VuYW1lJ11cclxuICAgIH07XHJcbiAgICB0aGlzLnBhZ2VBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge1xyXG4gICAgICBzaW5nbGVTZWxlY3Rpb246IGZhbHNlLFxyXG4gICAgICB0ZXh0OiAnU2VsZWN0IFBhZ2VzJyxcclxuICAgICAgc2VsZWN0QWxsVGV4dDogJ1NlbGVjdCBBbGwnLFxyXG4gICAgICB1blNlbGVjdEFsbFRleHQ6ICdVblNlbGVjdCBBbGwnLFxyXG4gICAgICBlbmFibGVTZWFyY2hGaWx0ZXI6IHRydWUsXHJcbiAgICAgIGxhYmVsS2V5OiAncGFnZW5hbWUnLFxyXG4gICAgICBzZWFyY2hCeTogWydwYWdlbmFtZSddXHJcbiAgICB9O1xyXG4gICAgdGhpcy5maWVsZEFjY2Vzc0Ryb3Bkb3duU2V0dGluZ3MgPSB7XHJcbiAgICAgIHNpbmdsZVNlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgdGV4dDogJ1NlbGVjdCBQYWdlJyxcclxuICAgICAgc2VsZWN0QWxsVGV4dDogJ1NlbGVjdCBBbGwnLFxyXG4gICAgICB1blNlbGVjdEFsbFRleHQ6ICdVblNlbGVjdCBBbGwnLFxyXG4gICAgICBlbmFibGVTZWFyY2hGaWx0ZXI6IHRydWUsXHJcbiAgICAgIGxhYmVsS2V5OiAncGFnZW5hbWUnLFxyXG4gICAgICBzZWFyY2hCeTogWydwYWdlbmFtZSddXHJcbiAgICB9O1xyXG4gICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IFtdO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudCA9IFtdO1xyXG4gICAgLy8gdGhpcy5vcmdTdWJzID0gdGhpcy5hdXRoU2VydmljZS5vcmdJbmZvLnN1YnNjcmliZShvcmcgPT4ge1xyXG4gICAgLy8gICB0aGlzLm9yZ0lkID0gb3JnO1xyXG4gICAgLy8gICBpZiAodGhpcy5vcmdJZCkge1xyXG4gICAgLy8gICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uUGFnZSgpO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQgeyBcclxuICAgIHRoaXMub3JnU3VicyA9IHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzWydSQkFDT1JHJ10gJiYgcmVzWydSQkFDT1JHJ10gIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5SQkFDT1JHID0gcmVzWydSQkFDT1JHJ107XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5SQkFDT1JHLCAnUkJBQ09SRyBFdmVudCBTY2hlZHVsZXInKTtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gdGhpcy5SQkFDT1JHWydlbnZpcm9ubWVudCddO1xyXG4gICAgICAgIHRoaXMub3JnSWQgPSBwYXJzZUludCh0aGlzLlJCQUNPUkdbJ29yZ0lEJ10pO1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UgPSByZXNbJ0hUVFBTRVJWSUNFJ11cclxuICAgICAgICBpZiAodGhpcy5lbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgdGhpcy5nZXRPcmdhbml6YXRpb25QYWdlKCk7XHJcbiAgICAgICAgICB0aGlzLmxvYWRSYmFjRm9ybSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vcmdTdWJzLnVuc3Vic2NyaWJlKCk7XHJcbiAgfVxyXG4gIGxvYWRSYmFjRm9ybSgpIHtcclxuICAgIHRoaXMucmJhY0Zvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgaWQ6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgYWNjZXNzQnk6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgdXNlcmlkOiBuZXcgRm9ybUNvbnRyb2woJycpLFxyXG4gICAgICBwb2xpY3lpZDogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICByb2xlaWQ6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcHJvdmlkZUFjY2VzczogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwYWdlQWNjZXNzOiBuZXcgRm9ybUNvbnRyb2woJzInKSxcclxuICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgbW9kdWxlOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHN1Ym1vZHVsZTogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwYWdlTGlzdDogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwcGFnZXM6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgZnBhZ2VzOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGZpZWxkTGV2ZWxEYXRhOiBuZXcgRm9ybUFycmF5KFtdKSxcclxuICAgICAgcGFnZUxldmVsRGF0YTogbmV3IEZvcm1BcnJheShbXSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWNjZXNzQnkoZXZ0KSB7XHJcbiAgICB0aGlzLnBhZ2VzTGlzdCA9IFtdO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgYWNjZXNzQnk6IGV2dCB9KTtcclxuICAgIHRoaXMucmVzZXRGb3JtKGV2dCk7XHJcbiAgfVxyXG4gIHVzZXJEcm9wZG93bihldnQpIHtcclxuICAgIHRoaXMudXNlckxpc3QgPSBldnQ7XHJcbiAgfVxyXG4gIHJvbGVEcm9wZG93bihldnQpIHtcclxuICAgIHRoaXMucm9sZUFkZGVkRGF0YSA9IGV2dDtcclxuICB9XHJcbiAgcG9saWN5RHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRGF0YSA9IGV2dDtcclxuICB9XHJcbiAgZHJvcERvd25TZWxlY3RlZFZhbHVlcyhldnQpIHtcclxuICAgIHRoaXMuZW5hYmxlc2F2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RlZFJvbGUgPSAnJztcclxuICAgIHRoaXMudXBkYXRlUGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9IGV2dC5mcm9tO1xyXG4gICAgdGhpcy5zZWxlY3RlZE5hbWUgPSBldnQubmFtZTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHVzZXJpZDogZXZ0LnVzZXJpZCB9KTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHJvbGVpZDogZXZ0LnJvbGVpZCB9KTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBvbGljeWlkOiBldnQucG9saWN5aWQgfSk7XHJcbiAgICBpZiAodGhpcy5wYWdlc0xpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uUGFnZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICBpZiAoZXZ0LmZyb20gPT09ICdyb2xlJykge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUm9sZSA9IGV2dC5yb2xlaWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRPcmdhbml6YXRpb25QYWdlKCkge1xyXG4gICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRPcmdhbml6YXRpb25QYWdlKHRoaXMub3JnSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMucGFnZURhdGEgPSBkYXRhPy5maWx0ZXIoYSA9PiBhLmFjdGl2ZVZlcnNpb24pO1xyXG4gICAgICAgICAgdGhpcy5sb2FkZWRQYWdlc0xpc3QgPSB0aGlzLnBhZ2VEYXRhLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBpZDogeC5hY3RpdmVWZXJzaW9uLnBhZ2VpZCxcclxuICAgICAgICAgICAgICBwYWdlbmFtZTogeC5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lLFxyXG4gICAgICAgICAgICAgIGFjdGl2ZVZlcnNpb246IHguYWN0aXZlVmVyc2lvblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEZhbGxiYWNrUGVybWlzc2lvbihmQWNjZXNzKSB7XHJcbiAgICBpZiAoZkFjY2Vzcz8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICcyJyB8fCBmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnMicpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnMuZmlsdGVyKGEgPT4gYS5rZXkgIT09ICdydycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RlZFBhZ2VzKF9zZWxlY3RlZFBhZ2VzPzogYW55LCBfcGFnZUNvbmZpZz86IGFueSwgX2Fzc2V0Y29uZmlnPzogYW55KSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMgPSBbXTtcclxuICAgIHRoaXMudXBkYXRlUGFnZSA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICd1c2VyJykge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkudXNlcmlkO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncm9sZScpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnJvbGVpZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5wb2xpY3lpZDtcclxuICAgICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9ICdwb2xpY3lncm91cCc7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdldEdyYW50ZWRQYWdlcygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0R3JhbnRlZFBhZ2VzKCkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXREeW5hbWljUGFnZSh0aGlzLnNlbGVjdGVkQWNjZXNzLCB0aGlzLnNlbGVjdGVkSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICBsZXQgZ3JhbnRlZFBhZ2VzOiBhbnk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncm9sZScpIHtcclxuICAgICAgICBncmFudGVkUGFnZXMgPSByZXNbJ2RhdGEnXS5yb2xlUGFnZXM7XHJcbiAgICAgICAgdGhpcy5wb2xpY3lHcm91cFBhZ2VzID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBQYWdlcztcclxuICAgICAgICB0aGlzLnBhZ2VzTGlzdCA9IHRoaXMubG9hZGVkUGFnZXNMaXN0Lm1hcChwYWdlcyA9PiAoe1xyXG4gICAgICAgICAgLi4ucGFnZXMsXHJcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5jaGVja0V4aXN0aW5nR3JhbnRlZFBvbGljeVBhZ2VzKHBhZ2VzLCB0aGlzLnBvbGljeUdyb3VwUGFnZXMpXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdwb2xpY3lncm91cCcpIHtcclxuICAgICAgICBncmFudGVkUGFnZXMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cFBhZ2VzO1xyXG4gICAgICAgIHRoaXMucG9saWN5R3JvdXBSb2xlUGFnZXMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cFJvbGVQYWdlcy5tYXAocG9saWN5R3JvdXAgPT4gKHtcclxuICAgICAgICAgIC4uLnBvbGljeUdyb3VwLFxyXG4gICAgICAgICAgcm9sZXBhZ2U6IFsuLi5uZXcgTWFwKHBvbGljeUdyb3VwLnJvbGVwYWdlLm1hcChpdGVtID0+IFtpdGVtLnBhZ2VbMF0/LmFjdGl2ZVZlcnNpb24/LmlkLCBpdGVtXSkpLnZhbHVlcygpXVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLnBhZ2VzTGlzdCA9IHRoaXMubG9hZGVkUGFnZXNMaXN0Lm1hcChwYWdlcyA9PiAoe1xyXG4gICAgICAgICAgLi4ucGFnZXMsXHJcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5jaGVja0V4aXN0aW5nR3JhbnRlZFJvbGVQYWdlcyhwYWdlcywgdGhpcy5wb2xpY3lHcm91cFJvbGVQYWdlcylcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZ3JhbnRlZFBhZ2VzID0gcmVzWydkYXRhJ107XHJcbiAgICAgICAgdGhpcy5wYWdlc0xpc3QgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmxvYWRQYWdlcyhbXSwgbnVsbCwgW10sIFtdLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgIGlmIChncmFudGVkUGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYWdlID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBwYWdlRGF0YSA9IGdyYW50ZWRQYWdlcy5maWx0ZXIocGFnZSA9PiBwYWdlLnBhZ2UpLm1hcChhID0+IGEucGFnZSk7XHJcbiAgICAgICAgcGFnZURhdGEuZm9yRWFjaCh4ID0+ICh4LnBhZ2VuYW1lID0geD8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWUgfHwgJycpKTtcclxuICAgICAgICBjb25zdCB1bmlxdWVQYWdlRGF0YSA9IFsuLi5uZXcgTWFwKHBhZ2VEYXRhLm1hcChpdGVtID0+IFtpdGVtWydpZCddLCBpdGVtXSkpLnZhbHVlcygpXTtcclxuICAgICAgICBjb25zdCBwYWdlSURzID0gdW5pcXVlUGFnZURhdGEubWFwKGEgPT4gYVsnaWQnXSk7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZ0RhdGEgPSBncmFudGVkUGFnZXMubWFwKGEgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IGEuaWQsXHJcbiAgICAgICAgICAgIGlzZnVsbDogYS5mdWxsLFxyXG4gICAgICAgICAgICBpc2hpZGU6IGEuaGlkZSxcclxuICAgICAgICAgICAgaXNyZWFkOiBhLnJlYWQsXHJcbiAgICAgICAgICAgIGlzcmVhZHdyaXRlOiBhLnJlYWR3cml0ZSxcclxuICAgICAgICAgICAgY29uZGl0aW9uczogYS5jb25kaXRpb25zLFxyXG4gICAgICAgICAgICBwYWdlOiBhLnBhZ2VcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkUGFnZXModW5pcXVlUGFnZURhdGEsIG51bGwsIHBhZ2VJRHMsIHBhZ2VDb25maWdEYXRhLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgICAgdGhpcy5vbkNvbnRyb2xDaGFuZ2VzKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25Db250cm9sQ2hhbmdlcygpIHtcclxuICAgIGNvbnN0IHBhZ2VMZXZlbEFjY2Vzc0Zvcm1Db250cm9sID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBwYWdlTGV2ZWxBY2Nlc3NGb3JtQ29udHJvbC5jb250cm9scy5mb3JFYWNoKFxyXG4gICAgICBjb250cm9sID0+IHtcclxuICAgICAgICBjb250cm9sLnZhbHVlQ2hhbmdlcy5waXBlKFxyXG4gICAgICAgICAgbWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVmFsdWUgQ2hhbmdlZCcpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMuc29tZShwYWdlSWQgPT4gcGFnZUlkID09PSB2YWx1ZS5wYWdlaWQpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzID0gdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLmZpbHRlcihwYWdlSWQgPT4gcGFnZUlkICE9PSB2YWx1ZS5wYWdlaWQpXHJcbiAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnB1c2godmFsdWUucGFnZWlkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5wdXNoKHZhbHVlLnBhZ2VpZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkuc3Vic2NyaWJlKCk7XHJcbiAgICAgIH1cclxuICAgIClcclxuICB9XHJcblxyXG4gIGNoZWNrRXhpc3RpbmdHcmFudGVkUG9saWN5UGFnZXMocGFnZSwgcG9saWN5R3JvdXBQYWdlcykge1xyXG4gICAgZm9yIChjb25zdCBwb2xpY3lHcm91cHMgb2YgcG9saWN5R3JvdXBQYWdlcykge1xyXG4gICAgICBmb3IgKGNvbnN0IHBhZ2VzIG9mIHBvbGljeUdyb3Vwcy5wb2xpY3lncm91cHBhZ2UpIHtcclxuICAgICAgICBpZiAocGFnZXMucGFnZVswXS5hY3RpdmVWZXJzaW9uLmlkID09PSBwYWdlLmFjdGl2ZVZlcnNpb24uaWQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tFeGlzdGluZ0dyYW50ZWRSb2xlUGFnZXMocGFnZSwgUm9sZVBhZ2VzKSB7XHJcbiAgICBmb3IgKGNvbnN0IHJvbGVzIG9mIFJvbGVQYWdlcykge1xyXG4gICAgICBmb3IgKGNvbnN0IHBhZ2VzIG9mIHJvbGVzLnJvbGVwYWdlKSB7XHJcbiAgICAgICAgaWYgKHBhZ2VzLnBhZ2VbMF0uYWN0aXZlVmVyc2lvbi5pZCA9PT0gcGFnZS5hY3RpdmVWZXJzaW9uLmlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcG9saWN5R3JvdXBDb25kaXRpb24oZGF0YSwgcG9saWN5R3JvdXApIHtcclxuICAgIGNvbnN0IHBvbGljeUdyb3VwUGFnZXMgPSBkYXRhPy5kYXRhICYmIGRhdGE/LmRhdGEubGVuZ3RoID8gZGF0YT8uZGF0YSA6IFtdO1xyXG4gICAgY29uc3QgdW5pcXVlUG9saWN5R3JvdXBQYWdlcyA9IFsuLi5uZXcgTWFwKHBvbGljeUdyb3VwUGFnZXMubWFwKGl0ZW0gPT4gW2l0ZW1bJ3BhZ2UnXVsnaWQnXSwgaXRlbV0pKS52YWx1ZXMoKV07XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRGF0YSA9ICh0aGlzLnBvbGljeUdyb3VwRGF0YS5sZW5ndGggJiYgdGhpcy5wb2xpY3lHcm91cERhdGEpIHx8IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXM7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMucHVzaCh7XHJcbiAgICAgIG5hbWU6IHRoaXMucG9saWN5R3JvdXBEYXRhLmZpbmQocGdkID0+IHBnZC5wb2xpY3lncm91cC5pZCA9PT0gcG9saWN5R3JvdXAucG9saWN5Z3JvdXBpZCk/LnBvbGljeWdyb3VwXHJcbiAgICAgICAgPy5wb2xpY3lncm91cG5hbWUsXHJcbiAgICAgIGRhdGE6IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlndXJlZEFzc2V0RGF0YShzZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5SWQoc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpLnN1YnNjcmliZSgocmVzOiBBc3NldFtdKSA9PiB7XHJcbiAgICAgIHRoaXMuYXNzZXRMaXN0ID0gcmVzWydkYXRhJ10ubWFwKGEgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBfaWQ6IGE/LmlkLFxyXG4gICAgICAgICAgaWQ6IGE/LmFzc2V0aWQsXHJcbiAgICAgICAgICBpc2Z1bGw6IGEuZnVsbCxcclxuICAgICAgICAgIGlzaGlkZTogYS5oaWRlLFxyXG4gICAgICAgICAgaXNyZWFkOiBhLnJlYWQsXHJcbiAgICAgICAgICBpc3JlYWR3cml0ZTogYS5yZWFkd3JpdGUsXHJcbiAgICAgICAgICBjb25kaXRpb25zOiBhLmNvbmRpdGlvbnNcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbG9hZFBhZ2VzKHRlbXBQYWdlRGF0YSwgYWN0aW9uLCBwYWdlaWRzLCBwYWdlQ29uZmlnLCBmaWVsZENvbmZpZykge1xyXG4gICAgdGhpcy5wYWdlRGF0YSA9IHRlbXBQYWdlRGF0YSB8fCBbXTtcclxuICAgIHRoaXMucGFnZURhdGEuZm9yRWFjaChcclxuICAgICAgYSA9PiAoYS5wYWdlbmFtZSA9IHRlbXBQYWdlRGF0YS5sZW5ndGggJiYgdGVtcFBhZ2VEYXRhLmZpbHRlcihiID0+IGIuaWQgPT09IGEuaWQpWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZSlcclxuICAgICk7XHJcbiAgICBjb25zdCBwbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgaWYgKHBhZ2VpZHMgIT09IG51bGwpIHtcclxuICAgICAgY29uc3QgbmV3UGFnZXMgPSBwbCAmJiBwbD8ubGVuZ3RoID8gcGwubWFwKGtleSA9PiBrZXkuaWQpIDogW107XHJcbiAgICAgIGNvbnN0IHBJZCA9IG5ld1BhZ2VzPy5sZW5ndGggPyBbLi4ubmV3IFNldChuZXdQYWdlcy5jb25jYXQocGFnZWlkcykpXSA6IHBhZ2VpZHM7XHJcbiAgICAgIGNvbnN0IHBMaXN0ID0gdGhpcy5wYWdlRGF0YS5maWx0ZXIoa2V5ID0+IHBJZC5pbmNsdWRlcyhrZXkuaWQpKTtcclxuICAgICAgY29uc3QgcGFnZXNMaXN0ID0gcExpc3QubWFwKHggPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogeC5pZCxcclxuICAgICAgICAgIHBhZ2VuYW1lOiB4LnBhZ2VuYW1lLFxyXG4gICAgICAgICAgYWN0aXZlVmVyc2lvbjogeC5hY3RpdmVWZXJzaW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBhZ2VMaXN0OiBwYWdlc0xpc3QgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBvcHVsYXRlUGFnZShhY3Rpb24sIHRydWUsIG51bGwsIHBhZ2VDb25maWcsIGZpZWxkQ29uZmlnLCBwYWdlaWRzKTtcclxuICB9XHJcblxyXG4gIHBvcHVsYXRlUGFnZShhY3Rpb246IGFueSwgc2VsZWN0ZWQ/OiBhbnksIGV2ZW50PzogYW55LCBwYWdlQ29uZmlnPzogYW55LCBmaWVsZENvbmZpZz86IGFueSwgcGFnZWlkcz86IGFueSkge1xyXG4gICAgLy8gaWYgKGV2ZW50KSB7XHJcbiAgICAvLyAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSAmJiBzZWxlY3RlZCkge1xyXG4gICAgLy8gICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IGV2ZW50Lm1hcChwYWdlID0+IHBhZ2UuaWQpXHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZXZlbnQpICYmIHNlbGVjdGVkKSB7XHJcbiAgICAvLyAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnB1c2goZXZlbnQuaWQpO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGVsc2Uge1xyXG4gICAgLy8gICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5maWx0ZXIoaWQgPT4gaWQgIT09IGV2ZW50LmlkKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgY29uc3QgaWQgPSBwYWdlSWRzLm1hcChrZXkgPT4ga2V5LmlkKTtcclxuICAgIGxldCBwcm92aWRlQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuXHJcbiAgICAvLyBMb2dpYyB0byBoYW5kbGUgdGhlIGRlc2VsZWN0ZWQgaXRlbSBvZiBQYWdlcyBmaWVsZFxyXG4gICAgaWYgKCFzZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLmlzUGFnZURlc2VsZWN0U2F2ZSA9IHRydWU7XHJcbiAgICAgIGNvbnN0IG5ld2x5RGVzZWxlY3RlZCA9IHRoaXMucHJldmlvdXNTZWxlY3Rpb24uZmlsdGVyKGl0ZW0gPT4gIWlkLmluY2x1ZGVzKGl0ZW0pKTtcclxuICAgICAgdGhpcy5kZXNlbGVjdGVkSXRlbUlkcyA9IFsuLi5uZXcgU2V0KFsuLi50aGlzLmRlc2VsZWN0ZWRJdGVtSWRzLCAuLi5uZXdseURlc2VsZWN0ZWRdKV07XHJcbiAgICAgIGNvbnN0IGZwYWdlc1ZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnZhbHVlO1xyXG4gICAgICBpZiAoZnBhZ2VzVmFsdWUgJiYgbmV3bHlEZXNlbGVjdGVkLmluY2x1ZGVzKGZwYWdlc1ZhbHVlKSkge1xyXG4gICAgICAgICAgdGhpcy5yYmFjRm9ybS5jb250cm9sc1snZnBhZ2VzJ10uc2V0VmFsdWUobnVsbCk7XHJcbiAgICAgICAgICB0aGlzLnNob3dGaWVsZEdyaWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgdGhpcy5pc1BhZ2VEZXNlbGVjdFNhdmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3Rpb24gPSBbLi4uaWRdO1xyXG5cclxuICAgIGlmIChpZD8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuaXNSZW1vdmVBbGxGaWVsZHMgPSBmYWxzZTtcclxuICAgICAgaWYgKCFwcm92aWRlQWNjZXNzKSB7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgcHJvdmlkZUFjY2VzczogJzEnIH0pO1xyXG4gICAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHByb3ZpZGVBY2Nlc3MgPSAnMSc7XHJcbiAgICAgIH1cclxuICAgICAgLy8gUGFnZWlkcyBmcm9tIGFwaVxyXG4gICAgICB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSBwYWdlSWRzO1xyXG4gICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gcGFnZUlkcztcclxuICAgICAgaWYoKHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgfHwgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudC5sZW5ndGggPiAwKSAmJiAhdGhpcy5lbmFibGVzYXZlKXtcclxuICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUGFnZURhdGEpO1xyXG4gICAgICBpZiAocHJvdmlkZUFjY2VzcyA9PT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgcHBhZ2VzOiBwYWdlSWRzIH0pO1xyXG4gICAgICAgIGlmIChmaWVsZENvbmZpZz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5zZXRTZWxlY3RlZEZpZWxkUGFnZShcclxuICAgICAgICAgICAgZmllbGRDb25maWc/Lm1hcChlbGUgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWU6IGVsZT8uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBhY2Nlc3M6IHRoaXMuY2hlY2tBY2Nlc3NUeXBlKGVsZSksXHJcbiAgICAgICAgICAgICAgICBhc3NldGlkOiBlbGU/LmFzc2V0aWQsXHJcbiAgICAgICAgICAgICAgICBwYWdlSWQ6IGVsZT8uaWRcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRQYWdlTGV2ZWxMaXN0KGFjdGlvbiwgcGFnZUNvbmZpZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZUFjY2VzcyA9PT0gJzInKSB7XHJcbiAgICAgICAgaWYgKGZpZWxkQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zdCBwTGlzdCA9IHRoaXMucGFnZURhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHBhZ2VpZHNbMF0pO1xyXG4gICAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgZnBhZ2VzOiBwTGlzdCB9KTtcclxuICAgICAgICAgIHRoaXMuZ2V0RmllbGRMZXZlbExpc3QoYWN0aW9uLCBmaWVsZENvbmZpZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHBJZCA9IHRoaXMuc2VsZWN0ZWRQYWdlRGF0YS5maWx0ZXIoZWxlID0+IGVsZS5pZCA9PT0gcGFnZUlkc1swXT8uaWQpO1xyXG4gICAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgZnBhZ2VzOiBwSWQgfSk7XHJcbiAgICAgICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KGFjdGlvbiwgZmllbGRDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKTtcclxuICAgICAgdGhpcy5pc1JlbW92ZUFsbEZpZWxkcyA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSBbXTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgPSBbXTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzc2F2ZWRpc2FibGUgPSB0cnVlO1xyXG4gICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS5zZXRWYWx1ZShudWxsKTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS5zZXRWYWx1ZShudWxsKTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykuc2V0VmFsdWUobnVsbCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnNldFZhbHVlKFtdKTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpLnNldFZhbHVlKFtdKTtcclxuICB9XHJcblxyXG4gIHNob3dMZXZlbEFjY2VzcyhpZCkge1xyXG4gICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgIGlmIChmLmdldFJhd1ZhbHVlKCk/Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5zZXRTZWxlY3RlZEZpZWxkUGFnZShmLmdldFJhd1ZhbHVlKCksIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEpO1xyXG4gICAgfVxyXG4gICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgaWYocGFnZUlkcyAhPSBudWxsKXtcclxuICAgICAgaWYgKGlkID09PSAnMScpIHtcclxuICAgICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgPSBwYWdlSWRzO1xyXG4gICAgICAgIGlmIChwYWdlSWRzPy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMucGFnZWxldmVsYWNjZXNzc2F2ZWRpc2FibGUgPSBmYWxzZTtcclxuICAgICAgICAgIGlmICghdGhpcy5yYmFjRm9ybS5nZXQoJ3BwYWdlcycpLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS5wYXRjaFZhbHVlKHBhZ2VJZHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmdldENvbmZpZ3VyZWRBc3NldERhdGEodGhpcy5zZWxlY3RlZEFjY2VzcywgdGhpcy5zZWxlY3RlZElkKTtcclxuICAgICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubXVsdGlQYWdlQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxDaGVja0NvdW50ID0gW107XHJcbiAgICAgICAgY29uc3QgZnBhZ2VzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnZhbHVlO1xyXG4gICAgICAgIHRoaXMuZlBhZ2VzQ2hlY2tMZW5ndGgoZnBhZ2VzLCBwYWdlSWRzKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWU7XHJcbiAgICAgICAgaWYodGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCAmJiB0aGlzLmZpZWxkTGV2ZWxDaGVja0NvdW50Py5sZW5ndGggPiAwKXtcclxuICAgICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KCdjbGljaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZlBhZ2VzQ2hlY2tMZW5ndGgoZnBhZ2VzLCBwYWdlSWRzKSB7XHJcbiAgICBpZiAoIWZwYWdlcyB8fCAhZnBhZ2VzPy5sZW5ndGgpIHtcclxuICAgICAgaWYgKHBhZ2VJZHM/Lmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSBbcGFnZUlkc107XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnNldFZhbHVlKHApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldFBhZ2VMZXZlbExpc3QoYWN0aW9uID0gbnVsbCwgcGFnZUNvbmZpZyA9IG51bGwpIHtcclxuICAgIGNvbnN0IGFjY2Vzc0FycmF5ID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBmb3JtVmFsdWUgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCk7XHJcbiAgICBjb25zdCBwQWNjZXNzSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykudmFsdWU7XHJcbiAgICBjb25zdCBwSWQgPSBwQWNjZXNzSWQubWFwKGtleSA9PiBrZXkucGFnZWlkIHx8IGtleS5pZCk7XHJcbiAgICAvLyBmaXJzdCBjaGVjayBleGlzdCBwYWdlIGNvbmZpZ1xyXG4gICAgaWYgKHBhZ2VDb25maWcgIT09IG51bGwpIHtcclxuICAgICAgLy8gY2hlY2sgc2VsZWN0ZWQgdmFsdWUgbGVuZ3RoXHJcbiAgICAgIGxldCBleGlzdFNlbGVjdGVkUGFnZUlkID0gW107XHJcbiAgICAgIGlmIChmb3JtVmFsdWUucGFnZUxldmVsRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICBleGlzdFNlbGVjdGVkUGFnZUlkID0gZm9ybVZhbHVlLnBhZ2VMZXZlbERhdGEubWFwKGlkID0+IGlkLmlkKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBmaWx0ZXJkUGFnZUNvbmZpZ0FycmF5ID0gcElkXHJcbiAgICAgICAgLm1hcChpZCA9PiBwYWdlQ29uZmlnLmZpbmQoa2V5ID0+IGtleT8ucGFnZT8uaWQgPT09IGlkKSlcclxuICAgICAgICAuZmlsdGVyKGNvbmZpZyA9PiBjb25maWcgIT09IHVuZGVmaW5lZCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcElkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHNldEFjY2VzcyA9ICcnO1xyXG4gICAgICAgIHNldEFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0UGFnZUFjY2VzcyhmaWx0ZXJkUGFnZUNvbmZpZ0FycmF5W2ldKTtcclxuICAgICAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMucGFnZURhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHBJZFtpXSk7XHJcbiAgICAgICAgaWYgKGV4aXN0U2VsZWN0ZWRQYWdlSWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLmdldFZlcnNpb25BY2Nlc3NBcnJheShleGlzdFNlbGVjdGVkUGFnZUlkLCBwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5nZXRQYWdlQWNjZXNzQXJyYXkocElkLCBpLCBhY2Nlc3NBcnJheSwgcGFnZU5hbWUsIHNldEFjY2VzcywgcGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmZvckFjdGlvbkNsaWNrKGFjdGlvbiwgcElkLCBhY2Nlc3NBcnJheSk7XHJcbiAgfVxyXG4gIGdldFZlcnNpb25BY2Nlc3NBcnJheShleGlzdFNlbGVjdGVkUGFnZUlkLCBwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKSB7XHJcbiAgICBjb25zdCBjaGVja1BpZCA9IGV4aXN0U2VsZWN0ZWRQYWdlSWQuaW5jbHVkZXMocElkW2ldKTtcclxuICAgIGlmICghY2hlY2tQaWQpIHtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wocGFnZU5hbWVbMF1bJ2FjdGl2ZVZlcnNpb24nXVsncGFnZW5hbWUnXSksXHJcbiAgICAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbChwSWRbaV0pLFxyXG4gICAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKHNldEFjY2VzcyksXHJcbiAgICAgICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLnZhbHVlKSB8fCAnMScpLFxyXG4gICAgICAgICAgY29uZGl0aW9uOiBuZXcgRm9ybUNvbnRyb2wocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLmZhbGxiYWNrVG8pIHx8ICduJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZUFjY2Vzc0FycmF5KHBJZCwgaSwgYWNjZXNzQXJyYXksIHBhZ2VOYW1lLCBzZXRBY2Nlc3MsIHBhZ2VDb25maWcpIHtcclxuICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wocGFnZU5hbWVbMF1bJ3BhZ2VuYW1lJ10pLFxyXG4gICAgICAgIHBhZ2VpZDogbmV3IEZvcm1Db250cm9sKHBJZFtpXSksXHJcbiAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKHNldEFjY2VzcyksXHJcbiAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy52YWx1ZSkgfHwgJzEnKSxcclxuICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgPyAnZGF5cycgOiAnYWx3YXlzJyksXHJcbiAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLmZhbGxiYWNrVG8pIHx8ICduJylcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBmb3JBY3Rpb25DbGljayhhY3Rpb24sIHBJZCwgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcclxuICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRQYWdlTGV2ZWxEYXRhPy5sZW5ndGggPyB0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YSA6IGFjY2Vzc0FycmF5LmdldFJhd1ZhbHVlKCk7XHJcbiAgICAgIGxldCBwYWdlc0Zyb21GaWVsZCA9IEFycmF5LmZyb20obmV3IFNldChbLi4udGhpcy5zZWxlY3RlZEZpZWxkRGF0YV0ubWFwKGVsZSA9PiBlbGUucGFnZUlkKSkpLmZpbHRlcihlbGUgPT4gZWxlKTtcclxuICAgICAgaWYgKHBJZD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcGFnZXNGcm9tRmllbGQgPSBwSWQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhZ2VzRnJvbUZpZWxkPy5sZW5ndGgpIHtcclxuICAgICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBY2Nlc3NBcnJheU9uQ2xpY2soXHJcbiAgICAgICAgICBwYWdlc0Zyb21GaWVsZCxcclxuICAgICAgICAgIHRoaXMucGFnZXNMaXN0LFxyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSxcclxuICAgICAgICAgIHRoaXMuc2F2ZWRQYWdlQWNjZXNzUGF0Y2hpbmcsXHJcbiAgICAgICAgICBleGlzdGluZ1ZhbHVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrQWNjZXNzVHlwZShkYXRhOiBhbnkpOiBhbnkge1xyXG4gICAgaWYgKGRhdGE/LmlzZnVsbCkge1xyXG4gICAgICByZXR1cm4gJzInO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhPy5pc2hpZGUpIHtcclxuICAgICAgcmV0dXJuICc0JztcclxuICAgIH0gZWxzZSBpZiAoZGF0YT8uaXNyZWFkKSB7XHJcbiAgICAgIHJldHVybiAnMyc7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGE/LmlzcmVhZHdyaXRlKSB7XHJcbiAgICAgIHJldHVybiAnMic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRGaWVsZExldmVsTGlzdChhY3Rpb24gPSBudWxsLCBmaWVsZENvbmZpZyA9IG51bGwpIHtcclxuICAgIGNvbnN0IGFjY2Vzc0FycmF5ID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZpZWxkTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgZm9ybVZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpO1xyXG5cclxuICAgIGNvbnN0IHBBY2Nlc3NJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS52YWx1ZTtcclxuICAgIGNvbnN0IHBhZ2VJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxpc3QnKS52YWx1ZTtcclxuICAgIC8vIEZpZWxkcGFnZWxldmVsIGlzIGEgdmFyaWFibGUgaXMgdGhlIGxlbmd0aCBvZiB0aGUgZm9ybSBwYWdlIGFuZCBhbGwgcGFnZSBvdGhlciB0aGFuIGdyaWQgcGFnZVxyXG4gICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IHBhZ2VJZHMuZmlsdGVyKHggPT4gKHguaWQgPT09IChwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkWzBdPy5pZCkpIHx8IHguaWQgPT09IHBBY2Nlc3NJZCk7XHJcbiAgICBjb25zdCBmaWVsZExldmVsID0gcGFnZUlkcy5maWx0ZXIoeCA9PiAoeC5pZCA9PT0gKHBBY2Nlc3NJZCAmJiBwQWNjZXNzSWRbMF0/LmlkKSkgfHwgeC5pZCA9PT0gcEFjY2Vzc0lkKTtcclxuICAgIHRoaXMuZmllbGRQYWdlTGV2ZWwgPSBmaWVsZExldmVsLmZpbHRlcihhID0+IGEuYWN0aXZlVmVyc2lvbiAhPT0gbnVsbCAmJiBhLmFjdGl2ZVZlcnNpb24uZ3JpZGNvbmZpZyA9PSBudWxsKVxyXG4gICAubWFwKGEgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBhLmFjdGl2ZVZlcnNpb24ucGFnZWlkLFxyXG4gICAgICAgIHBhZ2VuYW1lOiBhLmFjdGl2ZVZlcnNpb24ucGFnZW5hbWUsXHJcbiAgICAgICAgYWN0aXZlVmVyc2lvbjogYS5hY3RpdmVWZXJzaW9uXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICBjb25zb2xlLmxvZyh0aGlzLmZpZWxkUGFnZUxldmVsKTtcclxuICAgIHRoaXMuY2hlY2tGaWVsZExldmVsQ29uZGl0aW9uKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCk7XHJcbiAgICB0aGlzLmZpZWxkQ29uZmlnQ2hlY2soZmllbGRDb25maWcsIGFjY2Vzc0FycmF5KTtcclxuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcclxuICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSBbXTtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5UGFnZUlkKHRoaXMucElkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcbiAgICAgICAgdGhpcy5nZXRBY2Nlc3NBcnJheUNoZWNrKGRhdGEsIGZvcm1WYWx1ZSwgYWNjZXNzQXJyYXkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuc2hvd0ZpZWxkR3JpZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBjaGVja0ZpZWxkTGV2ZWxDb25kaXRpb24oZmllbGRMZXZlbCwgcEFjY2Vzc0lkKSB7XHJcbiAgICBpZiAoZmllbGRMZXZlbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2hvd0ZpZWxkVmFsaWRpdHkgPSBmaWVsZExldmVsWzBdLnRlbXBsYXRlanNvbiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgdGhpcy5maWVsZFZlcnNpb25DaGVjayhmaWVsZExldmVsLCBwQWNjZXNzSWQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IHBBY2Nlc3NJZFswXS50ZW1wbGF0ZWpzb24gPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIGlmIChwQWNjZXNzSWRbMF1bJ3ZlcnNpb24nXSkge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkWzBdLnBhZ2VpZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBJZCA9IHBBY2Nlc3NJZCAmJiBwQWNjZXNzSWQ/Lmxlbmd0aCA/IHBBY2Nlc3NJZFswXVsnaWQnXSA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpZWxkVmVyc2lvbkNoZWNrKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCkge1xyXG4gICAgaWYgKGZpZWxkTGV2ZWxbMF1bJ3ZlcnNpb24nXSkge1xyXG4gICAgICB0aGlzLnBJZCA9IGZpZWxkTGV2ZWxbMF0ucGFnZWlkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocEFjY2Vzc0lkKSkge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkICYmIHBBY2Nlc3NJZD8ubGVuZ3RoID8gcEFjY2Vzc0lkWzBdWydpZCddIDogbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBJZCA9IHBBY2Nlc3NJZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmllbGRDb25maWdDaGVjayhmaWVsZENvbmZpZywgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChmaWVsZENvbmZpZyAhPT0gbnVsbCkge1xyXG4gICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5zZXRTZWxlY3RlZEZpZWxkUGFnZShcclxuICAgICAgICBmaWVsZENvbmZpZz8ubWFwKGVsZSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmaWVsZE5hbWU6IGVsZT8uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGFjY2VzczogdGhpcy5jaGVja0FjY2Vzc1R5cGUoZWxlKSxcclxuICAgICAgICAgICAgYXNzZXRpZDogZWxlLmFzc2V0aWQsXHJcbiAgICAgICAgICAgIHBhZ2VJZDogZWxlLmlkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5leGlzdGluZ1NlbGVjdGVkRmllbGREYXRhID0gWy4uLnRoaXMuc2VsZWN0ZWRGaWVsZERhdGFdO1xyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFzc2V0QnlQYWdlSWQodGhpcy5wSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNbJ2RhdGEnXTtcclxuXHJcbiAgICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IHRoaXMubWVyZ2VBc3NldChkYXRhLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgICAgaWYgKHRoaXMubWVyZ2VkQXNzZXQuaW5jbHVkZXModW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgICAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5sZW5ndGggIT09IGRhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gZGF0YTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5nZXRNZXJnZWRBc3NldChhY2Nlc3NBcnJheSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TWVyZ2VkQXNzZXQoYWNjZXNzQXJyYXkpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXJnZWRBc3NldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBhY2Nlc3MgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFjY2Vzcyh0aGlzLm1lcmdlZEFzc2V0W2ldLHRoaXMuZmllbGRQYWdlTGV2ZWwpO1xyXG4gICAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgICAgZmllbGROYW1lOiBuZXcgRm9ybUNvbnRyb2woYWNjZXNzW2ldWydkaXNwbGF5bmFtZSddKSxcclxuICAgICAgICAgIGFjY2VzczogbmV3IEZvcm1Db250cm9sKCcyJyksXHJcbiAgICAgICAgICBhc3NldGlkOiBuZXcgRm9ybUNvbnRyb2woYWNjZXNzW2ldWydpZCddKSxcclxuICAgICAgICAgIHBhZ2VJZDogbmV3IEZvcm1Db250cm9sKHRoaXMucElkKSxcclxuICAgICAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2wodGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zID8gdGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zLnZhbHVlIDogJzEnKSxcclxuICAgICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucyA/ICdkYXlzJyA6ICdhbHdheXMnKSxcclxuICAgICAgICAgIGZhbGxiYWNrVG86IG5ldyBGb3JtQ29udHJvbCh0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMgPyB0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMuZmFsbGJhY2tUbyA6ICcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRBY2Nlc3NBcnJheUNoZWNrKGRhdGEsIGZvcm1WYWx1ZSwgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IHRoaXMuYXNzZXRMaXN0ID8gdGhpcy5tZXJnZUFzc2V0KGRhdGEsIHRoaXMuYXNzZXRMaXN0KSA6IGRhdGE7XHJcbiAgICAgIHRoaXMuY2hlY2tNZXJnZWRBc3NldChkYXRhKTtcclxuICAgICAgaWYgKGZvcm1WYWx1ZS5maWVsZExldmVsRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5zZXRTZWxlY3RlZEZpZWxkUGFnZShcclxuICAgICAgICAgIGZvcm1WYWx1ZS5maWVsZExldmVsRGF0YSxcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBhY2Nlc3MgPSBudWxsO1xyXG4gICAgICBpZiAodGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgYWNjZXNzID0gdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5maW5kKGVsZSA9PiBlbGUucGFnZWlkID09PSB0aGlzLnBJZCk/LmFjY2VzcztcclxuICAgICAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5maWx0ZXIoZWxlID0+IGVsZS5wYWdlaWQgIT09IHRoaXMucElkKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZEYXRhID0gZGF0YTtcclxuICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZERhdGFNYXAgPSB7fTtcclxuICAgICAgaWYgKCFhY2Nlc3MgJiYgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldExpc3RcclxuICAgICAgICAgID8uZmlsdGVyKGVsZSA9PiBlbGUucGFnZUlkID09PSB0aGlzLnBJZClcclxuICAgICAgICAgID8uZm9yRWFjaChlbGUgPT4ge1xyXG4gICAgICAgICAgICBleGlzdGluZ0ZpZWxkRGF0YU1hcFtlbGUuYXNzZXRpZF0gPSBlbGUuYWNjZXNzO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5nZXRBY2Nlc3NCeUFzc2V0KGFjY2Vzc0FycmF5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja01lcmdlZEFzc2V0KGRhdGEpIHtcclxuICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0LmluY2x1ZGVzKHVuZGVmaW5lZCkpIHtcclxuICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gZGF0YTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0QWNjZXNzQnlBc3NldChhY2Nlc3NBcnJheSkge1xyXG4gICAgZm9yIChjb25zdCBhc3NldCBvZiB0aGlzLm1lcmdlZEFzc2V0KSB7XHJcbiAgICAgIGNvbnN0IGFzc2V0QWNjZXNzID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBY2Nlc3MoYXNzZXQsdGhpcy5maWVsZFBhZ2VMZXZlbCk7XHJcbiAgICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgICAgbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAgICAgICBmaWVsZE5hbWU6IG5ldyBGb3JtQ29udHJvbChhc3NldFsnZGlzcGxheW5hbWUnXSksXHJcbiAgICAgICAgICBhY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChhc3NldEFjY2VzcyA/IGFzc2V0QWNjZXNzIDogJzInKSxcclxuICAgICAgICAgIGFzc2V0aWQ6IG5ldyBGb3JtQ29udHJvbChhc3NldFsnaWQnXSksXHJcbiAgICAgICAgICBwYWdlSWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnBJZCksXHJcbiAgICAgICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKGFzc2V0LmNvbmRpdGlvbnMgPyBhc3NldC5jb25kaXRpb25zLnZhbHVlIDogJzEnKSxcclxuICAgICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKGFzc2V0LmNvbmRpdGlvbnMgPyAnZGF5cycgOiAnYWx3YXlzJyksXHJcbiAgICAgICAgICBmYWxsYmFja1RvOiBuZXcgRm9ybUNvbnRyb2woYXNzZXQuY29uZGl0aW9ucyA/IGFzc2V0LmNvbmRpdGlvbnMuZmFsbGJhY2tUbyA6ICcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG1lcmdlQXNzZXQoYXJyMTogYW55LCBhcnIyOiBhbnkpIHtcclxuICAgIHJldHVybiBhcnIxLm1hcCgoaXRlbSwgX2kpID0+IHtcclxuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBhcnIyKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHZhbHVlLmlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdWJtaXRBbGVydCgpIHtcclxuICAgIGlmICghdGhpcy5maWVsZExldmVsQWNjZXNzICYmIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5sZW5ndGgpIHtcclxuICAgICAgJCgnI3N1Ym1pdEFsZXJ0JykubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZVJiYWMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVSYmFjKCkge1xyXG4gICAgY29uc3QgYWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpO1xyXG4gICAgY29uc3QgcGFnZUFjY2Vzc0Zvcm1Db250cm9sID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCB1c2VyaWQgPSB0aGlzLnJiYWNGb3JtLmdldCgndXNlcmlkJykudmFsdWU7XHJcbiAgICBjb25zdCByb2xlSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncm9sZWlkJykudmFsdWU7XHJcbiAgICBjb25zdCBwb2xpY3lJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwb2xpY3lpZCcpLnZhbHVlO1xyXG5cclxuICAgIGlmKCh0aGlzLmlzUGFnZURlc2VsZWN0U2F2ZSAmJiB0aGlzLmRlc2VsZWN0ZWRJdGVtSWRzLmxlbmd0aCA+IDApIHx8IHRoaXMuaXNSZW1vdmVBbGxGaWVsZHMpe1xyXG4gICAgICBsZXQgc2VsZWN0ZWRJZDogYW55O1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3VzZXInKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS51c2VyaWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5yb2xlaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5wb2xpY3lpZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29sbGVjdCBhc3NldCBpZCdzIGZvciBhbGwgZGVzZWxlY3RlZCBwYWdlIGlkJ3NcclxuICAgICAgY29uc3QgZGVzZWxlY3RlZEFzc2V0cyA9IGZvcmtKb2luKFxyXG4gICAgICAgIHRoaXMuZGVzZWxlY3RlZEl0ZW1JZHMubWFwKGlkID0+XHJcbiAgICAgICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFzc2V0QnlQYWdlSWQoaWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcChyZXMgPT4gcmVzWydkYXRhJ10ubWFwKGl0ZW0gPT4gKHsgYXNzZXRpZDogaXRlbS5pZCB9KSkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApOyAgICAgIFxyXG4gICAgICAvLyBNYWtlIGEgc2luZ2xlIEFQSSBjYWxsIHdpdGggYWxsIGRlc2VsZWN0ZWQgYXNzZXQgSURzXHJcbiAgICAgIGRlc2VsZWN0ZWRBc3NldHMucGlwZShcclxuICAgICAgICBtYXAoYXNzZXRJZFJlc3BvbnNlcyA9PiBbXS5jb25jYXQoLi4uYXNzZXRJZFJlc3BvbnNlcykpXHJcbiAgICAgICkuc3Vic2NyaWJlKGFsbERlc2VsZWN0ZWRBc3NldElkcyA9PiB7XHJcbiAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS51cGRhdGVBc3NldE9uRGVzZWxlY3QodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCwgYWxsRGVzZWxlY3RlZEFzc2V0SWRzKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpO1xyXG4gICAgICAgICAgdGhpcy5kZXNlbGVjdGVkSXRlbUlkcyA9IFtdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWVsZExldmVsRGF0YSA9IGFjY2Vzcy5maWVsZExldmVsRGF0YTtcclxuICAgIGlmICh0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPT09IGZhbHNlKSB7XHJcbiAgICAgIHRoaXMuZ2V0UGFnZUxldmVsQnlBcnJheShwYWdlQWNjZXNzRm9ybUNvbnRyb2wpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5nZXRGaWVsZExldmVsQnlBc3NldChmaWVsZExldmVsRGF0YSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5maWVsZExldmVsQWNjZXNzKSB7XHJcbiAgICAgIGxldCBzZWxlY3RlZElkOiBhbnk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnVzZXJpZDtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncm9sZScpIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnJvbGVpZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnBvbGljeWlkO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuY3JlYXRlQXNzZXQodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCwgdGhpcy5mdWxsQXJyYXkpLnN1YnNjcmliZShfcmVzID0+IHtcclxuICAgICAgICB0aGlzLmdldENvbmZpZ3VyZWRBc3NldERhdGEodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCk7XHJcbiAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdGaWVsZCBBY2Nlc3MgVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy51cGRhdGVQYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdwb2xpY3knKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS51cGRhdGVEeW5hbWljUGFnZSh0aGlzLnNlbGVjdGVkQWNjZXNzLCB0aGlzLnNlbGVjdGVkSWQsIHRoaXMuZnVsbEFycmF5KS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICBfcmVzID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcygpO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoJ0FjY2VzcyBVcGRhdGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIF9lcnIgPT4gdGhpcy5hbGVydC5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZVxyXG4gICAgICAgICAgLmNyZWF0ZUFjY2Vzcyh0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MsIGFjY2Vzcy5hY2Nlc3NCeSwgdGhpcy5mdWxsQXJyYXksIHVzZXJpZCwgcm9sZUlkLCBwb2xpY3lJZClcclxuICAgICAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIF9yZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IFtdO1xyXG4gICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuYWxlcnQuc3VjY2VzcygnQWNjZXNzIFNhdmVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZXJyb3IgPT4gdGhpcy5hbGVydC5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZUxldmVsQnlBcnJheShwYWdlTGV2ZWxEYXRhKSB7XHJcbiAgICB0aGlzLmZ1bGxBcnJheSA9IHBhZ2VMZXZlbERhdGE/LmNvbnRyb2xzPy5tYXAoeCA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcGFnZTogeD8udmFsdWU/LnBhZ2VpZCxcclxuICAgICAgICBvdmVycmlkZUFzc2V0UGVybWlzc2lvbnM6IHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5zb21lKHBhZ2VJZCA9PiBwYWdlSWQgPT09IHg/LnZhbHVlPy5wYWdlaWQpIHx8IGZhbHNlLFxyXG4gICAgICAgIHJlYWR3cml0ZTogeD8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICcyJyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICByZWFkOiB4Py52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzMnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIG5vbmU6IHg/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNCcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgZnVsbDogeD8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICc1JyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICB0b3VjaGVkOiB4Py50b3VjaGVkLFxyXG4gICAgICAgIGNvbmRpdGlvbnM6XHJcbiAgICAgICAgICB4Py52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1xyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdjcmVhdGVkJyxcclxuICAgICAgICAgICAgICBjb25kaXRpb246ICdsdGUnLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB4Py52YWx1ZT8udmFsaWRpdHksIC8vZGF5cywgbWludXRlcywgYWx3YXlzXHJcbiAgICAgICAgICAgICAgdmFsdWVfdHlwZTogJ3ZhcmlhYmxlJywgLy9jb25zdGFudCwgcHJvcGVydHksIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgZmFsbGJhY2tUbzogeD8udmFsdWU/LmZhbGxiYWNrVG8sXHJcbiAgICAgICAgICAgICAgdHlwZTogJ3RpbWVzdGFtcCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IG51bGxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0RmllbGRMZXZlbEJ5QXNzZXQoZmllbGRMZXZlbERhdGEpIHtcclxuICAgIHRoaXMuZnVsbEFycmF5ID0gZmllbGRMZXZlbERhdGEubWFwKHggPT4ge1xyXG4gICAgICBjb25zdCBhc3NldERhdGEgPSB0aGlzLmFzc2V0TGlzdD8uZmlsdGVyKGEgPT4gYS5pZCA9PT0geC5hc3NldGlkICYmIGEpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBhc3NldERhdGEgPyBhc3NldERhdGFbMF0/Ll9pZCA6IG51bGwsXHJcbiAgICAgICAgYXNzZXQ6IHguYXNzZXRpZCxcclxuICAgICAgICByZWFkd3JpdGU6IHg/LmFjY2VzcyA9PT0gJzInID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIHJlYWQ6IHg/LmFjY2VzcyA9PT0gJzMnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIG5vbmU6IHg/LmFjY2VzcyA9PT0gJzQnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGZ1bGw6IHg/LmFjY2VzcyA9PT0gJzUnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGNvbmRpdGlvbnM6XHJcbiAgICAgICAgICB4LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgYXR0cmlidXRlOiAnY3JlYXRlZCcsXHJcbiAgICAgICAgICAgICAgY29uZGl0aW9uOiAnbHRlJyxcclxuICAgICAgICAgICAgICB2YWx1ZTogeC52YWxpZGl0eSwgLy9kYXlzLCBtaW51dGVzLCBhbHdheXNcclxuICAgICAgICAgICAgICB2YWx1ZV90eXBlOiAndmFyaWFibGUnLCAvL2NvbnN0YW50LCBwcm9wZXJ0eSwgdmFyaWFibGVcclxuICAgICAgICAgICAgICBmYWxsYmFja1RvOiB4LmZhbGxiYWNrVG8sXHJcbiAgICAgICAgICAgICAgdHlwZTogJ3RpbWVzdGFtcCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IG51bGxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBlZGl0IGZ1bmN0aW9uYWxpdGVzIGJhc2VkIG9uIHBvbGljeSBncm91cFxyXG4gIHNldFBvbGljeUxldmVsUGFnZVBhdGNoaW5nKHBhZ2VDb25maWcsIGFzc2V0Y29uZmlnKSB7XHJcbiAgICBjb25zdCBwYWdlSWRzID0gcGFnZUNvbmZpZy5tYXAoa2V5ID0+IGtleS5wYWdlaWQpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRNb2R1bGVzID0gW107XHJcbiAgICBjb25zdCB1bmlxdWVQYWdlID0gWy4uLm5ldyBTZXQocGFnZUlkcyldO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IHVuaXF1ZVBhZ2U7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwcm92aWRlQWNjZXNzOiAnMScgfSk7XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgbSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdtb2R1bGUnKS52YWx1ZTtcclxuICAgIGlmIChtICE9PSAnJyAmJiBtICE9PSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IG5ld01vZHVsZSA9IG0uY29uY2F0KHNlbGVjdGVkTW9kdWxlcyk7XHJcbiAgICAgIGNvbnN0IHVuaXF1ZU5ld01vZHVsZSA9IFsuLi5uZXcgU2V0KG5ld01vZHVsZSldO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykuc2V0VmFsdWUodW5pcXVlTmV3TW9kdWxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IG1vZHVsZTogc2VsZWN0ZWRNb2R1bGVzIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKHNlbGVjdGVkUGFnZXMsIHBhZ2VDb25maWcsIGFzc2V0Y29uZmlnKTtcclxuICB9XHJcblxyXG4gIHNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnLCBhc3NldGNvbmZpZywgZnJvbSA9IG51bGwpIHtcclxuICAgIGNvbnN0IG1LZXkgPSBhc3NldGNvbmZpZy5maWx0ZXIoXHJcbiAgICAgIGtleSA9PiBrZXkubW9kdWxla2V5ICE9PSBudWxsICYmIGtleS5tb2R1bGVrZXkgIT09ICcnICYmIGtleS5pc2FjdGl2ZSAhPT0gJycgJiYga2V5LmlzYWN0aXZlICE9PSBudWxsXHJcbiAgICApO1xyXG4gICAgY29uc3QgbW1rZXkgPSBtS2V5Lm1hcChrZXkgPT4ga2V5Lm1vZHVsZWtleSk7XHJcbiAgICBjb25zdCBtb2R1bGVzID0gdGhpcy5tb2R1bGVMaXN0LmZpbHRlcihrZXkgPT4gbW1rZXkuaW5jbHVkZXMoa2V5LnJlZktleSkpO1xyXG4gICAgY29uc3QgcGFnZUlkID0gYXNzZXRjb25maWcuZmlsdGVyKGtleSA9PiBrZXkucGFnZWlkICE9PSBudWxsKTtcclxuICAgIGNvbnN0IHBhZ2VJZHMgPSBwYWdlSWQubWFwKGtleSA9PiBrZXkucGFnZWlkKTtcclxuICAgIGxldCBzZWxlY3RlZE1vZHVsZXM6IGFueTtcclxuICAgIHNlbGVjdGVkTW9kdWxlcyA9IFsuLi5uZXcgU2V0KG1vZHVsZXMpXTtcclxuICAgIGNvbnN0IHVuaXF1ZVBhZ2UgPSBbLi4ubmV3IFNldChwYWdlSWRzKV07XHJcbiAgICBjb25zdCBzZWxlY3RlZFBhZ2VzID0gdW5pcXVlUGFnZTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHByb3ZpZGVBY2Nlc3M6ICcyJyB9KTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSBmYWxzZTtcclxuICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IHRydWU7XHJcbiAgICBpZiAoZnJvbSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICBjb25zdCBtID0gdGhpcy5yYmFjRm9ybS5nZXQoJ21vZHVsZScpLnZhbHVlO1xyXG4gICAgICBpZiAobSAhPT0gJycpIHtcclxuICAgICAgICBjb25zdCBtayA9IHNlbGVjdGVkTW9kdWxlcy5jb25jYXQobSk7XHJcbiAgICAgICAgc2VsZWN0ZWRNb2R1bGVzID0gbWs7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgbW9kdWxlOiBzZWxlY3RlZE1vZHVsZXMgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc20gPSB0aGlzLnJiYWNGb3JtLmdldCgnc3VibW9kdWxlJykudmFsdWU7XHJcbiAgICAgIGlmIChzbSAhPT0gJycpIHtcclxuICAgICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBtb2R1bGU6IHNlbGVjdGVkTW9kdWxlcyB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgbW9kdWxlOiBzZWxlY3RlZE1vZHVsZXMgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoc2VsZWN0ZWRQYWdlcywgcGFnZUNvbmZpZywgYXNzZXRjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YUJhc2VkT25Qb2xpY3koZnJvbSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHBvbGljeWlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwb2xpY3lpZCcpLnZhbHVlLm1hcChhID0+IGEuaWQpO1xyXG4gICAgaWYgKHBvbGljeWlkcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lZGl0UGFnZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBvbGljeWlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VDb25maWcgPSB0aGlzLnBvbGljeUdyb3VwRGF0YS5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcG9saWN5aWRzW2pdKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICAgICAgdGhpcy5lZGl0UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncywgZnJvbSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHBvbGljeWlkcy5sZW5ndGggPT09IGogKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xldmVsQWNjZXNzKCcyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2V0Q2hlY2tQYWdlQ29uZmlnKHBhZ2VDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZXNldEZvcm0oJzMnKTtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgYWNjZXNzQnk6ICczJyB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENoZWNrUGFnZUNvbmZpZyhwYWdlQ29uZmlnKSB7XHJcbiAgICBpZiAocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5maWVsZExldmVsQ2xpY2sgPSB0cnVlO1xyXG4gICAgICB0aGlzLnNldFBvbGljeUxldmVsUGFnZVBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgIH0gZWxzZSBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHBBY2Nlc3MgPSB0aGlzLnJiYWNGb3JtLmdldCgncHJvdmlkZUFjY2VzcycpLnZhbHVlO1xyXG4gICAgICBpZiAocEFjY2VzcyAhPT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXREYXRhQmFzZWRPblJvbGUoZnJvbSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHJvbGVJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncm9sZWlkJykudmFsdWUubWFwKGEgPT4gYS5pZCk7XHJcbiAgICBpZiAocm9sZUlkcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lZGl0UGFnZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgICAvLyBsb29wIHRoZSByb2xlIGlkc1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvbGVJZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29uZmlnID0gdGhpcy5yb2xlQWRkZWREYXRhLmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSByb2xlSWRzW2pdKTtcclxuICAgICAgICB0aGlzLmdldE9yZ0lkKHBhZ2VDb25maWcpO1xyXG4gICAgICAgIGlmIChmcm9tID09PSAnZmllbGQnKSB7XHJcbiAgICAgICAgICB0aGlzLmVkaXRQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucm9sZVBvbGljeUdyb3VwQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MsIGZyb20pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChyb2xlSWRzLmxlbmd0aCA9PT0gaiArIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TGV2ZWxBY2Nlc3MoJzInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5nZXRDaGVja1JvbGVQb2xpY3lHcm91cChwYWdlQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzZXRGb3JtKCcyJyk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiAnMicgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRPcmdJZChwYWdlQ29uZmlnKSB7XHJcbiAgICBpZiAocGFnZUNvbmZpZz8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMub3JnYW5pc2F0aW9uaWQgPSBwYWdlQ29uZmlnWzBdPy5vcmdhbml6YXRpb25pZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENoZWNrUm9sZVBvbGljeUdyb3VwKHBhZ2VDb25maWcpIHtcclxuICAgIGlmIChwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxQYWdlUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5yb2xlUG9saWN5R3JvdXBDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBwQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuICAgICAgaWYgKHBBY2Nlc3MgIT09ICcxJykge1xyXG4gICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucm9sZVBvbGljeUdyb3VwQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRSb2xlQW5kUG9saWN5RGF0YShmcm9tID0gbnVsbCkge1xyXG4gICAgY29uc3QgdXNlcklkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCd1c2VyaWQnKS52YWx1ZS5tYXAoYSA9PiBhLmlkKTtcclxuICAgIGlmICh1c2VySWRzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmVkaXRQYWdlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgICAgY29uc3QgcCA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1sncGFnZUxldmVsRGF0YSddO1xyXG4gICAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICAgIC8vIGxvb3AgdGhlIHJvbGUgaWRzXHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdXNlcklkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VDb25maWcgPSB0aGlzLnVzZXJMaXN0LmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSB1c2VySWRzW2pdKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICAgICAgdGhpcy5lZGl0UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncywgZnJvbSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJZHMubGVuZ3RoID09PSBqICsgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMZXZlbEFjY2VzcygnMicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmdldENoZWNrUG9saWN5TGV2ZWxGaWVsZChwYWdlQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzZXRGb3JtKCcxJyk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiAnMScgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldENoZWNrUG9saWN5TGV2ZWxGaWVsZChwYWdlQ29uZmlnKSB7XHJcbiAgICBpZiAocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBwQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuICAgICAgaWYgKHBBY2Nlc3MgIT09ICcxJykge1xyXG4gICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRGb3JtKGlkID0gbnVsbCwgY2xlYXIgPSBudWxsKSB7XHJcbiAgICB0aGlzLnN1Yk1vZHVsZUxpc3QgPSB0aGlzLnBhZ2VEYXRhID0gdGhpcy5zZWxlY3RlZFBhZ2VEYXRhID0gW107XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxDaGVja0NvdW50ID0gW107XHJcbiAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gW107XHJcbiAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmVuYWJsZXNhdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGUgPSB0cnVlO1xyXG4gICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBQYWdlcyA9IFtdO1xyXG4gICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9ICcnO1xyXG4gICAgdGhpcy5zZWxlY3RlZE5hbWUgPSAnJztcclxuICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IFtdO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5yZXNldCgpO1xyXG4gICAgaWYgKGlkICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiBpZCB9KTtcclxuICAgIH0gZWxzZSBpZiAoY2xlYXIgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5BZGRDb21wb25lbnQucmVzZXRGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdExpc3QoKSB7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvcGFnZXMvcmJhYy9wYWdlLWFjY2Vzcy9wYWdlLWFjY2Vzcy1saXN0Jyk7XHJcbiAgfVxyXG5cclxuICBzYXZlQWNjZXNzUGF0Y2hpbmcoKSB7XHJcbiAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKT8udmFsdWUgPT09ICcyJykge1xyXG4gICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHBwSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlO1xyXG4gICAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICAgIGlmIChwcElkPy5sZW5ndGgpIHtcclxuICAgICAgICBwcElkLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZE9iaiA9IHsgcGFnZWlkOiBlbGVtZW50Py5wYWdlaWQsIGFjY2VzczogZWxlbWVudD8ucGFnZUFjY2VzcyB9O1xyXG4gICAgICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5wdXNoKHNlbGVjdGVkT2JqKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5hbGVydC5zdWNjZXNzKCdUZW1wb3JhcmlseSBzYXZlZCBEYXRhIGZvciBjaGFuZ2VzJyk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VGaWVsZEFjY2VzcyhfaW5kZXgpIHtcclxuICAgIGNvbnN0IGFjY2Vzc0FycmF5ID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZpZWxkTGV2ZWxEYXRhJykudmFsdWUubWFwKGVsID0+IGVsLmFjY2Vzcyk7XHJcbiAgICBsZXQgbWF4T2NjID0geyBlbGVtZW50OiBudWxsLCBvY2N1cmVkOiAwIH07XHJcbiAgICBmaWVsZFZhbHVlLnJlZHVjZSgoYWNjLCBlbCkgPT4ge1xyXG4gICAgICBhY2NbZWxdID0gYWNjW2VsXSA/IGFjY1tlbF0gKyAxIDogMTtcclxuICAgICAgaWYgKGFjY1tlbF0gPiBtYXhPY2Mub2NjdXJlZCkge1xyXG4gICAgICAgIG1heE9jYyA9IHsgZWxlbWVudDogZWwsIG9jY3VyZWQ6IGFjY1tlbF0gfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwge30pO1xyXG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5yYmFjRm9ybVxyXG4gICAgICAuZ2V0KCdwYWdlTGV2ZWxEYXRhJylcclxuICAgICAgLnZhbHVlLmZpbmRJbmRleChlbCA9PiBlbC5wYWdlaWQgPT09IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpLnZhbHVlWzBdLnBhZ2VJZCk7XHJcbiAgICBpZiAocGFnZUluZGV4ID4gLTEpIHtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnBhZ2VOYW1lKSxcclxuICAgICAgICAgIHBhZ2VpZDogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlaWQpLFxyXG4gICAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKG1heE9jYy5lbGVtZW50ID8gbWF4T2NjLmVsZW1lbnQgOiAnMicpXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgYWNjZXNzQXJyYXkucmVtb3ZlQXQocGFnZUluZGV4KTtcclxuICAgICAgY29uc3QgaXNFeGlzdCA9IHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcy5maW5kSW5kZXgoXHJcbiAgICAgICAgZWwgPT4gZWwucGFnZWlkID09PSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0ucGFnZWlkXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpc0V4aXN0ID4gLTEpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMuc3BsaWNlKGlzRXhpc3QsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VQYWdlQWNjZXNzKGluZGV4KSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtpbmRleF07XHJcbiAgICBjb25zdCBwYWdlTGV2ZWxEYXRhID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBpc0V4aXN0ID0gdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzPy5maW5kSW5kZXgoZWwgPT4gZWw/LnBhZ2VpZCA9PT0gc2VsZWN0ZWRWYWx1ZS5wYWdlaWQpO1xyXG4gICAgaWYgKGlzRXhpc3QgPiAtMSkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXNbaXNFeGlzdF0ucGFnZUFjY2VzcyA9IHNlbGVjdGVkVmFsdWUucGFnZUFjY2VzcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcy5wdXNoKHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlbGVjdGVkVmFsdWUucGFnZUFjY2VzcyA9PT0gJzQnKSB7XHJcbiAgICAgIGNvbnN0IGNvbmRpdGlvbkNvbnRyb2wgPSBwYWdlTGV2ZWxEYXRhLmF0KGluZGV4KS5nZXQoJ2NvbmRpdGlvbicpO1xyXG4gICAgICBjb25kaXRpb25Db250cm9sLnNldFZhbHVlKCdhbHdheXMnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiIsIjxhcHAtYWxlcnQ+PC9hcHAtYWxlcnQ+XHJcbjxkaXYgY2xhc3M9XCJyb3cgcmJhYy1jYXJkXCI+XHJcbiAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgPG1hdC1jYXJkIGNsYXNzPVwibWF0LWNhcmRcIj5cclxuICAgICAgPG1hdC1jYXJkLWNvbnRlbnQgY2xhc3M9XCJwLTJcIj5cclxuICAgICAgICA8Zm9ybSBbZm9ybUdyb3VwXT1cInJiYWNGb3JtXCI+XHJcbiAgICAgICAgICA8YXBwLW1hbmFnZS1hY2Nlc3MtcmFkaW8gKGFjY2Vzc0J5KT1cImFjY2Vzc0J5KCRldmVudClcIiAodXNlckRyb3Bkb3duKT1cInVzZXJEcm9wZG93bigkZXZlbnQpXCJcclxuICAgICAgICAgICAgKHJvbGVEcm9wZG93bik9XCJyb2xlRHJvcGRvd24oJGV2ZW50KVwiIChwb2xpY3lEcm9wZG93bik9XCJwb2xpY3lEcm9wZG93bigkZXZlbnQpXCJcclxuICAgICAgICAgICAgKGRyb3BEb3duU2VsZWN0ZWRWYWx1ZXMpPVwiZHJvcERvd25TZWxlY3RlZFZhbHVlcygkZXZlbnQpXCI+PC9hcHAtbWFuYWdlLWFjY2Vzcy1yYWRpbz5cclxuXHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJyYWRpby10aXRsZSBtYi0yXCI+UGFnZSBBY2Nlc3MgTWFuYWdlbWVudDwvaDM+XHJcbiAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJtYXQtY2FyZFwiPlxyXG4gICAgICAgICAgICA8bWF0LWNhcmQtY29udGVudCBjbGFzcz1cInAtMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItM1wiICpuZ0lmPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5Nb2R1bGVzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPGFuZ3VsYXIyLW11bHRpc2VsZWN0IFtkYXRhXT1cIm1vZHVsZUxpc3RcIiBbc2V0dGluZ3NdPVwibW9kdWxlRHJvcGRvd25TZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9XCJsb2FkU3ViTW9kdWxlKCdjbGljaycpXCIgb25EZVNlbGVjdD1cInJlbW92ZVN1Yk1vZHVsZSgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEFsbD1cImxvYWRTdWJNb2R1bGUoJ2NsaWNrJylcIiBvbkRlU2VsZWN0QWxsPVwicmVtb3ZlQWxsU3ViTW9kdWxlKClcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cIm1vZHVsZVwiPjwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItM1wiICpuZ0lmPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5TdWIgTW9kdWxlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxhbmd1bGFyMi1tdWx0aXNlbGVjdCBbZGF0YV09XCJzdWJNb2R1bGVMaXN0XCIgW3NldHRpbmdzXT1cInN1Ym1vZHVsZURyb3Bkb3duU2V0dGluZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PVwibG9hZFN1Yk1vZHVsZVBhZ2UoJ2NsaWNrJylcIiBvbkRlU2VsZWN0PVwicmVtb3ZlU3ViTW9kdWxlUGFnZSgkZXZlbnQsICdzdWJtb2R1bGUnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RBbGw9XCJsb2FkU3ViTW9kdWxlUGFnZSgnY2xpY2snKVwiIG9uRGVTZWxlY3RBbGw9XCJyZW1vdmVBbGxTdWJNb2R1bGVQYWdlKClcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInN1Ym1vZHVsZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8L2FuZ3VsYXIyLW11bHRpc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlXCI+UGFnZXM8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8YW5ndWxhcjItbXVsdGlzZWxlY3QgW2RhdGFdPVwicGFnZXNMaXN0XCIgW3NldHRpbmdzXT1cInBhZ2VEcm9wZG93blNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAob25TZWxlY3QpPVwicG9wdWxhdGVQYWdlKCdjbGljaycsdHJ1ZSwkZXZlbnQpXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VcIlxyXG4gICAgICAgICAgICAgICAgICAgIChvbkRlU2VsZWN0KT1cInBvcHVsYXRlUGFnZSgnY2xpY2snLGZhbHNlLCRldmVudClcIiAob25TZWxlY3RBbGwpPVwicG9wdWxhdGVQYWdlKCdjbGljaycsdHJ1ZSwkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAob25EZVNlbGVjdEFsbCk9XCJyZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKVwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VMaXN0XCI+PC9hbmd1bGFyMi1tdWx0aXNlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpby10aXRsZSBkLWJsb2NrIHJlcXVpcmVkXCI+UHJvdmlkZSBBY2Nlc3MgYnkgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPG1hdC1yYWRpby1ncm91cCBmb3JtQ29udHJvbE5hbWU9XCJwcm92aWRlQWNjZXNzXCIgKGNoYW5nZSk9XCJzaG93TGV2ZWxBY2Nlc3MoJGV2ZW50LnZhbHVlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiMVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxcIj5QYWdlIExldmVsJm5ic3A7Jm5ic3A7PC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdfRklFTERfTEVWRUxcIj5GaWVsZCBMZXZlbDwvbWF0LXJhZGlvLWJ1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9tYXQtcmFkaW8tZ3JvdXA+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZpZWxkTGV2ZWxBY2Nlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5TZWxlY3QgUGFnZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBpZD1cInNlbGVjdHBhZ2VcIiBhcmlhTGFiZWxsZWRCeT1cInNlbGVjdHBhZ2VcIiBbb3B0aW9uc109XCJzZWxlY3RlZFBhZ2VEYXRhXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJdPVwidHJ1ZVwiIFtzaG93Q2xlYXJdPVwiZmllbGRMZXZlbENoZWNrQ291bnQgJiYgZmllbGRMZXZlbENoZWNrQ291bnQ/Lmxlbmd0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIiAob25DaGFuZ2UpPVwiZ2V0RmllbGRMZXZlbExpc3QoJ2NsaWNrJylcIiBmb3JtQ29udHJvbE5hbWU9XCJmcGFnZXNcIiBvcHRpb25MYWJlbD1cInBhZ2VuYW1lXCIgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwYWdlXCIgY2xhc3M9XCJkZC1zdGFuZC1zaXplXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBwVG9vbHRpcD1cInt7aXRlbT8ucGFnZW5hbWV9fVwiIHRvb2x0aXBQb3NpdGlvbj1cInRvcFwiIGNsYXNzPVwidGV4dC10cnVuY2F0ZVwiPiB7eyBpdGVtPy5wYWdlbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3sgb2JqZWN0LnBhZ2VuYW1lIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJwYWdlTGV2ZWxBY2Nlc3NcIiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0zIHBhZ2VMZXZlbEFjY2Vzc1RhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwicGFnZUxldmVsQWNjZXNzVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtbGVmdFwiPlBhZ2UgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlI8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SVzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXRDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbmU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5WYWxpZGl0eTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyIGZvcm1BcnJheU5hbWU9XCJwYWdlTGV2ZWxEYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGZBY2Nlc3Mgb2YgcmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJylbJ2NvbnRyb2xzJ107IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBdPVwicmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJylbJ2NvbnRyb2xzJ11baV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImJvcmRlcjogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHdpZHRoOiAzNjBweFwiIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFnZU5hbWVcIiBwbGFjZWhvbGRlcj1cInBhZ2VsZXZlbGRhdGFcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCAoY2hhbmdlKT1cImNoYW5nZVBhZ2VBY2Nlc3MoaSlcIiBmb3JtQ29udHJvbE5hbWU9XCJwYWdlQWNjZXNzXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCIzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGkpXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfUkVBRF9XUklURVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpKVwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VBY2Nlc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1JFQURfV1JJVEVfREVMRVRFXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCI1XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGkpXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfTk9ORVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpPy52YWx1ZVtpXT8uYWN0aXZlVmVyc2lvbj8uZ3JpZGNvbmZpZyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpPy52YWx1ZVtpXT8uZ3JpZGNvbmZpZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJjb25kaXRpb25zXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjb25kaXRpb25cIiBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICc0J1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJrZXlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1pbnB1dE51bWJlciB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJ2YWxpZGl0eVwiICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZWFkb25seV09XCJmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCIgW21pbl09XCIxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1ZBTElESVRZXCIgZm9ybUNvbnRyb2xOYW1lPVwidmFsaWRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDUwcHg7IG1hcmdpbi1sZWZ0OiAxNXB4XCI+PC9wLWlucHV0TnVtYmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2VzcylcIiBzdHlsZUNsYXNzPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmYWxsYmFja1RvXCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICczJyB8fCBmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiIFtzdHlsZV09XCJ7ICdtYXJnaW4tbGVmdCc6ICcxNXB4JyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiICpuZ0lmPVwic2hvd0ZpZWxkR3JpZCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCAmJiBmaWVsZExldmVsQWNjZXNzICYmIGZpZWxkUGFnZUxldmVsPy5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJmaWVsZExldmVsQWNjZXNzVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtbGVmdFwiPkZpZWxkIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJlYWQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPldyaXRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5XCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBmb3JtQXJyYXlOYW1lPVwiZmllbGRMZXZlbERhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBmQWNjZXNzIG9mIHJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBbZm9ybUdyb3VwTmFtZV09XCJpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZkRhdGFbaV1bJ2Rpc3BsYXluYW1lJ10gfX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwiYXNzZXRpZFwiIHZhbHVlPVwie3sgZkRhdGFbaV1bJ2lkJ10gfX1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc1wiIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50KVwiIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIzXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJhY2Nlc3NcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudClcIiB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImNvbmRpdGlvbnNcIiBzdHlsZUNsYXNzPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnXCIgZm9ybUNvbnRyb2xOYW1lPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIGNvbmRpdGlvblwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cInZhbGlkaXR5XCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW21pbl09XCIxXCIgZm9ybUNvbnRyb2xOYW1lPVwidmFsaWRpdHlcIiBbcmVhZG9ubHldPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiA1MHB4OyBtYXJnaW4tbGVmdDogMTVweFwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZ2V0RmFsbGJhY2tQZXJtaXNzaW9uKGZBY2Nlc3MpXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZmFsbGJhY2tUb1wiICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgcGVybWlzc2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0JyB8fCBmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnMydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCIgW3N0eWxlXT1cInsgJ21hcmdpbi1sZWZ0JzogJzE1cHgnIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8IS0tIFRoaXMgY29kZSBmb3IgZmllbGQgYWNjZXNzIGZvciBncmlkIHBhZ2UgLS0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiICpuZ0lmPVwic2hvd0ZpZWxkR3JpZCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCAmJiBmaWVsZExldmVsQWNjZXNzICYmIGZpZWxkUGFnZUxldmVsPy5sZW5ndGggPT09IDBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGFibGUgYXJpYS1kZXNjcmliZWRieT1cImZpZWxkTGV2ZWxBY2Nlc3NUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPiAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtbGVmdFwiPkZpZWxkIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+UmVhZDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPldyaXRlPC90aD4gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiICpuZ0lmPVwic2hvd0ZpZWxkVmFsaWRpdHlcIj5WYWxpZGl0eTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyIGZvcm1BcnJheU5hbWU9XCJmaWVsZExldmVsRGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGZBY2Nlc3Mgb2YgcmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpWydjb250cm9scyddOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBOYW1lXT1cImlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBmRGF0YVtpXVsnZGlzcGxheW5hbWUnXSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cImFzc2V0aWRcIiB2YWx1ZT1cInt7IGZEYXRhW2ldWydpZCddIH19XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VJZFwiIG5hbWU9XCJwZXJtaXNzaW9uZ3JvdXBfe3tpfX1cIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc1wiIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50KVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiM1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCIyXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc1wiIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50KVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlID0gXCI0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJzaG93RmllbGRWYWxpZGl0eVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJjb25kaXRpb25zXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvblwiIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJ2YWxpZGl0eVwiICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIiBbbWluXT1cIjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInZhbGlkaXR5XCIgW3JlYWRvbmx5XT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiIHN0eWxlPVwid2lkdGg6IDUwcHg7IG1hcmdpbi1sZWZ0OiAxNXB4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImdldEZhbGxiYWNrUGVybWlzc2lvbihmQWNjZXNzKVwiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIiBmb3JtQ29udHJvbE5hbWU9XCJmYWxsYmFja1RvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzQnIHx8IGZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICczJ1wiIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJrZXlcIiBbc3R5bGVdPVwieyAnbWFyZ2luLWxlZnQnOiAnMTVweCcgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICAgICAgICA8L21hdC1jYXJkPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtM1wiICpuZ0lmPVwiIWZpZWxkTGV2ZWxBY2Nlc3MgJiYgc2VsZWN0ZWRBY2Nlc3MgPT09ICdyb2xlJ1wiPlxyXG4gICAgICAgICAgPHAtYWNjb3JkaW9uIGNsYXNzPVwidy1mdWxsIGR5bmFtaWMtc2VhcmNoXCIgaWNvblBvcz1cImVuZFZhbFwiPlxyXG4gICAgICAgICAgICA8cC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBoZWFkLXRleHQgZ2FwLTIgdy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkXCI+UG9saWN5IEdyb3VwcyBhc3NvY2lhdGVkIHdpdGgge3sgc2VsZWN0ZWROYW1lIH19IFJvbGU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMVwiICpuZ0Zvcj1cImxldCBwb2xpY3lHcm91cCBvZiBwb2xpY3lHcm91cFBhZ2VzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFkaW8tdGl0bGUgbWItMlwiPlBvbGljeSBHcm91cDoge3sgcG9saWN5R3JvdXA/LnBvbGljeWdyb3VwPy5wb2xpY3lncm91cG5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gSXQgc2hvd3MgYXNzb2NpYXRlZCBSb2xlcyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD1cInBvbGljeUdyb3VwVGFibGVcIiBhcmlhLWRlc2NyaWJlZGJ5PVwicG9saWN5R3JvdXBUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtbGVmdFwiPlBhZ2UgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXRDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBwYWdlIG9mIHBvbGljeUdyb3VwPy5wb2xpY3lncm91cHBhZ2UgICAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN0eWxlPVwiYm9yZGVyOiBub25lOyBwb2ludGVyLWV2ZW50czogbm9uZTsgd2lkdGg6IDM2MHB4XCIgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInBhZ2U/LnBhZ2U/LmFjdGl2ZVZlcnNpb24/LnBhZ2VuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cInBhZ2U/LnBhZ2VbMF0/LmFjdGl2ZVZlcnNpb24/LnBhZ2VuYW1lXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy5yZWFkXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8ucmVhZHdyaXRlXCIgdHlwZT1cInJhZGlvXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uZnVsbFwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uaGlkZVwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInBvbGljeUdyb3VwUGFnZXM/Lmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiBjb2xzcGFuPVwiNFwiPk5vIHBhZ2VzIGFzc29jaWF0ZWQgd2l0aCBQb2xpY3kgR3JvdXAuPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgPC9tYXQtY2FyZD5cclxuICAgICAgICAgICAgPC9wLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgIDwvcC1hY2NvcmRpb24+XHJcbiAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtM1wiICpuZ0lmPVwicG9saWN5R3JvdXBSb2xlUGFnZXMubGVuZ3RoICYmICFmaWVsZExldmVsQWNjZXNzICYmIHNlbGVjdGVkQWNjZXNzID09PSAncG9saWN5Z3JvdXAnXCI+XHJcbiAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgZHluYW1pYy1zZWFyY2hcIiBpY29uUG9zPVwiZW5kVmFsXCI+XHJcbiAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyIGhlYWQtdGV4dCBnYXAtMiB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5Sb2xlcyBhc3NvY2lhdGVkIHdpdGgge3sgc2VsZWN0ZWROYW1lIH19IFBvbGljeSBHcm91cDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZC1jb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0xXCIgKm5nRm9yPVwibGV0IHJvbGUgb2YgcG9saWN5R3JvdXBSb2xlUGFnZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYWRpby10aXRsZSBtYi0yXCI+Um9sZToge3sgcm9sZT8ucm9sZT8ubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBJdCBzaG93cyBhc3NvY2lhdGVkIHBvbGljeWdyb3VwcyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD1cInBvbGljeUdyb3VwVGFibGVcIiBhcmlhLWRlc2NyaWJlZGJ5PVwicG9saWN5R3JvdXBUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtbGVmdFwiPlBhZ2UgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXRDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBwYWdlIG9mIHJvbGU/LnJvbGVwYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImJvcmRlcjogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHdpZHRoOiAzNjBweFwiIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwYWdlPy5wYWdlPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJwYWdlPy5wYWdlWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8ucmVhZFwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LnJlYWR3cml0ZVwiIHR5cGU9XCJyYWRpb1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmZ1bGxcIiB0eXBlPVwicmFkaW9cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmhpZGVcIiB0eXBlPVwicmFkaW9cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwb2xpY3lHcm91cFJvbGVQYWdlcz8ubGVuZ3RoID09PSAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiIGNvbHNwYW49XCI0XCI+Tm8gcGFnZXMgYXNzb2NpYXRlZCB3aXRoIFJvbGUuPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgPC9tYXQtY2FyZD5cclxuICAgICAgICAgICAgPC9wLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgIDwvcC1hY2NvcmRpb24+XHJcbiAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBtdC0zXCIgKm5nSWYgPSBcIm11bHRpUGFnZUFjY2Vzc1wiPlxyXG4gICAgICAgICAgPCEtLSA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG1yLTJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfQkFDS1wiIChjbGljayk9XCJyZWRpcmVjdExpc3QoKVwiPkJhY2s8L2J1dHRvbj4gLS0+XHJcbiAgICAgICAgICA8IS0tIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWNhbmNlbCBtci0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX0NMRUFSXCIgKGNsaWNrKT1cInJlc2V0Rm9ybSgpXCI+Q2xlYXI8L2J1dHRvbj4gLS0+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1NBVkVcIiAoY2xpY2spPVwic3VibWl0QWxlcnQoKVwiIFtkaXNhYmxlZF09XCIocGFnZWxldmVsYWNjZXNzc2F2ZWRpc2FibGUgJiYgcGFnZWxldmVsYWNjZXNzY291bnRkaXNhYmxlKSB8fCAoIXRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgfHwgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudD8ubGVuZ3RoID09PSAwKSB8fCAoZW5hYmxlc2F2ZSAmJiBwYWdlbGV2ZWxhY2Nlc3Njb3VudCAmJiBwYWdlbGV2ZWxhY2Nlc3Njb3VudD8ubGVuZ3RoID4gMClcIj5TYXZlPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgbXQtM1wiICpuZ0lmID0gXCIhbXVsdGlQYWdlQWNjZXNzXCI+XHJcbiAgICAgICAgICA8IS0tIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXItMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19CQUNLXCIgKGNsaWNrKT1cInJlZGlyZWN0TGlzdCgpXCI+QmFjazwvYnV0dG9uPiAtLT5cclxuICAgICAgICAgIDwhLS0gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfQ0xFQVJcIiAoY2xpY2spPVwicmVzZXRGb3JtKClcIj5DbGVhcjwvYnV0dG9uPiAtLT5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfU0FWRVwiIChjbGljayk9XCJzdWJtaXRBbGVydCgpXCIgW2Rpc2FibGVkXT1cIigobXVsdGlQYWdlQWNjZXNzKSB8fCAoZmllbGRMZXZlbENoZWNrQ291bnQgJiYgZmllbGRMZXZlbENoZWNrQ291bnQ/Lmxlbmd0aCA9PT0gMCkgfHwgKGVuYWJsZXNhdmUgJiYgZmllbGRMZXZlbENoZWNrQ291bnQgJiYgZmllbGRMZXZlbENoZWNrQ291bnQ/Lmxlbmd0aCA+IDApIHx8ICghcGFnZWxldmVsYWNjZXNzY291bnQgfHwgcGFnZWxldmVsYWNjZXNzY291bnQ/Lmxlbmd0aCA9PT0gMCkpXCI+U2F2ZTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICA8L21hdC1jYXJkPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwic3VibWl0QWxlcnRcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbGdcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlBhZ2UgQWNjZXNzIC0gV2FybmluZzwvaDU+XHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICBGaWVsZCBMZXZlbCBBY2Nlc3MgaXMgYWxyZWFkeSBwcmVzZW50IGZvciB0aGlzIFBhZ2UuIE1vZGlmeWluZyB0aGUgUGFnZSBMZXZlbCBBY2Nlc3Mgd2lsbCByZW1vdmUgYWxsIEZpZWxkIExldmVsXHJcbiAgICAgICAgQWNjZXNzLiBEbyB5b3Ugd2FudCB0byBwcm9jZWVkP1xyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gZGVsZXRlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiAoY2xpY2spPVwic2F2ZVJiYWMoKVwiPlxyXG4gICAgICAgICAgICBZZXNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwiZ2V0U2VsZWN0ZWRQYWdlcygpXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXX0=